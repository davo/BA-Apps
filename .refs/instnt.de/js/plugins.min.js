// make it safe to use console.log always
(function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;!!(r=n.pop());)e[r]=e[r]||t})(function(){try{console.log();return window.console}catch(e){return window.console={}}}());var instnt={},lightboxVisibility=!1;instnt.accordion=function(e){var t=function(){e(".trigger").not(".trigger_active").next(".toggle_container").hide();e(".trigger").on("click",function(){var t=e(this);if(t.hasClass("trigger_active")){t.next(".toggle_container").slideToggle("slow");t.removeClass("trigger_active");t.html("MORE INFORMATION +")}else{e(".trigger_active").next(".toggle_container").slideToggle("slow");e(".trigger_active").removeClass("trigger_active");t.next(".toggle_container").slideToggle("slow");t.addClass("trigger_active");t.html("CLOSE INFORMATION â€“")}return!1})};return{init:t}}(jQuery);instnt.slider=function(e){var t,n,r=function(){e("#closeBtn, #logoWhite").on("click",function(){e.address.value("CASES")});e(document).keyup(i);n=window.setInterval(s,1e3);return!1},i=function(n){if(lightboxVisibility){console.log(n.keyCode);switch(n.keyCode){case 39:t.next();break;case 32:t.next();break;case 37:t.prev();break;case 8:t.prev();break;case 27:e.address.value("CASES")}}},s=function(){if(document.getElementById("slider")){window.clearInterval(n);e("#bgContainer").css("visibility","hidden");t=new Swipe(document.getElementById("slider"),{continuous:!1,disableScroll:!1,callback:function(e){a()}});a();e("#overlay").removeClass("hideOverlay");e("#next").on("click",function(){t.next()});e("#prev").on("click",function(){t.prev()});e.mousestopDelay=5e3;e("#lightboxSlider").on({click:function(){e("#overlay").toggleClass("hideOverlay")},mousestop:function(){e("#overlay").addClass("hideOverlay")},mousemove:function(){e("#overlay").removeClass("hideOverlay")}});e("#preloader").fadeOut()}else console.log("preloader: loding "+t);return!1},o=function(){lightboxVisibility=!0;e("#lightbox").removeClass("hide");return!1},u=function(){window.clearInterval(n);lightboxVisibility=!1;e("#lightbox").html("");t=undefined;instnt.siteNavigation.hideContent();window.setTimeout("instnt.siteNavigation.showContent('#CASES')",1e3);e(document).width()>=768&&e("#mainnav, #rttlogo, #award, #nominee").delay(2e3).fadeIn();e("#bgContainer").css("visibility","visible");e(document).unbind("keyup",i);e("#lightboxSlider").unbind("click","mousestop","mousemove");return!1},a=function(){t.getPos()>0?e("#prev").css({opacity:"1",visibility:"visible"}):e("#prev").css({opacity:"0",visibility:"hidden"});t.getPos()<e("#slider ul li").length-1?e("#next").css({opacity:"1",visibility:"visible"}):e("#next").css({opacity:"0",visibility:"hidden"});return!1};return{init:r,hideLightbox:u,viewLightbox:o}}(jQuery);instnt.siteNavigation=function(e){var t=function(){n();e("#CASES h1, #INSIGHTS h1, #JOBS h1, #CONTACT h1, #IMPRINT h1, #DISCLAIMER h1, #lightbox h1").lettering("words");e(window).resize(function(){if(e.address.value()!="/"&&e(document).width()<768){e("#mainnav").hide();e("#backToHome").css("display","block")}else{e("#mainnav").show();e("#backToHome").css("display","none")}});e("#logo, #backToHome").on("click",function(){n();e.address.value("")});e("#navCASES, #navINSIGHTS, #navJOBS, #navCONTACT,#navIMPRINT, #navDISCLAIMER ").on("click",function(){e.address.value(e(this).attr("id").substr(3));return!1});e("#CASES").on("click","a.gallery",function(){try{e.address.value("CASES/GALLERY/"+e(this).attr("data-scr"))}catch(t){console.log(t)}return!1});e.address.change(function(t){setTimeout(scrollTo,0,0,1);e.address.value()!="/"?e.address.title("INSTNT with RTT - "+t.pathNames[0]):e.address.title("INSTNT with RTT");e(".selected").removeClass("selected");e("#nav"+t.pathNames).addClass("selected");if(e.address.value()!="/"&&e(document).width()<768){e("#mainnav").hide();e("#backToHome").css("display","block")}else if(e.address.value()=="/"&&e(document).width()<768){e("#mainnav").show();e("#backToHome").css("display","none")}if(t.pathNames[1]!="GALLERY")if(lightboxVisibility)instnt.slider.hideLightbox();else{n();t.pathNames!=""&&r("#"+t.pathNames)}else if(t.pathNames[2]){e("#preloader").show();n();e("#mainnav, #rttlogo, #award, #nominee").fadeOut();instnt.slider.viewLightbox();var i=t.pathNames[2],s,o=e.get(i,function(t){s=t;e("#lightbox").html(s);instnt.slider.init()})}});return!1},n=function(){e("#CASES, #INSIGHTS, #JOBS, #CONTACT, #IMPRINT, #DISCLAIMER, #lightbox, section .content, #CASES h1 span, #INSIGHTS h1 span, #JOBS h1 span, #CONTACT h1 span, #IMPRINT h1 span, #DISCLAIMER h1 span, #lightbox h1 span").addClass("hide");return!1},r=function(t){e(t).removeClass("hide").find("section .content, h1 span").removeClass("hide");return!1};return{init:t,hideContent:n,showContent:r}}(jQuery);instnt.backgroundAnimation=function(e){var t,n,r,i,s,o=function(e,t,n){var r=["webkit","moz","MS","o",""];for(var i=0;i<r.length;i++){r[i]||(t=t.toLowerCase());e.addEventListener(r[i]+t,n,!1)}},u=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")||"fail...",r=n.split("(")[1];r=r.split(")")[0];r=r.split(",");var i=r[0],s=r[1],o=Math.sqrt(i*i+s*s);return o},a=function(){if(Modernizr.csstransforms3d&&Modernizr.rgba&&Modernizr.cssanimations&&Modernizr.cssgradients&&Modernizr.csstransitions){n=document.getElementById("world");s=document.getElementById("viewport");r=0;i=0;t=u(n);e("body").bind({mousemove:h,touchmove:p,click:l})}else f()},f=function(){var e="11.1.0",t="",n={},r={};r.quality="low";r.bgcolor="#ffffff";r.play="true";r.loop="true";r.wmode="opaque";r.scale="noborder";r.menu="true";r.devicefont="false";r.salign="";r.allowscriptaccess="sameDomain";var i={};i.id="instnt";i.name="instnt";i.align="middle";swfobject.embedSWF("instnt.swf","swfContainer","100%","100%",e,t,n,r,i)},l=function(t){e("#world").addClass("spinn");o(n,"AnimationEnd",c)},c=function(){e("#world").removeClass("spinn")},h=function(e){r=-(.25-e.clientX/window.innerWidth)*90;i=(.4-e.clientY/window.innerHeight)*90;d()},p=function(t){var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];r=-(.25-n.pageX/window.innerWidth)*90;i=(.4-n.pageY/window.innerHeight)*90;d();if(e.address.value()!="/")return!0;t.preventDefault()},d=function(){e("#world").css({"-webkit-transform":"scaleX( "+t+") scaleY( "+t+")  rotateX( "+i+"deg) rotateY( "+r+"deg)","-moz-transform":"scaleX( "+t+") scaleY( "+t+")  rotateX( "+i+"deg) rotateY( "+r+"deg)","-ms-transform":"scaleX( "+t+") scaleY( "+t+")  rotateX( "+i+"deg) rotateY( "+r+"deg)","-o-transform":"scaleX( "+t+") scaleY( "+t+")  rotateX( "+i+"deg) rotateY( "+r+"deg)",transform:"scaleX( "+t+") scaleY( "+t+")  rotateX( "+i+"deg) rotateY( "+r+"deg)"})};return{init:a}}(jQuery);