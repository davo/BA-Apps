var DataModel={},dataModel;
(function(a){DataModel.init=function(){this.puzzles=this.missions=null;dataModel=this};DataModel.getMissionData=function(){a.ajax({type:"GET",url:"http://api.daybreak2012.com/external/episodes/testing",jsonpCallback:"cb",success:function(a){a.status=="OK"?(dataModel.missions=a.data,dataModel.getPuzzleData()):alert("can't load data")},error:function(){alert("can't load data")},dataType:"jsonp"})};DataModel.getPuzzleData=function(){a.ajax({type:"GET",url:"http://api.daybreak2012.com/external/puzzles/testing",jsonpCallback:"cb",
success:function(a){a.status=="OK"?(dataModel.puzzles=a.data,app.dataLoaded()):alert("can't load data")},error:function(){alert("can't load data")},dataType:"jsonp"})}})(jQuery);var App={},dmaf,app;
(function(a){var g=a(window),b,e,f,i;App.init=function(){app=this;app.autoPlayTimeout=0;app.onWindowResize();app.initShareStuff();dmaf={soundEnabled:!1,soundEngine:null,dispatch:function(a){this.soundEnabled&&this.soundEngine.dispatch(a)}};DataModel.init();i=Modernizr.touch?a("#scroll-content-container"):a(window);var h=a(window);f=new app.Content;f.contentClosedSignal.add(app.onContentClosed);Modernizr.touch?(a("#bird-container").remove(),a(".scroll-nocanvas-section").each(function(){var d=a(this).find("img"),
c=a(this).attr("id"),c=c.charAt(c.length-1);c==9?d.attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/static/fallbackbg_"+c+"_2.jpg"):d.attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/static/fallbackbg_"+c+".jpg")}),b=new app.TouchNavigation(i,h),b.sectionChangedSignal.add(function(){f.closeAll()}),dataModel.getMissionData()):(Modernizr.canvas||(a(".scroll-nocanvas-section").each(function(){var d=a(this).find("img"),c=a(this).attr("id"),c=c.charAt(c.length-1);c==9?d.attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/static/fallbackbg_"+
c+"_2.jpg"):d.attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/static/fallbackbg_"+c+".jpg")}),a("#scroll-nocanvas-bg").show(),a("#scroll-canvas-container").remove()),b=new app.Navigation(i,h),b.sectionChangedSignal.add(function(a){(a=="home"||a=="secret"||a.indexOf("episode")!=-1)&&f.closeAll();clearTimeout(app.autoPlayTimeout)}),a.browser.msie&&a.browser.version<8?dataModel.getMissionData():(e=new app.Parallax,e.initComplete.add(function(){dataModel.getMissionData()}),e.init(),e.gotoNearestSectionSignal.add(function(){b.changePage()})),
g.resize(function(){app.onWindowResize()}));a("#home-episode-btn, #about-episode-btn").click(function(){app.gotoLatestEpisode();_gaq.push(["_trackEvent","Scroll Up ","Navigation Functions","Watch Chapters"])}).hover(function(){a(".home-episode-img").animate({top:"-10px"},100)},function(){a(".home-episode-img").animate({top:"0px"},300)})};App.onContentClosed=function(){dmaf&&dmaf.soundEnabled&&(dmaf.dispatch("resetVolume"),dmaf.dispatch(b.currentId))};App.gotoLatestEpisode=function(){b.changePage("doda_episode_5",
!0,function(){a("#doda_episode_5").trigger("click")})};App.dataLoaded=function(){f.init();a("#main").fadeIn(300);b.initInternalLinks();app.onWindowResize();a("#scroll-area").css("left",0);if(Modernizr.touch)b.changePage("home",!1),app.onWindowResize();else{a("#about").hide();var h=Math.max(1100,g.width())/1280;b.moveTo(!Modernizr.canvas?7E3*h:5201,!1,0,function(){b.changePage("home",!0,function(){a("#about").show();b.onScroll();if(getQueryString().test=="true")app.gotoLatestEpisode();else if(getQueryString().direct){var d=
"",c=getQueryString().direct;c.indexOf("chapter")!=-1?(d="doda_episode_"+c.substring(7,8),b.changePage(d,!0,function(){a("#"+d).trigger("click")})):(d=c,b.changePage(d,!0));_gaq.push(["_trackEvent","Navigation Functions","Deeplink",c])}else app.autoPlayTimeout=setTimeout(function(){_gaq.push(["_trackEvent","Scroll Up","Auto Play"]);b.changePage("doda_episode_1",!0,function(){a("#doda_episode_1").trigger("click")})},1E4)})});Modernizr.load({test:Modernizr.audio,yep:"js/libs/DMAF-min.js",complete:function(){if(Modernizr.audio)dmaf.soundEngine=
new DMAF.Framework,dmaf.soundEngine.addEventListener("loadComplete",app.onSoundsLoaded),dmaf.soundEnabled=!0,dmaf.dispatch("loadGlobal"),a("#sound-control").show().toggle(function(){dmaf.dispatch("lowerVolume");dmaf.soundEnabled=!1;a(this).addClass("sound-on");_gaq.push(["_trackEvent","Sound","To off"])},function(){dmaf.soundEnabled=!0;f.isOpen||(dmaf.dispatch("resetVolume"),dmaf.dispatch(b.currentId));a(this).removeClass("sound-on");_gaq.push(["_trackEvent","Sound","To on"])})}})}app.lastInit()};
App.onSoundsLoaded=function(){setTimeout(function(){dmaf.dispatch("home")},1E3)};App.lastInit=function(){a("#loader").remove();(new Image).src="http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda_on.png";a.browser.msie&&a.browser.version<8?(a("#share-google,#popup-share-google").remove(),a(".share-facebook").html("<iframe src='//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.daybreak2012.com&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21&amp;appId=302337129848993' scrolling='no' frameborder='0' style='border:none; overflow:hidden; width:300px; height:255px;' allowTransparency='true'></iframe>")):
function(a,d,c){var b=a.getElementsByTagName(d)[0];if(!a.getElementById(c))a=a.createElement(d),a.id=c,a.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=302337129848993",b.parentNode.insertBefore(a,b)}(document,"script","facebook-jssdk")};App.onWindowResize=function(){var b=Math.max(1100,g.width()),d=g.height();a(window).width()>1260?(a("#share-popup-button").stop().animate({top:"40px"},300),a("#footer-share").stop().animate({marginTop:"10px"},300)):(a("#share-popup-button").stop().animate({top:"0px"},
300),a("#footer-share").stop().animate({marginTop:"80px"},300));e&&e.updateSize(b,d)};App.trackGPlus=function(a){a.state=="on"&&_gaq.push(["_trackEvent","Share Site","GPlus"])};App.initShareStuff=function(){function b(a){a&&(a.target&&a.target.nodeName=="IFRAME"&&(opt_target=extractParamFromUri(a.target.src,"url")),_gaq.push(["_trackSocial","twitter","tweet",void 0]),_gaq.push(["_trackEvent","Share Site","Twitter"]))}a("#share-close-button").click(function(){a("#share-popup").css({left:"-9999px"})});
a("#share-popup-button").click(function(){dmaf.dispatch("buttonClick");a("#share-popup").css({left:"50%"});_gaq.push(["_trackEvent","Site Share Popup","Open","Footer"])});window.twttr=function(a,c,b){var e,f=a.getElementsByTagName(c)[0];if(!a.getElementById(b))return a=a.createElement(c),a.id=b,a.src="//platform.twitter.com/widgets.js",f.parentNode.insertBefore(a,f),window.twttr||(e={_e:[],ready:function(a){e._e.push(a)}})}(document,"script","twitter-wjs");twttr.ready(function(a){a.events.bind("tweet",
b)});a("#externalLinkATT").click(function(){_gaq.push(["_trackEvent","External ATT Link","ATT.com","External ATT Link"])});window.fbAsyncInit=function(){try{FB&&FB.Event&&FB.Event.subscribe&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a]);_gaq.push(["_trackEvent","Facebook Like","Facebook Like"])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial",
"facebook","send",a])}))}catch(a){}}}})(jQuery);
(function(a){function j(){d.isOpen=!1;d.contentClosedSignal.dispatch();a("#puzzle-app-button").appendTo("body");a("#puzzle-app-button").hide();var c=a(".small-app-button");c.find(".small-app-button-first").show();c.find(".small-app-button-sub").hide();if(d.tubePlayer)a("#features-menu").removeClass("feat-notselected"),a("#youtube-player-container").tubeplayer("stop"),d.tubePlayer=null,a("#movie-top-menu").hide().appendTo("body"),a("#movie-end").hide().appendTo("body"),a("#feature-info-layer").hide().appendTo("body");
a(document).unbind("keydown");l.hide();i.hide().css({position:"fixed",top:0});m.fadeOut(300)}function o(a){m.show().css("opacity",0).fadeTo(300,h.overlayOpacity,function(){l.show();a()})}function p(){i.show();$innerbox.empty();$superbox.css({position:"absolute",top:"-99999px"})}function q(){d.isOpen=!0;l.hide();a(document).unbind("keydown").bind("keydown",function(a){a.keyCode==27&&j()});$superbox.css({position:"static",top:0,opacity:0});a.browser.msie&&a.browser.version<8?$superbox.css({position:"relative",
top:"-50%"}):i.css({position:"absolute",top:r.scrollTop()+"px"});a(window).height()<i.height()&&i.css({position:"absolute",top:i.offset().top+10+"px"});h.beforeShow();$superbox.fadeTo(300,1);dmaf.dispatch("lowerVolume")}function u(){if(!d.elementsReady)m=a('<div id="superbox-overlay"></div>').appendTo("body").hide(),i=a('<div id="superbox-wrapper"></div>').appendTo("body").hide(),s=a('<div id="superbox-container"></div>').appendTo(i),$superbox=a('<div id="superbox"></div>').appendTo(s),$innerbox=
a('<div id="superbox-innerbox"></div>').appendTo($superbox),l=a('<p class="loading">'+h.loadTxt+"</p>").appendTo(s).hide(),m.add(i).add(v).unbind("click").bind("click",function(){j()}),$superbox.click(function(){}),d.elementsReady=!0}function t(a){try{a.focus(),a.moveTo(r.width()/2-275,r.height()/2-225)}catch(b){}}function w(a){a=a.match(/(\d+)/g);return new Date(a[0],a[1]-1,a[2])}var d,r=a(window),g,e,m,i,s,$superbox,v,l,h,x={boxId:"superbox",boxClasses:"",overlayOpacity:0.7,boxWidth:"600",boxHeight:"400",
movieWidth:850,movieHeight:478,loadTxt:"",closeTxt:"",beforeShow:function(){}};a("#externalLinkATT").click(function(){_gaq.push(["_trackEvent","External ATT Link","ATT.com","External ATT Link"])});App.Content=function(){d=this;this.isOpen=!1;this.progressInterval=null;this.featuresMenu=a("#features-menu").remove();this.dodaSelectedSignal=new signals.Signal;this.contentClosedSignal=new signals.Signal;this.currentEpisode=this.tubePlayer=null};App.Content.prototype.init=function(){h=a.extend({},x,h);
Modernizr.touch?(h.movieWidth=700,h.movieHeight=394,a("#home-logo").find("img").attr("src","img/logo-ipad.png")):a("#home-logo").find("img").attr("src","img/logo.png");this.episodesData=[{episode:"1",nielsen:"//secure-us.imrworldwide.com/cgi-bin/m?ci=att-ca&at=view&rt=banner&st=image&pc=ATT215464&ca=ATTDB2012&cr=A215464&ce=Daybreak2012&pr=iag.tfid,4201&pr=iag.cte,A215464&r=",quote:"Any sufficiently advanced technology<br>is indistinguishable from magic.",quote_ref:"ARTHUR C. CLARKE",features:[1,2,
5,6]},{episode:"2",nielsen:"//secure-us.imrworldwide.com/cgi-bin/m?ci=att-ca&at=view&rt=banner&st=image&pc=ATT215824&ca=ATTDB2012&cr=A215824&ce=Daybreak2012&pr=iag.tfid,4201&pr=iag.cte,A215824&r=",quote:"Men are only so good as their technical<br>developments allow them to be.",quote_ref:"GEORGE ORWELL",features:[1,2,5,6]},{episode:"3",nielsen:"//secure-us.imrworldwide.com/cgi-bin/m?ci=att-ca&at=view&rt=banner&st=image&pc=ATT215825&ca=ATTDB2012&cr=A215825&ce=Daybreak2012&pr=iag.tfid,4201&pr=iag.cte,A215825&r=",
quote:"However far modern science and techniques have fallen<br>short of their inherent possibilities, they have<br>taught mankind at least one lesson: Nothing is impossible.<br>",quote_ref:"LEWIS MUMFORD",features:[1,2,5,6]},{episode:"4",nielsen:"//secure-us.imrworldwide.com/cgi-bin/m?ci=att-ca&at=view&rt=banner&st=image&pc=ATT215826&ca=ATTDB2012&cr=A215826&ce=Daybreak2012&pr=iag.tfid,4201&pr=iag.cte,A215826&r=",quote:"One great hope lies in the fact that there is<br>a new consciousness in our World, particularly<br>among young people.",
quote_ref:"Mairead Corrigan Quote",features:[1,2,5,6]},{episode:"5",nielsen:"//secure-us.imrworldwide.com/cgi-bin/m?ci=att-ca&at=view&rt=banner&st=image&pc=ATT215827&ca=ATTDB2012&cr=A215827&ce=Daybreak2012&pr=iag.tfid,4201&pr=iag.cte,A215827&r=",quote:"We can truly see that consciousness is operating creatively even in biology, even in the evolution of species.",quote_ref:"Amit Goswami, Ph.D.",features:[1,2,5,6]}];a.extend(!0,this.episodesData,this.episodesData,dataModel.missions);e=new App.AppTab(a("#app-wrapper"));
g=new App.PhoneTab(a("#phone-wrapper"));featTab=new App.FeatTab(a("#feat-wrapper"));a(window).bind("scroll",function(){g.isOpen&&g.close();featTab.isOpen&&featTab.close();e.isOpen&&e.close()});new App.MovieTopMenu(a("#movie-top-menu"));a("#jack").click(function(a){a.stopPropagation();_gaq.push(["_trackEvent","Jack Boxers Exit","Logo Click"]);window.open("http://www.jackboxers.com","_blank")});a(".small-app-button-first,.large-app-button-first").click(function(c){c.stopPropagation();var b=a(this);
b.fadeOut(300,function(){b.siblings().fadeIn()})});a(".appstore").click(function(c){c.preventDefault();a(this).parents("#movie-end").length?_gaq.push(["_trackEvent","App Download","Episode "+d.currentEpisode,"App Store"]):a(this).parents("#about").length?_gaq.push(["_trackEvent","App Download","About Links","App Store"]):a(this).parents("#puzzle-app-button").length&&_gaq.push(["_trackEvent","App Download","Extra Content Links","App Store"]);window.open("http://itunes.apple.com/us/app/jack-boxer/id530122469?ls=1&mt=8",
"_blank")});a(".googleplay").click(function(c){c.preventDefault();a(this).parents("#movie-end").length?_gaq.push(["_trackEvent","App Download","Episode "+d.currentEpisode,"Google Play"]):a(this).parents("#about").length?_gaq.push(["_trackEvent","App Download","About Links","Google Play"]):a(this).parents("#puzzle-app-button").length&&_gaq.push(["_trackEvent","App Download","Extra Content Links","Google Play"]);window.open("https://play.google.com/store/apps/details?id=com.jackboxer","_blank")});a("#movie-app-button").show();
u();this.featureData=[{id:1,title:"HTC ONE X",css:"htconx",desc:"Experience the best of the AT&T network with the HTC One X, featuring lightning fast 4G LTE processing speeds, stunning photos, HD video, and Beats audio.",url:"http://www.att.com/att/daybreak/?source=ECOAAT0000000000O&wtSourceUID=AR354S&wtExtndSource=daybreak"},{id:2,title:"SAMSUNG GALAXY TAB",css:"samsungtab",desc:"Get the most out of the AT&T Network with the Samsung Galaxy Tab featuring amazing resolution and dual-core processing speeds.",
url:"http://www.att.com/att/daybreak/?source=ECOAAT0000000000O&wtSourceUID=AR354S&wtExtndSource=daybreak"},{id:3,title:"AT&T TRANSLATOR",css:"translator",desc:"Feel the magic of a translation app that translates spoken and text phrases from one language to another.",url:"http://www.att.com/gen/landing-pages?pid=22862&source=ECOAAT0000000000O&wtSourceUID=AR354S&wtExtndSource=daybreaktrans"},{id:4,title:"AIR GRAFFITI",css:"airgraffitti",desc:"This location-based GPS technology allows users to virtually link messages to specific geographic coordinates, and download them, seemingly from thin air.",
url:"http://www.att.com/gen/landing-pages?pid=22868&source=ECOAAT0000000000O&wtSourceUID=AR354S&wtExtndSource=daybreakgraf"},{id:5,title:"IMAGE RECOGNITION",css:"imagerecognition",desc:"Use your camera to recognize certain images,<br>and download hidden content.",url:"http://www.att.com/gen/landing-pages?pid=22900&source=ECOAAT0000000000O&wtSourceUID=AR354S&wtExtndSource=daybreakimage"},{id:6,title:"4G NETWORK",css:"4g",desc:"Our fastest network yet allows you to do more<br>of the things you love, only faster.",
url:"http://www.att.com/gen/landing-pages?pid=22869&source=ECOAAT0000000000O&wtSourceUID=AR354S&wtExtndSource=daybreak4g"}];var c=[],b;for(b in dataModel.puzzles){var f=dataModel.puzzles[b];c[f.id]=f}var n=0,i=0;a(".doda, .video-doda").each(function(){var b=a(this),f=b.data("offset-y"),e=b.data("pos-x")+50;b.css({top:f+"px",left:e+"px"});if(b.hasClass("video-doda")){f=parseInt(b.attr("id").substring(13,14));e=new Image;e.src="http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda_off.png";b.append(e);
e=d.getEpisodeDataById(f);b.data("info",e);b.data("info",e);var e=w(e["available-date"].split(" ")[0]),g=e.getMonth()+1+"/"+e.getDate()+"/2012";!b.data("info")||b.data("info").yt_id==""?(b.find("img").attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda_na.png"),a("#primary-menu-item-"+f).addClass("menu-item-locked"),b.append('<div id="video-doda-info"><div class="video-doda-info-1">\u2014 Daybreak \u2014</div><div class="video-doda-info-2">CHAPTER '+f+'</div><div class="video-doda-info-3">Premieres '+
g+"</div></div>")):(e>i&&(i=e,n=f),b.append('<div id="video-doda-info"><div class="video-doda-info-1">\u2014 Daybreak \u2014</div><div class="video-doda-info-2">CHAPTER '+f+"</div></div>"),b.click(function(){dmaf.dispatch("dodaClick");d.openMovie(b.data("info"));d.dodaSelectedSignal.dispatch(a(this))}));Modernizr.touch?b.find("#video-doda-info").show():b.mouseover(function(){dmaf.dispatch("dodaOver");b.find("#video-doda-info").show();!b.data("info").yt_id==""&&b.find("img").attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda_on.png")}).mouseout(function(){b.find("#video-doda-info").hide();
!b.data("info").yt_id==""&&b.find("img").attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda_off.png")})}else{var f=a(this).data("puzzle-id"),g=(6-b.data("speed"))*40,h=Math.ceil(Math.random()*4);b.data("frame",h);e=new Image;e.src="http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda"+h+"_off.png";e.style.width=g+"px";e.style.height=g+"px";b[0].style.width=g+"px";b[0].style.height=g+"px";b.append(e);var k=c[f];k?b.click(function(){clearTimeout(app.autoPlayTimeout);dmaf.dispatch("dodaClick");
_gaq.push(["_trackEvent","Extra Content","Extra \u2018"+k.id+"\u2019","Open"]);k&&(k.type=="image"?d.openPuzzleImage(k):k.type=="movie"&&d.openPuzzleMovie(k));d.dodaSelectedSignal.dispatch(a(this))}).mouseover(function(){dmaf.dispatch("dodaOver");b.find("img").attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda"+b.data("frame")+"_on.png")}).mouseout(function(){b.find("img").attr("src","http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda"+b.data("frame")+"_off.png")}):b.find("img").attr("src",
"http://d2gjz9m3e28sax.cloudfront.net/img/dodas/doda"+h+"_na.png");b.css({left:b.data("pos-x")*550-50+"px"})}});n>0&&(a("#quote").html(d.getEpisodeDataById(n).quote),a("#quote-by").html(d.getEpisodeDataById(n).quote_ref));j()};App.Content.prototype.getEpisodeDataById=function(a){for(var b in d.episodesData)if(a==d.episodesData[b].episode)return d.episodesData[b]};App.Content.prototype.getFeatureDataById=function(a){for(var b in d.featureData)if(a==d.featureData[b].id)return d.featureData[b];return null};
App.Content.prototype.openLocked=function(){};App.Content.prototype.openPuzzleImage=function(c){p();o(function(){var b=c.link.length>0?a('<a href="'+c.link+'" target="_blank"></a>'):a("<span></span>"),d=a('<img src="'+c.resource+'" class="puzzle-image" alt="puzzle"/>').appendTo(b);d.load(function(){$innerbox.append('<div id="puzzle-info"><div id="puzzle-title">'+c.title+'</div><div id="puzzle-copy">'+c.copy+'</div><div id="puzzle-url"><a href="'+c.link+'" target="_blank">'+c.link+"</a></div></div>");
c.copy==""?a("#puzzle-copy").hide():a("#puzzle-copy").show();c.title==""?a("#puzzle-title").hide():a("#puzzle-title").show();a("#puzzle-app-button").appendTo($innerbox);a("#puzzle-app-button").show();a("#puzzle-app-button").css("margin-top",40);$superbox.width(Math.max(600,d.width()+40));$innerbox.height(d.height()+200);d.addClass("puzzle-border");q()});$innerbox.append(b)})};App.Content.prototype.openPuzzleMovie=function(c){p();o(function(){$superbox.width(h.movieWidth+"px");$innerbox.height(h.movieHeight+
100+"px");$innerbox.append('<div id="youtube-center-wrapper"><div id="movie-title">'+c.title.toUpperCase()+'</div><div id="youtube-player-wrapper"><div id="youtube-player-container"></div></div></div>');var b=0;c.id=="1:3"?b=11:c.id=="1:6"&&(b=433);d.tubePlayer=a("#youtube-player-container").tubeplayer({width:h.movieWidth,height:h.movieHeight,allowFullScreen:"true",initialVideo:c.resource,autoPlay:!1,preferredQuality:"hd720",color:"black",start:b,wmode:"transparent",preferredQuality:"default",onPlayerEnded:d.closeAll});
a("#youtube-player-wrapper").fadeIn(300);$innerbox.append('<div id="puzzle-info"><div id="puzzle-copy">'+c.copy+'</div><div id="puzzle-url"><a href="'+c.link+'" target="_blank">'+c.link+"</a></div></div>");c.title==""?a("#movie-title").hide():a("#movie-title").show();c.copy==""?a("#puzzle-copy").hide():a("#puzzle-copy").show();a("#puzzle-app-button").show().appendTo($innerbox);a("#puzzle-app-button").css("margin-top",20);$innerbox.show();q()})};App.Content.prototype.openMovie=function(c){p();this.currentEpisode=
c.episode;o(function(){_gaq.push(["_trackEvent","Episode Play","Chapter "+c.episode,"Chapter Selections"]);$superbox.width(h.movieWidth+"px");$innerbox.height(h.movieHeight+100+"px");a("#movie-top-menu").appendTo($innerbox);a("#movie-top-menu").show();f.close();$innerbox.append('<div id="youtube-player-wrapper"><div id="youtube-player-container"></div></div>');for(var b=a('<div id="features-menu"><ul></ul></div>'),e=b.find("ul")[0],g=1,i=0;i<c.features.length;i++){var j=d.getFeatureDataById(c.features[i]);
j.index=g;a('<li class="movie-feature-item"><img src="img/feat-nr-'+g+'.png" class="movie-feat-item-img" /><div class="movie-feat-item-label">'+j.title+"</div></li>").data("data",j).click(function(b){b.stopPropagation();a("#features-menu").addClass("feat-notselected");a(".movie-feature-item").each(function(){a(this).find("img").attr("src","img/feat-nr-"+a(this).data("data").index+".png");a(this).find(".movie-feat-item-label").removeClass("feat-selected").addClass("feat-notselected")});a(this).find("img").attr("src",
"img/feat-nr-"+a(this).data("data").index+"-active.png");a(this).find(".movie-feat-item-label").addClass("feat-selected").removeClass("feat-notselected");d.showFeatureInfo(a(this).data("data"))}).appendTo(e);g++}b.find("ul").find("li").last().addClass("feat-last-item");$innerbox.append(b);d.tubePlayer=a("#youtube-player-container").tubeplayer({width:h.movieWidth,height:h.movieHeight,allowFullScreen:"true",initialVideo:c.yt_id,autoPlay:!1,color:"black",preferredQuality:"hd720",wmode:"transparent",
preferredQuality:"default",onPlayerEnded:d.showMovieEndScreen,onPlayerPlaying:function(){}});a("#youtube-player-wrapper").fadeIn(300);a("#movie-top-replay").hide();a("#puzzle-app-button").show().appendTo($innerbox);a("#puzzle-app-button").css("margin-top",20);$innerbox.show();q()});var b=new Image(1,1);b.onerror=b.onload=function(){b.onerror=b.onload=null};b.src=c.nielsen+(new Date).getTime()};App.Content.prototype.showFeatureInfo=function(c){_gaq.push(["_trackEvent","Features Overlay","Expand '"+
c.css+"'","Chapter "+d.currentEpisode]);_gaq.push(["_trackEvent","External ATT Link ","'"+c.css+"'","Learn More"]);window.open(c.url);a("#feature-info-layer-overlay").width(h.movieWidth+"px").height(a("#youtube-player-container").height());a("#youtube-player-container").tubeplayer("pause");var b=a("#feature-info-layer").click(function(a){a.stopPropagation();d.hideFeatureInfo()}),e=b.find("#feature-info-layer-content-fade");e.find("h1").html(c.title);e.find("img").attr("src","img/features/videofeature_"+
c.css+".png");e.find("p").html(c.desc);e.hide().fadeIn(300);b.find("#feature-info-read").unbind("click").bind("click",function(a){a.stopPropagation();a.preventDefault();_gaq.push(["_trackEvent","External ATT Link ","'"+c.css+"'","Learn More"]);window.open(c.url)});b.find("#feature-info-close").attr("href",c.url).unbind("click").bind("click",function(a){_gaq.push(["_trackEvent","Features Overlay","Close '"+c.css+"'","Chapter "+d.currentEpisode]);a.stopPropagation();a.preventDefault();d.hideFeatureInfo()});
b.appendTo("#youtube-player-wrapper").fadeIn()};App.Content.prototype.hideFeatureInfo=function(){a("#youtube-player-container").tubeplayer("play");a("#feature-info-layer").hide();a(".movie-feature-item").each(function(){a(this).find("img").attr("src","img/feat-nr-"+a(this).data("data").index+".png");a(this).find(".movie-feat-item-label").removeClass("feat-selected").removeClass("feat-notselected")})};App.Content.prototype.showMovieEndScreen=function(){a(".movie-end-feat").each(function(){var c=a(this);
c.removeClass("feature-active");var b=a(this).attr("id");c.find("img").attr("src","img/features/"+b.substring(5,b.length)+"_off.png")}).unbind("click").bind("click",function(c){c.stopPropagation();c=a(this).attr("id");_gaq.push(["_trackEvent","External ATT Link",c.substring(5,c.length),"Learn More \u2013 END SCREEN"])});a(".movie-feature-item").each(function(){var c=a(this).data("data").css;a("#feat-"+c).addClass("feature-active").find("img").attr("src","img/features/"+c+"_on.png")});a("#movie-end").appendTo("#youtube-player-wrapper").fadeIn(300).unbind("click").bind("click",
function(a){a.stopPropagation()});a("#features-menu").animate({height:0});a("#movie-top-replay").show().unbind("click").bind("click",function(a){a.stopPropagation();_gaq.push(["_trackEvent","Episode Play","Chapter "+d.currentEpisode,"Watch Again"]);d.restartEpisode()})};App.Content.prototype.restartEpisode=function(){a("#youtube-player-container").tubeplayer("seek",0);a("#youtube-player-container").tubeplayer("play");a("#movie-end").hide().appendTo("body");a("#movie-top-replay").hide();a("#features-menu").animate({height:"48px"})};
App.Content.prototype.closeAll=function(){clearInterval(d.progressInterval);d.isOpen&&j()};App.PhoneTab=function(c){this.isOpen=!1;this.el=c;g=this;this.downY=a("#footer").height()+a("#primary-nav").height()-204-c.find("#phone-tab").height();c.css({bottom:this.downY});c.click(function(a){a.stopPropagation()});c.find("#link-htc").click(function(){_gaq.push(["_trackEvent","External ATT Link","The Phone Pop Up","http://www.att.com/att/daybreak/?source=ECOAAT0000000000O&wtSourceUID=AR354S&wtExtndSource=daybreak"])});
a("#about-features").find(".feature-active").click(function(){var b=a(this).attr("id");_gaq.push(["_trackEvent","External ATT Link",b.substring(6,b.length),"About Section - Features"])});c.find("#phone-tab").click(function(a){a.stopPropagation();g.isOpen?g.close():(_gaq.push(["_trackEvent","The Phone Pop Up","expand"]),g.open(!1))});c.find("#phone-legal-button").bind("click",function(a){a.stopPropagation();a.preventDefault();_gaq.push(["_trackEvent","The Phone Pop Up","Legal button"]);g.open(!0)});
c.find("#phone-tab-sweepstake-button").bind("click",function(){_gaq.push(["_trackEvent","The Phone Pop Up","Sweepstakes"])});c.find("#phone-content-legal").bind("click",function(){window.open("http://daybreaksweeps.com/rules/","_blank");_gaq.push(["_trackEvent","The Phone Pop Up","More Legal"])})};App.PhoneTab.prototype.open=function(c){g.isOpen=!0;clearTimeout(app.autoPlayTimeout);e.hide();featTab.hide();c?g.el.animate({bottom:a("#footer").height()+a("#primary-nav").height()+"px"},300):g.el.animate({bottom:a("#footer").height()+
a("#primary-nav").height()-a("#phone-content-legal").height()+"px"},300);a("#scroll-area").bind("click",function(){g.close()})};App.PhoneTab.prototype.close=function(){g.isOpen=!1;g.el.animate({bottom:g.downY+"px"},300);e.show();featTab.show();a("#scroll-area").unbind("click")};App.AppTab=function(c){this.isOpen=!1;this.el=c;e=this;this.downY=a("#footer").height()+a("#primary-nav").height()-73-c.find("#app-tab").height();c.css({bottom:this.downY});c.click(function(a){a.stopPropagation()});c.find("#app-tab").click(function(a){a.stopPropagation();
e.isOpen?e.close():(_gaq.push(["_trackEvent","App Pop Up","expand"]),e.open(!1))})};App.AppTab.prototype.open=function(){e.isOpen=!0;clearTimeout(app.autoPlayTimeout);featTab.close();g.close();e.el.animate({bottom:a("#footer").height()+a("#primary-nav").height()+"px"},300);a("#scroll-area").bind("click",function(){e.close()})};App.AppTab.prototype.close=function(){e.isOpen=!1;e.el.animate({bottom:e.downY+"px"},300);a("#scroll-area").unbind("click")};App.AppTab.prototype.hide=function(){e.el.animate({bottom:e.downY-
100+"px"},300);a("#scroll-area").unbind("click")};App.AppTab.prototype.show=function(){e.el.animate({bottom:e.downY+"px"},300);a("#scroll-area").unbind("click")};App.FeatTab=function(c){this.isOpen=!1;this.el=c;featTab=this;this.downY=a("#footer").height()+a("#primary-nav").height()-151-c.find("#feat-tab").height();c.css({bottom:this.downY});c.click(function(a){a.stopPropagation()});c.find(".feat-tab-label").click(function(){var b=a(this).attr("id");_gaq.push(["_trackEvent","External ATT Link",b.substring(10,
b.length),"Feature Tab - Features"])});c.find("#feat-tab").click(function(a){a.stopPropagation();featTab.isOpen?featTab.close():(_gaq.push(["_trackEvent","Features Pop Up","expand"]),featTab.open())})};App.FeatTab.prototype.open=function(){featTab.isOpen=!0;clearTimeout(app.autoPlayTimeout);e.close();g.close();featTab.el.animate({bottom:a("#footer").height()+a("#primary-nav").height()+"px"},300);a("#scroll-area").bind("click",function(){featTab.close()})};App.FeatTab.prototype.close=function(){featTab.isOpen=
!1;featTab.el.animate({bottom:featTab.downY+"px"},300);a("#scroll-area").unbind("click")};App.FeatTab.prototype.hide=function(){featTab.el.animate({bottom:featTab.downY-100+"px"},300);a("#scroll-area").unbind("click")};App.FeatTab.prototype.show=function(){featTab.el.animate({bottom:featTab.downY+"px"},300);a("#scroll-area").unbind("click")};var f;App.MovieTopMenu=function(c){f=this;this.isOpen=!1;this.el=c;this.shareMenu=c.find("#movie-share-layer");f.shareMenu.hide();f.shareMenu.find(".movie-share-item").click(function(b){b.stopPropagation();
switch(a(this).attr("id")){case "movie-share-fb":_gaq.push(["_trackEvent","Episode Share","Facebook","Chapter "+d.currentEpisode]);b="Watch%20Chapter%20"+d.currentEpisode+"%20of%20Daybreak%20now%20at%20http%3A%2F%2Fwww.daybreak2012.com";b=window.open("http://www.facebook.com/sharer.php?s=100&p[url]=http://daybreak2012.com&p[title]=Daybreak&p[images][0]=http://www.daybreak2012.com/img/daybreak_poster.jpg&p[summary]="+b,"_fb","width=550,height=450");t(b);break;case "movie-share-twitter":_gaq.push(["_trackEvent",
"Episode Share","Twitter","Chapter "+d.currentEpisode]);b="I%E2%80%99m%20watching%20Chapter%20"+d.currentEpisode+"%20of%20%23Daybreak2012.%20%20Watch%20it%20now%20at%20http%3A%2F%2Fwww.daybreak2012.com";b=window.open("http://twitter.com/?status="+b,"_tweet","width=1024,height=600,scrollbars=yes");t(b);break;case "movie-share-gplus":_gaq.push(["_trackEvent","Episode Share","GPlus","Chapter "+d.currentEpisode]);b=window.open("https://plusone.google.com/_/+1/confirm?hl=en&url=http://www.daybreak2012.com/",
"_gplus","width=1024,height=600,scrollbars=yes");t(b);break;case "movie-share-copy":_gaq.push(["_trackEvent","Episode Share","URL","Chapter "+d.currentEpisode]),alert("copied")}f.close()});f.shareMenu.mouseover(function(){clearTimeout(f.outTimeoutId)});f.shareMenu.mouseout(function(){f.outTimeoutId=setTimeout(function(){f.close()},500)});c.find("#movie-top-share").click(function(a){a.stopPropagation();f.isOpen?f.close():f.open()});c.find("#movie-top-close").click(function(a){a.stopPropagation();d.closeAll()})};
App.MovieTopMenu.prototype.open=function(){f.isOpen=!0;f.shareMenu.fadeIn(200);a(document).bind("click",function(a){a.stopPropagation();f.close()})};App.MovieTopMenu.prototype.close=function(){f.isOpen=!1;f.shareMenu.fadeOut();a(document).unbind("click")}})(jQuery);
(function(d){var c;App.DodaMenu=function(){c=this;this.clickedSignal=new signals.Signal;this.paper=Raphael(document.getElementById("doda-menu"),80,400);this.menuBg=this.paper.set();this.map=[];this.map.puzzles_5=13;this.map.doda_episode_5=12;this.map.puzzles_4=11;this.map.doda_episode_4=10;this.map.puzzles_3=9;this.map.doda_episode_3=8;this.map.puzzles_2=7;this.map.doda_episode_2=6;this.map.puzzles_1=5;this.map.doda_episode_1=4;this.map.puzzles_0=3;this.map.home=2;this.map["home-about-middle"]=1;
this.map.about=0;this.paths=[["M19.908,293.873H5.725l-4.383-13.49l11.475-8.337l11.476,8.337L19.908,293.873z"],["M25.259,278.659l-11.482-8.329l4.374-13.493l14.185-0.01l4.392,13.487L25.259,278.659z"],["M32.347,254.875H18.162l-4.383-13.489l11.476-8.338l11.475,8.337L32.347,254.875z"],["M12.669,239.628l-11.482-8.329l4.374-13.493l14.185-0.009l4.392,13.486L12.669,239.628z"],["M19.737,215.814H5.554l-4.383-13.49l11.474-8.337l11.476,8.337L19.737,215.814z"],["M25.486,200.771l-11.481-8.329l4.373-13.493l14.185-0.01l4.392,13.487L25.486,200.771z"],
["M32.631,176.988l-14.184,0l-4.383-13.49l11.475-8.337l11.475,8.337L32.631,176.988z"],["M12.897,162.025l-11.482-8.329l4.374-13.493l14.185-0.01l4.392,13.487L12.897,162.025z"],["M20.022,138.234H5.838l-4.383-13.49l11.475-8.337l11.476,8.337L20.022,138.234z"],["M25.657,123.134l-11.482-8.329l4.374-13.493l14.185-0.01l4.392,13.487L25.657,123.134z"],["M32.688,99.352H18.503l-4.383-13.49l11.476-8.337l11.475,8.337L32.688,99.352z"],["M12.783,84.502l-11.482-8.33L5.675,62.68l14.185-0.01l4.392,13.486L12.783,84.502z"],
["M19.567,60.703H5.383L1,47.213l11.475-8.337l11.476,8.337L19.567,60.703z"]];this.arrows=["M10.105,209.907v-8.768l7.642,4.383L10.105,209.907z","M23.105,170.907v-8.768l7.642,4.383L23.105,170.907z","M10.5,132.907v-8.768l7.642,4.383L10.5,132.907z","M23.5,93.907V85.14l7.642,4.383L23.5,93.907z","M10.105,54.907V46.14l7.642,4.383L10.105,54.907z"];this.paper.importSVG('<svg><path stroke="#f7f9e7" stroke-width="1" fill="#f7f9e7" fill-opacity="1" stroke-opacity="0" d="M19.908,293.873H5.725l-4.383-13.49l11.475-8.337l11.476,8.337L19.908,293.873z M6.736,292.48h12.16l3.758-11.565 l-9.839-7.148l-9.838,7.148L6.736,292.48z M25.259,278.659l-11.482-8.329l4.374-13.493l14.185-0.01l4.392,13.487L25.259,278.659z M15.414,269.797l9.844,7.141l9.833-7.155l-3.765-11.562l-12.161,0.009L15.414,269.797z M32.347,254.875H18.162l-4.383-13.489 l11.476-8.338l11.475,8.337L32.347,254.875z M19.174,253.483h12.16l3.758-11.566l-9.837-7.147l-9.839,7.147L19.174,253.483z M12.669,239.628l-11.482-8.329l4.374-13.493l14.185-0.009l4.392,13.486L12.669,239.628z M2.824,230.766l9.844,7.141l9.833-7.155 l-3.767-11.562l-12.16,0.008L2.824,230.766z M19.737,215.814H5.554l-4.383-13.49l11.474-8.337l11.476,8.337L19.737,215.814z M6.566,214.422h12.16l3.758-11.565l-9.839-7.148l-9.837,7.147L6.566,214.422z M25.486,200.771l-11.481-8.329l4.373-13.493 l14.185-0.01l4.392,13.487L25.486,200.771z M15.642,191.91l9.844,7.141l9.833-7.155l-3.765-11.562l-12.161,0.008L15.642,191.91z M32.631,176.988l-14.184,0l-4.383-13.49l11.475-8.337l11.475,8.337L32.631,176.988z M19.458,175.596h12.16l3.758-11.565 l-9.838-7.147L15.7,164.03L19.458,175.596z M12.897,162.025l-11.482-8.329l4.374-13.493l14.185-0.01l4.392,13.487L12.897,162.025z M3.052,153.164l9.844,7.141l9.833-7.155l-3.766-11.562l-12.16,0.008L3.052,153.164z M20.022,138.234H5.838l-4.383-13.49 l11.475-8.337l11.476,8.337L20.022,138.234z M6.85,136.842h12.16l3.758-11.565l-9.839-7.148l-9.838,7.148L6.85,136.842z M25.657,123.134l-11.482-8.329l4.374-13.493l14.185-0.01l4.392,13.487L25.657,123.134z M15.812,114.273l9.844,7.14l9.833-7.155 l-3.766-11.562l-12.161,0.008L15.812,114.273z M32.688,99.352H18.503l-4.383-13.49l11.476-8.337l11.475,8.337L32.688,99.352z M19.515,97.958h12.16l3.758-11.565l-9.838-7.147l-9.839,7.147L19.515,97.958z M12.783,84.502l-11.482-8.33L5.675,62.68 l14.185-0.01l4.392,13.486L12.783,84.502z M2.938,75.64l9.844,7.141l9.833-7.154l-3.766-11.563l-12.16,0.008L2.938,75.64z M19.567,60.703H5.383L1,47.213l11.475-8.337l11.476,8.337L19.567,60.703z M6.395,59.311h12.16l3.758-11.565l-9.838-7.147 l-9.838,7.147L6.395,59.311z "/></svg>',
this.menuBg);this.max=this.paths.length;this.sections=[];for(var b=0;b<this.max;b++){var a=this.paper.path(this.paths[b][0]);a.attr({"fill-opacity":0,fill:"#f7f9e7",stroke:"#f7f9e7  ","stroke-width":0,"stroke-opacity":0});this.sections.push(a);for(var f in this.map)if(this.map[f]==b){a.id=f;break}a.click(function(){dmaf.dispatch("buttonClick");c.clickedSignal.dispatch(this.id)});a.label=d("#doda-menu-labels").find("a[href^=#"+a.id+"]");a.label.data("section",a);a.label.mouseover(function(){c.sectionMouseOver(d(this).data("section"))}).mouseout(function(){c.sectionMouseOut(d(this).data("section"))});
Modernizr.touch||a.mouseover(function(){c.sectionMouseOver(this)}).mouseout(function(){c.sectionMouseOut(this)})}for(b=0;b<this.arrows.length;b++)a=this.paper.path(this.arrows[b]),a.id="doda_episode_"+(b+1),a.attr({"fill-opacity":1,fill:"#f7f9e7",stroke:"#f7f9e7  ","stroke-width":0,"stroke-opacity":0}),this.arrows[a.id]=a,a.click(function(){dmaf.dispatch("buttonClick");c.clickedSignal.dispatch(this.id)}).mouseover(function(){c.sectionMouseOver(c.sections[c.map[this.id]])}).mouseout(function(){c.sectionMouseOut(c.sections[c.map[this.id]])})};
App.DodaMenu.prototype.sectionMouseOver=function(b){dmaf.dispatch("menuOver");b.label.addClass("dodamenu-item-active");d("#doda-menu").addClass("link-cursor");b.attr({transform:"s1"});b.active||b.animate(Raphael.animation({"fill-opacity":"1"},100,"easeOut"))};App.DodaMenu.prototype.sectionMouseOut=function(b){b.label.removeClass("dodamenu-item-active");d("#doda-menu").removeClass("link-cursor");b.active||b.animate(Raphael.animation({"fill-opacity":"0"},100,"easeOut"))};App.DodaMenu.prototype.setActive=
function(b){for(var a,c=this.map[b],d=0;d<this.max;d++)if(a=this.sections[d],d==c){a.attr({"fill-opacity":1,transform:"s0"});var e=Raphael.animation({transform:"s1"},300,"easeOut");a.animate(e);a.active=!0}else if(a.active)e=Raphael.animation({transform:"s0"},300,"easeOut"),a.animate(e),a.active=!1;this.arrows.doda_episode_1.attr({fill:"#f7f9e7"});this.arrows.doda_episode_2.attr({fill:"#f7f9e7"});this.arrows.doda_episode_3.attr({fill:"#f7f9e7"});this.arrows.doda_episode_4.attr({fill:"#f7f9e7"});this.arrows.doda_episode_5.attr({fill:"#f7f9e7"});
this.arrows[b]&&this.arrows[b].attr({fill:"#505e69"})}})(jQuery);
(function(a){var c,f=a(window);App.Navigation=function(b,d){if(arguments.length!==0)c=this,this.viewport=b,this.nav=a("#primary-nav"),this.currentId=void 0,this.navItems=this.nav.find("a"),this.selectedId=void 0,this.navSections=a(".video-doda, .puzzles, #puzzles_0, #home, #about, #home-about-middle, #jack,#secret"),this.showDodaMenuLabels=!0,d.resize(this.updateSize),d.scroll(this.onScroll),d.mousewheel(this.stopAnimation),d.mousemove(function(b){b.pageX>window.innerWidth-150?a("#doda-menu-labels").fadeIn():
c.currentId!="home"&&!c.showDodaMenuLabels&&a("#doda-menu-labels").fadeOut()}),this.dodaMenu=new app.DodaMenu,this.dodaMenu.clickedSignal.add(function(a){_gaq.push(["_trackEvent","Nav Menu",a]);c.changePage(a,!0,null)}),this.sectionChangedSignal=new signals.Signal,Modernizr.canvas||(a("#home").css({height:"600px",top:"6100px"}).data("init-top",6100),a("#about").css({height:"600px",top:"7420px","z-index":14}).data("init-top",7420),a("#home-about-middle").css({position:"absolute",top:"7050px"}).data("init-top",
7050),a("#jack").css({position:"absolute",top:"8550px"}).data("init-top",8550),a(".scroll-nocanvas-section").find("img").each(function(){a(this).data("default-height",a(this).height())}),a("#secret").data("init-top",a("#secret").offset().top),c.updateSize(f.width(),f.height()))};App.Navigation.prototype.onScroll=function(){var b=1E4,d=0;c.navSections.each(function(){var e=a(this);d=Math.abs(f.scrollTop()-(e.offset().top+e.height()*0.5)+f.height()*0.5);if(d<b)b=d,c.currentId=e.attr("id")});c.updateActiveMenuItem(c.currentId)};
App.Navigation.prototype.updateSize=function(b){if(!Modernizr.canvas){var d=Math.max(1100,a(window).width()),e=d/1280,b=d;a(".scroll-nocanvas-section").find("img").each(function(){$img=a(this);$img.css({width:b+"px",height:$img.data("default-height")*e+"px"})});a(".puzzles").each(function(){a(this).css("height",e*715+"px")});a(".video-doda").each(function(){a(this).css("height",300*e+"px")});c.navSections.each(function(){a(this).css({top:a(this).data("init-top")*e+"px"})});a(".video-doda,.puzzles,#home,#about,#secret,#home-about-middle").each(function(){a(this).data("currentPositionTop",
a(this).position().top)});a("#wrapper").css("height",a("#scroll-nocanvas-bg").height())}};App.Navigation.prototype.stopAnimation=function(){a("body,html").stop()};App.Navigation.prototype.initInternalLinks=function(){a("#doda-menu, #primary-nav").find("a[href^=#]").each(function(){a(a(this).attr("href"));a(this).click(function(b){b.preventDefault();dmaf.dispatch("buttonClick");c.changePage(a(this).attr("href"),!0,null);b=a(this).attr("href");b=b.substring(1,b.length);b.indexOf("doda")!=-1&&(b="Chapter "+
b.substring(13,14));a(this).parent().parent().parent().attr("id")=="primary-nav"?_gaq.push(["_trackEvent","Tablet Nav",b]):a(this).parent().parent().parent().attr("id")=="doda-menu"&&_gaq.push(["_trackEvent","Nav Menu",b])})});a("#doda-menu, #primary-nav").find("a[href^=#]").each(function(){var b=a(a(this).attr("href"));b&&b.data("originalPositionTop",b.offset().top)});a("#home-about-middle,#puzzles_0,.puzzles").each(function(){var b=a(this);b.data("originalPositionTop",b.offset().top)})};App.Navigation.prototype.moveTo=
function(b,d,c,g){d?(d=Math.abs(b-f.scrollTop()),a("body,html").stop().animate({scrollTop:b},c?c:1500*(d/6E3)+300,"easeInOutSine"),g&&setTimeout(g,c)):(f.scrollTop(b),g&&g())};App.Navigation.prototype.changePage=function(b,d,e){String(b).charAt(0)!="#"&&(b="#"+b);if(!a(b).length&&c.currentId)b=c.currentId;var d=!0,g=a(b).data("originalPositionTop"),h=a(b).data("scroll-center");g+=h?h-f.height()/2:a(b).height()*0.5-f.height()*0.5;c.moveTo(g,d,1500,e)};App.Navigation.prototype.updateActiveMenuItem=
function(b){if(c.currentId!=c.selectedId){c.selectedId=c.currentId;a("#debug").find("#section").text("current id: "+c.selectedId);dmaf.dispatch(b);this.sectionChangedSignal.dispatch(b);if(b=="home")c.showDodaMenuLabels=!0,Modernizr.touch||a("#doda-menu-labels").fadeIn();else if(b!="home-about-middle")c.showDodaMenuLabels=!1;this.dodaMenu.setActive(b);var d=a("#primary-nav").find("a[href^=#"+b+"]");d.length>0&&(c.navItems.removeClass("menu-item-active"),d.addClass("menu-item-active"),a("#paginator-nav").find("li").removeClass("paginator-item-active"),
a("#paginator-"+b).addClass("paginator-item-active"),b=d.offset().left+d.width()*0.5-10,a("#primary-nav").stop().animate({backgroundPosition:b+"px"},300,"easeInOutQuad"))}}})(jQuery);
(function(e){function n(){var a=0;b.backgroundUp=new Image;b.backgroundUp.src="http://d2gjz9m3e28sax.cloudfront.net/img/bg_up.jpg";b.backgroundUp.onload=function(){a++;a==2&&f()};b.backgroundDown=new Image;b.backgroundDown.src="http://d2gjz9m3e28sax.cloudfront.net/img/bg_down2.jpg";b.backgroundDown.onload=function(){a++;a==2&&f()}}function f(){b.isReady=!0;e("#home,#about,#secret").each(function(){$this=e(this);$this.data("init-height",$this.height())});b.updateSize(a.width(),a.height());b.initComplete.dispatch();
setTimeout(b.initBirds,2E3)}var a=e(window),b,i=1280/720,d=[0.7,0.85,1],k=[{id:"home","in":0.77,out:0.8276},{id:"about","in":0.85,out:0.96}];App.Parallax=function(){b=this;this.isReady=!1;this.contentOffset=this.forceUpdateFrames=0;this.drawAll=!0;this.targetProgress=this.progress=0;this.currentScrollTop=this.targetScrollTop=10;this.activeDoda=null;this.contentScale=1;this.isBirdsInitiated=this.animating=!1;this.initComplete=new signals.Signal;this.gotoNearestSectionSignal=new signals.Signal;if(Modernizr.canvas)this.canvas=
document.createElement("canvas"),this.canvas.height=a.height(),this.canvas.width=a.width(),this.context=this.canvas.getContext("2d"),document.getElementById("scroll-canvas-container").appendChild(this.canvas),this.context=this.canvas.getContext("2d")};App.Parallax.prototype.init=function(){a.scroll(b.onScroll);Modernizr.canvas?Sequencer.init({canvas:this.canvas,from:0,to:45,folder:"http://d2gjz9m3e28sax.cloudfront.net/img/sequence2",baseName:"",ext:"jpg",playMode:"scroll"}).loadedSignal.add(n):f()};
App.Parallax.prototype.initBirds=function(){if(Modernizr.canvas)Birds.init("bird-container"),b.isBirdsInitiated=!0};App.Parallax.prototype.getProgress=function(){return b.progress};App.Parallax.prototype.updateSize=function(c,d){if(b.isBirdsInitiated)Birds.onResize();this.drawAll=!0;e("#debug").find("#window-height").text("window height: "+a.height());if(Modernizr.canvas)b.canvas.width=c,b.canvas.height=d,b.onScroll()};App.Parallax.prototype.onScroll=function(){b.targetProgress=a.scrollTop()/(e("#scroll-content-container").height()-
a.height());b.draw()};App.Parallax.prototype.draw=function(){if(b.isReady){var c=a.scrollTop();this.currentScrollTop=c;e("#debug").find("#scrolltop").text("window.scrolltop: "+c);this.progress=this.targetProgress;if(this.progress>1)this.progress=1;e("#debug").find("#progress").text("progress: "+this.progress);var c=Math.max(0,(this.progress-d[0])/(d[1]-d[0])),f=Math.min(1,(this.progress-d[1])/(d[2]-d[1]));a.width()/a.height()>i?(iw=a.width(),ih=iw/i):(ih=a.height(),iw=ih*i);var l=Math.max(0,a.width()/
2-iw/2)-a.scrollLeft(),m=a.height()/2-ih/2;if(Modernizr.canvas){for(var h in k){var j=k[h],g=e("#"+j.id);this.progress>j["in"]&&this.progress<j.out?g.css("opacity")==0&&(g.attr("id")=="home"&&b.isBirdsInitiated&&Birds.isReadyToRestart&&Birds.restart(),g.stop().animate({opacity:1},300)):g.css("opacity")==1&&g.stop().animate({opacity:0},300,"easeOutSine",function(){})}c==0?(h=Math.round(this.progress/d[0]*1277),h=Math.max(Math.round(this.progress/d[0]*1277),0),this.context.drawImage(this.backgroundUp,
0,h,1280,720,Math.round(l),Math.round(m),Math.round(iw),Math.round(ih))):f>0?this.context.drawImage(this.backgroundDown,0,Math.round(f*684),1280,720,Math.round(l),Math.round(m),Math.round(iw),Math.round(ih)):c>0&&c<1&&Sequencer.setProgress(1-c);e("#debug").find("#generic").text(c+":"+f)}e(".puzzles").each(function(){$puzzles=e(this);var c=$puzzles.offset().top;if(c+200<b.currentScrollTop+a.height()&&c+$puzzles.height()>a.scrollTop()-400){var d=(b.currentScrollTop-($puzzles.offset().top+150)+a.height()*
0.5)/a.height();$puzzles.find(".doda").each(function(){var a=e(this),b=a.data("offsetY")-(5-a.data("speed"))*200*d+100;a.css({top:b+"px"})})}});e(".parallax-sprite").each(function(){var c=e(this),d=(b.currentScrollTop-(c.offset().top+c.height()*0.5)+a.height()*0.5)/1280,d=c.data("offsetY")-(5-c.data("speed"))*200*d+100;c.css({top:d+"px"})});this.drawAll=!1}}})(jQuery);
(function(a){var c;a(window);App.TouchNavigation=function(){c=this;this.nav=a("#primary-nav");this.currentId=void 0;this.navItems=this.nav.find("a");this.navSections=a(".video-doda, .puzzles, #home,  #about, #home-about-middle, #secret");this.showDodaMenuLabels=!1;this.idBeforeResize="home";this.dodaMenu=new app.DodaMenu;this.dodaMenu.clickedSignal.add(function(a){_gaq.push(["_trackEvent","Nav Menu",a]);c.changePage(a,!0)});this.sectionChangedSignal=new signals.Signal;this.content=a("#scroll-content-container");
a(".scroll-nocanvas-section").find("img").each(function(){a(this).data("default-height",a(this).height())});a("#home,#about,#secret,#home-about-middle,#jack").each(function(){a(this).data("init-top",a(this).offset().top)});a("#scroll-nocanvas-bg").show();this.updateSize();this.iScroll=new iScroll("scroll-area",{bounce:!1,momentum:!0,hScroll:!1,desktopCompatibility:!1,onBeforeResize:this.onBeforeResize,onScrollEnd:c.onTransitionEnd,onScrollMove:c.updateMenu})};App.TouchNavigation.prototype.onBeforeResize=
function(){c.idBeforeResize=c.currentId;c.updateSize()};App.TouchNavigation.prototype.initInternalLinks=function(){a("#doda-menu, #primary-nav").find("a[href^=#]").each(function(){a(a(this).attr("href"));a(this).click(function(b){b.preventDefault();c.changePage(a(this).attr("href"),!0,null);b=a(this).attr("href");b=b.substring(1,b.length);b.indexOf("doda")!=-1&&(b="Chapter "+b.substring(13,14));a(this).parent().parent().parent().attr("id")=="primary-nav"?_gaq.push(["_trackEvent","Tablet Nav",b]):
a(this).parent().parent().parent().attr("id")=="doda-menu"&&_gaq.push(["_trackEvent","Nav Menu",b])})})};App.TouchNavigation.prototype.updateSize=function(){var b=Math.max(768,a("#scroll-area").width()),d=b/1280;a(".scroll-nocanvas-section").find("img").each(function(){$img=a(this);$img.css({width:b+"px",height:$img.data("default-height")*d+"px"})});a(".puzzles").each(function(){a(this).css("height",d*585+"px")});a(".video-doda").each(function(){a(this).css("height",300*d+"px")});c.navSections.each(function(){a(this).css({top:a(this).data("init-top")*
d+"px"})});a("#jack").css({top:a("#jack").data("init-top")*d+"px"});a(".video-doda,.puzzles,#home,#about,#secret,#home-about-middle").each(function(){a(this).data("currentPositionTop",a(this).position().top)});a("#wrapper").css("height",a("#scroll-nocanvas-bg").height());c.iScroll&&setTimeout(function(){c.iScroll.refresh();c.changePage(c.idBeforeResize,!0)},500)};App.TouchNavigation.prototype.onTransitionEnd=function(){c.updateMenu();c.completeCallback&&c.completeCallback();c.completeCallback=null};
App.TouchNavigation.prototype.updateMenu=function(){var b=1E4,d=0;c.navSections.each(function(){var e=a(this);d=Math.abs(e.offset().top+e.height()*0.5-a("#scroll-area").height()*0.5);if(d<b)b=d,c.currentId=e.attr("id")});c.updateActiveMenuItem(c.currentId)};App.TouchNavigation.prototype.changePage=function(b,d,e){String(b).charAt(0)!="#"&&(b="#"+b);var f=a(b).data("currentPositionTop"),g=a(b).data("scroll-center");f+=g?g-a("#scroll-area").height()*0.5:a(b).height()*0.5-a("#scroll-area").height()*
0.5;c.moveTo(f,d,1500,e)};App.TouchNavigation.prototype.moveTo=function(a,d,e,f){this.iScroll.scrollTo(0,a*-1,d?e:0);if(f)c.completeCallback=f};App.TouchNavigation.prototype.updateActiveMenuItem=function(b){if(c.currentId!=c.selectedId){c.selectedId=c.currentId;c.sectionChangedSignal.dispatch(b);this.dodaMenu.setActive(b);var d=a("#primary-nav").find("a[href^=#"+b+"]");d.length>0&&(c.navItems.removeClass("menu-item-active"),d.addClass("menu-item-active"),a("#paginator-nav").find("li").removeClass("paginator-item-active"),
a("#paginator-"+b).addClass("paginator-item-active"),b=d.offset().left+d.width()*0.5-10,a("#primary-nav").stop().animate({backgroundPosition:b+"px"},300,"easeInOutQuad"))}}})(jQuery);
var Birds=function(){var b={},g,f,e=window.innerWidth,j=[],k,l,m=!1;b.isPaused=!1;b.isReadyToRestart=!1;for(var n=[[],[]],h=0;h<11;++h){var d=new Image;d.src="http://d2gjz9m3e28sax.cloudfront.net/img/birdanim/bird1/bird_"+h+".png";n[0].push(d);d=new Image;d.src="http://d2gjz9m3e28sax.cloudfront.net/img/birdanim/bird2/bird2_"+h+".png";n[1].push(d)}b.create=function(){for(var b=0;b<30;++b){var c={};c.x=-200+Math.random()*-600;c.y=50+Math.random()*200;c.scale=1+Math.random()*0.5-0.25;c.speed=0.75+Math.random()*
c.scale/2;c.noise1=Math.random()*2-1;c.noise2=Math.random()*2-1;c.noise3=Math.random()*2-1;c.type=Math.floor(Math.random()*2);c.frame=Math.random()*11;c.done=!1;j.push(c)}};b.respawn=function(){for(var b=0;b<30;++b){var c=j[b];c.x=-200+Math.random()*-600;c.y=50+Math.random()*200;c.done=!1}};b.init=function(d){f=document.getElementById(d);f.width=e;f.height=400;g=f.getContext("2d");b.create();b.loop();dmaf.dispatch("birdsEnter")};b.clear=function(){g.clearRect(0,0,e,400)};b.pause=function(){b.isPaused=
!0};b.unPause=function(){b.isPaused=!1};b.restart=function(){b.respawn();l=0;m=!1;b.isReadyToRestart=!1;b.loop()};b.loop=function(){m||requestAnimationFrame(b.loop);if(!b.isPaused&&(k=Date.now(),!(k<l))){b.clear();for(var d=!0,c=e-e/3,f=0;f<30;++f){var a=j[f],h=a.x,o=a.y;a.x+=a.speed+Math.abs(Math.cos(a.noise2)*2);a.y+=Math.sin(a.noise1)*0.5;a.scale+=Math.cos(a.noise3)*0.0060;var i=a.scale;i<0.75&&(i=0.75);a.noise1+=Math.random()*0.04;a.noise2+=Math.random()*0.01;a.noise3+=Math.random()*0.2;a.x>c&&
(a.y+=1-(e-c-(a.x-e))/c);h=Math.atan2(a.y-o,a.x-h);o=n[a.type][Math.floor(a.frame)];a.frame+=a.speed/2;if(a.frame>10)a.frame=0;d&&!a.done&&(d=!1);if(a.x<-50||a.x>e+50){if(a.x>e+50)a.done=!0}else{if(a.y<15)a.y=15;if(a.y>385)a.y=385;g.save();g.globalAlpha=i-0.4;i*=20;g.translate(a.x+i/2,a.y+i/2);g.rotate(h);g.drawImage(o,0,0,i,i);g.restore()}}if(d)l=k+5E3,m=!0,b.isReadyToRestart=!0,dmaf.dispatch("birdsExit")}};b.onResize=function(){e=window.innerWidth;f.width=e};return b}();
(function(){var g=Math,f=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":"",t=/android/gi.test(navigator.appVersion),u=/iphone|ipad/gi.test(navigator.appVersion),p=/playbook/gi.test(navigator.appVersion),B=/hp-tablet/gi.test(navigator.appVersion),v="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,l="ontouchstart"in window&&!B,z=f+"Transform"in document.documentElement.style,C=u||p,D=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){return setTimeout(b,1)}}(),A=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,w="onorientationchange"in window?"orientationchange":"resize",x=l?"touchstart":"mousedown",
q=l?"touchmove":"mousemove",r=l?"touchend":"mouseup",s=l?"touchcancel":"mouseup",y=f=="Moz"?"DOMMouseScroll":"mousewheel",n="translate"+(v?"3d(":"("),o=v?",0)":")",p=function(b,a){var c=this,d;c.wrapper=typeof b=="object"?b:document.getElementById(b);c.wrapper.style.overflow="hidden";c.scroller=c.wrapper.children[0];c.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,
fixedScrollbar:t,hideScrollbar:u,fadeScrollbar:u&&v,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onBeforeResize:null,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(d in a)c.options[d]=a[d];c.x=c.options.x;c.y=c.options.y;c.options.useTransform=
z?c.options.useTransform:!1;c.options.hScrollbar=c.options.hScroll&&c.options.hScrollbar;c.options.vScrollbar=c.options.vScroll&&c.options.vScrollbar;c.options.zoom=c.options.useTransform&&c.options.zoom;c.options.useTransition=C&&c.options.useTransition;c.options.zoom&&t&&(n="translate(",o=")");c.scroller.style[f+"TransitionProperty"]=c.options.useTransform?"-"+f.toLowerCase()+"-transform":"top left";c.scroller.style[f+"TransitionDuration"]="0";c.scroller.style[f+"TransformOrigin"]="0 0";c.options.useTransition&&
(c.scroller.style[f+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");c.options.useTransform?c.scroller.style[f+"Transform"]=n+c.x+"px,"+c.y+"px"+o:c.scroller.style.cssText+=";position:absolute;top:"+c.y+"px;left:"+c.x+"px";if(c.options.useTransition)c.options.fixedScrollbar=!0;c.refresh();c._bind(w,window);c._bind(x);l||(c._bind("mouseout",c.wrapper),c.options.wheelAction!="none"&&c._bind(y));if(c.options.checkDOMChanges)c.checkDOMTime=setInterval(function(){c._checkDOMChanges()},500)};
p.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(b){switch(b.type){case x:if(!l&&b.button!==0)break;this._start(b);break;case q:this._move(b);break;case r:case s:this._end(b);break;case w:this._resize();break;case y:this._wheel(b);break;case "mouseout":this._mouseout(b);break;case "webkitTransitionEnd":this._transitionEnd(b)}},_checkDOMChanges:function(){!this.moved&&!this.zoomed&&!(this.animating||this.scrollerW==
this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(b){var a=document,c;if(this[b+"Scrollbar"]){if(!this[b+"ScrollbarWrapper"]){c=a.createElement("div");this.options.scrollbarClass?c.className=this.options.scrollbarClass+b.toUpperCase():c.style.cssText="position:absolute;z-index:100;"+(b=="h"?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px");
c.style.cssText+=";pointer-events:none;-"+f+"-transition-property:opacity;-"+f+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1");this.wrapper.appendChild(c);this[b+"ScrollbarWrapper"]=c;c=a.createElement("div");if(!this.options.scrollbarClass)c.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+f+"-background-clip:padding-box;-"+f+"-box-sizing:border-box;"+
(b=="h"?"height:100%":"width:100%")+";-"+f+"-border-radius:3px;border-radius:3px";c.style.cssText+=";pointer-events:none;-"+f+"-transition-property:-"+f+"-transform;-"+f+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+f+"-transition-duration:0;-"+f+"-transform:"+n+"0,0"+o;this.options.useTransition&&(c.style.cssText+=";-"+f+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)");this[b+"ScrollbarWrapper"].appendChild(c);this[b+"ScrollbarIndicator"]=c}b=="h"?(this.hScrollbarSize=
this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=g.max(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW>>0,8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=g.max(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH>>0,8),this.vScrollbarIndicator.style.height=
this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY);this._scrollbarPos(b,!0)}else this[b+"ScrollbarWrapper"]&&(z&&(this[b+"ScrollbarIndicator"].style[f+"Transform"]=""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var b=this;setTimeout(function(){b.options.onBeforeResize&&
b.options.onBeforeResize.call(b);b.refresh()},t?200:0)},_pos:function(b,a){b=this.hScroll?b:0;a=this.vScroll?a:0;this.options.useTransform?this.scroller.style[f+"Transform"]=n+b+"px,"+a+"px"+o+" scale("+this.scale+")":(b>>=0,a>>=0,this.scroller.style.left=b+"px",this.scroller.style.top=a+"px");this.x=b;this.y=a;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(b,a){var c=b=="h"?this.x:this.y;if(this[b+"Scrollbar"])c*=this[b+"ScrollbarProp"],c<0?(this.options.fixedScrollbar||
(c=this[b+"ScrollbarIndicatorSize"]+(c*3>>0),c<8&&(c=8),this[b+"ScrollbarIndicator"].style[b=="h"?"width":"height"]=c+"px"),c=0):c>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?c=this[b+"ScrollbarMaxScroll"]:(c=this[b+"ScrollbarIndicatorSize"]-((c-this[b+"ScrollbarMaxScroll"])*3>>0),c<8&&(c=8),this[b+"ScrollbarIndicator"].style[b=="h"?"width":"height"]=c+"px",c=this[b+"ScrollbarMaxScroll"]+(this[b+"ScrollbarIndicatorSize"]-c))),this[b+"ScrollbarWrapper"].style[f+"TransitionDelay"]="0",
this[b+"ScrollbarWrapper"].style.opacity=a&&this.options.hideScrollbar?"0":"1",this[b+"ScrollbarIndicator"].style[f+"Transform"]=n+(b=="h"?c+"px,0":"0,"+c+"px")+o},_start:function(b){var a=l?b.touches[0]:b,c,d;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.zoom&&
l&&b.touches.length>1)d=g.abs(b.touches[0].pageX-b.touches[1].pageX),c=g.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDistStart=g.sqrt(d*d+c*c),this.originX=g.abs(b.touches[0].pageX+b.touches[1].pageX-this.wrapperOffsetLeft*2)/2-this.x,this.originY=g.abs(b.touches[0].pageY+b.touches[1].pageY-this.wrapperOffsetTop*2)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,b);if(this.options.momentum&&(this.options.useTransform?(c=getComputedStyle(this.scroller,null)[f+"Transform"].replace(/[^0-9-.,]/g,
"").split(","),d=c[4]*1,c=c[5]*1):(d=getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,"")*1,c=getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")*1),d!=this.x||c!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):A(this.aniTime),this.steps=[],this._pos(d,c);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=a.pageX;this.pointY=a.pageY;this.startTime=b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,
b);this._bind(q);this._bind(r);this._bind(s)}},_move:function(b){var a=l?b.touches[0]:b,c=a.pageX-this.pointX,d=a.pageY-this.pointY,e=this.x+c,i=this.y+d,h=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,b);if(this.options.zoom&&l&&b.touches.length>1)e=g.abs(b.touches[0].pageX-b.touches[1].pageX),i=g.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=g.sqrt(e*e+i*i),this.zoomed=!0,a=1/this.touchesDistStart*this.touchesDist*this.scale,a<this.options.zoomMin?
a=0.5*this.options.zoomMin*Math.pow(2,a/this.options.zoomMin):a>this.options.zoomMax&&(a=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/a)),this.lastScale=a/this.scale,e=this.originX-this.originX*this.lastScale+this.x,i=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[f+"Transform"]=n+e+"px,"+i+"px"+o+" scale("+a+")",this.options.onZoom&&this.options.onZoom.call(this,b);else{this.pointX=a.pageX;this.pointY=a.pageY;if(e>0||e<this.maxScrollX)e=this.options.bounce?this.x+
c/2:e>=0||this.maxScrollX>=0?0:this.maxScrollX;if(i>this.minScrollY||i<this.maxScrollY)i=this.options.bounce?this.y+d/2:i>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY;this.distX+=c;this.distY+=d;this.absDistX=g.abs(this.distX);this.absDistY=g.abs(this.distY);if(!(this.absDistX<6&&this.absDistY<6)){if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)i=this.y,d=0;else if(this.absDistY>this.absDistX+5)e=this.x,c=0;this.moved=!0;this._pos(e,i);this.dirX=c>0?-1:c<0?1:
0;this.dirY=d>0?-1:d<0?1:0;if(h-this.startTime>300)this.startTime=h,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,b)}}},_end:function(b){if(!(l&&b.touches.length!=0)){var a=this,c=l?b.changedTouches[0]:b,d,e,i={dist:0,time:0},h={dist:0,time:0},k=(b.timeStamp||Date.now())-a.startTime,j=a.x,m=a.y;a._unbind(q);a._unbind(r);a._unbind(s);a.options.onBeforeScrollEnd&&a.options.onBeforeScrollEnd.call(a,b);if(a.zoomed)j=a.scale*a.lastScale,j=Math.max(a.options.zoomMin,
j),j=Math.min(a.options.zoomMax,j),a.lastScale=j/a.scale,a.scale=j,a.x=a.originX-a.originX*a.lastScale+a.x,a.y=a.originY-a.originY*a.lastScale+a.y,a.scroller.style[f+"TransitionDuration"]="200ms",a.scroller.style[f+"Transform"]=n+a.x+"px,"+a.y+"px"+o+" scale("+a.scale+")",a.zoomed=!1,a.refresh(),a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b);else{if(a.moved){if(k<300&&a.options.momentum){i=j?a._momentum(j-a.startX,k,-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):i;h=m?a._momentum(m-
a.startY,k,-a.y,a.maxScrollY<0?a.scrollerH-a.wrapperH+a.y-a.minScrollY:0,a.options.bounce?a.wrapperH:0):h;j=a.x+i.dist;m=a.y+h.dist;if(a.x>0&&j>0||a.x<a.maxScrollX&&j<a.maxScrollX)i={dist:0,time:0};if(a.y>a.minScrollY&&m>a.minScrollY||a.y<a.maxScrollY&&m<a.maxScrollY)h={dist:0,time:0}}if(i.dist||h.dist){i=g.max(g.max(i.time,h.time),10);if(a.options.snap)h=j-a.absStartX,k=m-a.absStartY,g.abs(h)<a.options.snapThreshold&&g.abs(k)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(h=a._snap(j,
m),j=h.x,m=h.y,i=g.max(h.time,i));a.scrollTo(j>>0,m>>0,i)}else a.options.snap?(h=j-a.absStartX,k=m-a.absStartY,g.abs(h)<a.options.snapThreshold&&g.abs(k)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(h=a._snap(a.x,a.y),(h.x!=a.x||h.y!=a.y)&&a.scrollTo(h.x,h.y,h.time))):a._resetPos(200)}else{if(l)a.doubleTapTimer&&a.options.zoom?(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null,a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.zoom(a.pointX,a.pointY,a.scale==1?a.options.doubleTapZoom:
1),a.options.onZoomEnd&&setTimeout(function(){a.options.onZoomEnd.call(a,b)},200)):a.doubleTapTimer=setTimeout(function(){a.doubleTapTimer=null;for(d=c.target;d.nodeType!=1;)d=d.parentNode;if(d.tagName!="SELECT"&&d.tagName!="INPUT"&&d.tagName!="TEXTAREA")e=document.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,b.view,1,c.screenX,c.screenY,c.clientX,c.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),e._fake=!0,d.dispatchEvent(e)},a.options.zoom?250:0);a._resetPos(200)}a.options.onTouchEnd&&
a.options.onTouchEnd.call(a,b)}}},_resetPos:function(b){var a=this.x>=0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,c=this.y>=this.minScrollY||this.maxScrollY>0?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(a==this.x&&c==this.y){if(this.moved)this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this);if(this.hScrollbar&&this.options.hideScrollbar)f=="webkit"&&(this.hScrollbarWrapper.style[f+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0";
if(this.vScrollbar&&this.options.hideScrollbar)f=="webkit"&&(this.vScrollbarWrapper.style[f+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(a,c,b||0)},_wheel:function(b){var a=this,c,d;if("wheelDeltaX"in b)c=b.wheelDeltaX/12,d=b.wheelDeltaY/12;else if("wheelDelta"in b)c=d=b.wheelDelta/12;else if("detail"in b)c=d=-b.detail*3;else return;if(a.options.wheelAction=="zoom"){d=a.scale*Math.pow(2,1/3*(d?d/Math.abs(d):0));if(d<a.options.zoomMin)d=a.options.zoomMin;
if(d>a.options.zoomMax)d=a.options.zoomMax;d!=a.scale&&(!a.wheelZoomCount&&a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.wheelZoomCount++,a.zoom(b.pageX,b.pageY,d,400),setTimeout(function(){a.wheelZoomCount--;!a.wheelZoomCount&&a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b)},400))}else{c=a.x+c;d=a.y+d;if(c>0)c=0;else if(c<a.maxScrollX)c=a.maxScrollX;if(d>a.minScrollY)d=a.minScrollY;else if(d<a.maxScrollY)d=a.maxScrollY;a.scrollTo(c,d,0)}},_mouseout:function(b){var a=b.relatedTarget;
if(a)for(;a=a.parentNode;)if(a==this.wrapper)return;this._end(b)},_transitionEnd:function(b){b.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var b=this,a=b.x,c=b.y,d=Date.now(),e,f,h;if(!b.animating)if(b.steps.length){e=b.steps.shift();if(e.x==a&&e.y==c)e.time=0;b.animating=!0;b.moved=!0;b.options.useTransition?(b._transitionTime(e.time),b._pos(e.x,e.y),b.animating=!1,e.time?b._bind("webkitTransitionEnd"):b._resetPos(0)):(h=function(){var k=Date.now();
if(k>=d+e.time)b._pos(e.x,e.y),b.animating=!1,b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b),b._startAni();else if(k=(k-d)/e.time-1,f=g.sqrt(1-k*k),k=(e.x-a)*f+a,b._pos(k,(e.y-c)*f+c),b.animating)b.aniTime=D(h)},h())}else b._resetPos(400)},_transitionTime:function(b){b+="ms";this.scroller.style[f+"TransitionDuration"]=b;this.hScrollbar&&(this.hScrollbarIndicator.style[f+"TransitionDuration"]=b);this.vScrollbar&&(this.vScrollbarIndicator.style[f+"TransitionDuration"]=b)},_momentum:function(b,
a,c,d,e){var a=g.abs(b)/a,f=a*a/0.0012,h=0,h=0;b>0&&f>c?(c+=e/(6/(f/a*6.0E-4)),a=a*c/f,f=c):b<0&&f>d&&(d+=e/(6/(f/a*6.0E-4)),a=a*d/f,f=d);f*=b<0?-1:1;return{dist:f,time:a/6.0E-4>>0}},_offset:function(b){for(var a=-b.offsetLeft,c=-b.offsetTop;b=b.offsetParent;)a-=b.offsetLeft,c-=b.offsetTop;b!=this.wrapper&&(a*=this.scale,c*=this.scale);return{left:a,top:c}},_snap:function(b,a){var c,d,e;e=this.pagesX.length-1;for(c=0,d=this.pagesX.length;c<d;c++)if(b>=this.pagesX[c]){e=c;break}e==this.currPageX&&
e>0&&this.dirX<0&&e--;b=this.pagesX[e];d=(d=g.abs(b-this.pagesX[this.currPageX]))?g.abs(this.x-b)/d*500:0;this.currPageX=e;e=this.pagesY.length-1;for(c=0;c<e;c++)if(a>=this.pagesY[c]){e=c;break}e==this.currPageY&&e>0&&this.dirY<0&&e--;a=this.pagesY[e];c=(c=g.abs(a-this.pagesY[this.currPageY]))?g.abs(this.y-a)/c*500:0;this.currPageY=e;e=g.max(d,c)>>0;return{x:b,y:a,time:e||200}},_bind:function(b,a,c){(a||this.scroller).addEventListener(b,this,!!c)},_unbind:function(b,a,c){(a||this.scroller).removeEventListener(b,
this,!!c)},destroy:function(){this.scroller.style[f+"Transform"]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(w,window);this._unbind(x);this._unbind(q);this._unbind(r);this._unbind(s);this.options.hasTouch||(this._unbind("mouseout",this.wrapper),this._unbind(y));this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b,
a,c,d=0;a=0;if(this.scale<this.options.zoomMin)this.scale=this.options.zoomMin;this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=this.scroller.offsetWidth*this.scale>>0;this.scrollerH=(this.scroller.offsetHeight+this.minScrollY)*this.scale>>0;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);
this.hScroll=this.options.hScroll&&this.maxScrollX<0;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if(typeof this.options.snap=="string"){this.pagesX=[];this.pagesY=[];c=this.scroller.querySelectorAll(this.options.snap);
for(b=0,a=c.length;b<a;b++)d=this._offset(c[b]),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,this.pagesX[b]=d.left<this.maxScrollX?this.maxScrollX:d.left*this.scale,this.pagesY[b]=d.top<this.maxScrollY?this.maxScrollY:d.top*this.scale}else if(this.options.snap){for(this.pagesX=[];d>=this.maxScrollX;)this.pagesX[a]=d,d-=this.wrapperW,a++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);
a=d=0;for(this.pagesY=[];d>=this.maxScrollY;)this.pagesY[a]=d,d-=this.wrapperH,a++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[f+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(b,a,c,d){var e=b;this.stop();e.length||(e=[{x:b,y:a,time:c,relative:d}]);for(b=0,a=e.length;b<a;b++){if(e[b].relative)e[b].x=
this.x-e[b].x,e[b].y=this.y-e[b].y;this.steps.push({x:e[b].x,y:e[b].y,time:e[b].time||0})}this._startAni()},scrollToElement:function(b,a){var c;if(b=b.nodeType?b:this.scroller.querySelector(b))c=this._offset(b),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,c.left=c.left>0?0:c.left<this.maxScrollX?this.maxScrollX:c.left,c.top=c.top>this.minScrollY?this.minScrollY:c.top<this.maxScrollY?this.maxScrollY:c.top,a=a===void 0?g.max(g.abs(c.left)*2,g.abs(c.top)*2):a,this.scrollTo(c.left,c.top,
a)},scrollToPage:function(b,a,c){c=c===void 0?400:c;this.options.onScrollStart&&this.options.onScrollStart.call(this);if(this.options.snap)b=b=="next"?this.currPageX+1:b=="prev"?this.currPageX-1:b,a=a=="next"?this.currPageY+1:a=="prev"?this.currPageY-1:a,b=b<0?0:b>this.pagesX.length-1?this.pagesX.length-1:b,a=a<0?0:a>this.pagesY.length-1?this.pagesY.length-1:a,this.currPageX=b,this.currPageY=a,b=this.pagesX[b],a=this.pagesY[a];else{b*=-this.wrapperW;a*=-this.wrapperH;if(b<this.maxScrollX)b=this.maxScrollX;
if(a<this.maxScrollY)a=this.maxScrollY}this.scrollTo(b,a,c)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(q);this._unbind(r);this._unbind(s)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):A(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(b,a,c,d){var e=c/this.scale;if(this.options.useTransform)this.zoomed=!0,d=d===void 0?200:d,b=b-this.wrapperOffsetLeft-this.x,a=a-this.wrapperOffsetTop-
this.y,this.x=b-b*e+this.x,this.y=a-a*e+this.y,this.scale=c,this.refresh(),this.x=this.x>0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[f+"TransitionDuration"]=d+"ms",this.scroller.style[f+"Transform"]=n+this.x+"px,"+this.y+"px"+o+" scale("+c+")",this.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};typeof exports!=="undefined"?exports.iScroll=p:window.iScroll=
p})();
var Sequencer=function(){function n(a){if(a.id>q&&f.progressShowImages)b(a.id),q=a.id}function o(){r.dispatch();h(f.playMode);i()}function h(a){c();f.playMode=a}function i(){c();if(f.playMode=="mouse")document.addEventListener("mousemove",j,!1),document.ontouchmove=function(a){j(a.touches[0]);return!1};else if(f.playMode=="loop"||f.playMode=="pong")p=setInterval(l,f.playInterval)}function c(){document.removeEventListener("mousemove",j);p&&clearInterval(p)}function l(){b(++d%e.length)}function j(a){var g=
e.length,c,k;if(f.mouseDirection=="x")k=window.innerWidth,c=a.pageX;else if(f.mouseDirection=="-x")k=window.innerWidth,c=k-a.pageX-1;else if(f.mouseDirection=="y")k=window.innerHeight,c=a.pageY;else if(f.mouseDirection=="-y")k=window.innerHeight,c=k-a.pageY-1;a=Math.min(g,Math.max(0,Math.floor(c/k*g)));a!=d&&(b(a),d=a)}function m(){b(d)}function b(a){if(a>=0&&a<e.length){var a=e[a],b=a.width/a.height,c,d;g.width()/g.height()>b?(c=g.width(),d=c/b):(d=g.height(),c=d*b);var b=Modernizr.touch?frame:$($.browser.mozilla||
$.browser.msie?"html":"body"),b=Math.max(0,g.width()/2-c/2)-b.scrollLeft(),f=canvas.height/2-d/2;context.drawImage(a,0,0,a.width,a.height,Math.round(b),Math.round(f),Math.round(c),Math.round(d))}}var g=$(window),d=-1,e=[],p,q=-1,r=new signals.Signal,f={folder:"",baseName:"",from:1,to:10,ext:"jpg",step:1,bgColor:"#000000",scaleMode:"cover",mouseDirection:"-y",playMode:"scroll",playInterval:20,progressDiam:"110",progressFontFamily:"Arial, sans-serif",progressFontSize:"0.7em",progressBgColor:"#ffffff",
progressFgColor:"#000000",progressMode:"doda",progressHeight:"5px",progressShowImages:!1,simultaneousLoads:4};return{init:function(a){for(prop in a)f[prop]=a[prop];f.canvas!=void 0?canvas=f.canvas:(canvas=document.createElement("canvas"),canvas.height=window.innerHeight,canvas.width=window.innerWidth,a=document.getElementById("intro-content"),a.appendChild(canvas),a.style.margin="0",a.style.padding="0",a.style.height="100%",a.style.backgroundColor=f.bgColor,a.style.overflow="hidden");context=canvas.getContext("2d");
Preloader.init(f,e,n,o);window.addEventListener("resize",m,!1);return{loadedSignal:r}},nextImage:l,setPlayMode:h,play:i,stop:c,setProgress:function(a){d=Math.ceil(e.length*a);b(d)}}}(),Preloader=function(){function n(){if(i.length>0){var b=i.shift();c[b.id].src=b.src;c[b.id].onload=function(){var b={img:this,id:c.indexOf(this)};j&&j(b);h.update(l);l++;l==c.length?(h&&(h=null),b={images:c,length:c.length},m&&m(b)):n()}}}function o(b){h=$("#image-loader-progress")[0];h.update=function(c){h.style.backgroundPosition=
Math.floor(c/(b.to-b.from)*6)*-91+"px 0px "}}var h,i,c,l=0,j,m;if(!Array.prototype.indexOf)Array.prototype.indexOf=function(b,c){var d=this.length,e=Number(c)||0,e=e<0?Math.ceil(e):Math.floor(e);for(e<0&&(e+=d);e<d;e++)if(e in this&&this[e]===b)return e;return-1};return{init:function(b,g,d,e){c=g;j=d;m=e;g=Math.floor((b.to-b.from+1)/b.step);i=Array(g);o(b);for(d=0;d<g;d++)i[d]={src:b.folder+"/"+b.baseName+(b.from+d*b.step)+"."+b.ext,id:d},c[d]=new Image;setTimeout(function(){for(var c=Math.max(1,
b.simultaneousLoads),d=0;d<c;d++)n()},300)},images:c}}();
(function(f){var c=/[\.\/]/,o=function(){},p=function(c,k){return c-k},n,k,r={n:{}},j=function(c,f){var r=k,o=Array.prototype.slice.call(arguments,2),w=j.listeners(c),l=0,N,I=[],J={},E=[],D=n;n=c;k=0;for(var x=0,R=w.length;x<R;x++)"zIndex"in w[x]&&(I.push(w[x].zIndex),w[x].zIndex<0&&(J[w[x].zIndex]=w[x]));for(I.sort(p);I[l]<0;)if(N=J[I[l++]],E.push(N.apply(f,o)),k)return k=r,E;for(x=0;x<R;x++)if(N=w[x],"zIndex"in N)if(N.zIndex==I[l]){E.push(N.apply(f,o));if(k)break;do if(l++,N=J[I[l]],N&&E.push(N.apply(f,
o)),k)break;while(N)}else J[N.zIndex]=N;else if(E.push(N.apply(f,o)),k)break;k=r;n=D;return E.length?E:null};j.listeners=function(f){var f=f.split(c),k=r,n,j,o,l,p,I,J,E,D=[k],x=[];for(l=0,p=f.length;l<p;l++){E=[];for(I=0,J=D.length;I<J;I++)for(k=D[I].n,j=[k[f[l]],k["*"]],o=2;o--;)n=j[o],n&&(E.push(n),x=x.concat(n.f||[]));D=E}return x};j.on=function(f,k){for(var n=f.split(c),j=r,p=0,l=n.length;p<l;p++)j=j.n,!j[n[p]]&&(j[n[p]]={n:{}}),j=j[n[p]];j.f=j.f||[];for(p=0,l=j.f.length;p<l;p++)if(j.f[p]==k)return o;
j.f.push(k);return function(c){+c==+c&&(k.zIndex=+c)}};j.stop=function(){k=1};j.nt=function(c){return c?RegExp("(?:\\.|\\/|^)"+c+"(?:\\.|\\/|$)").test(n):n};j.off=j.unbind=function(k,f){var n=k.split(c),j,o,l,p,I,J,E=[r];for(p=0,I=n.length;p<I;p++)for(J=0;J<E.length;J+=l.length-2){l=[J,1];j=E[J].n;if(n[p]!="*")j[n[p]]&&l.push(j[n[p]]);else for(o in j)j.hasOwnProperty(o)&&l.push(j[o]);E.splice.apply(E,l)}for(p=0,I=E.length;p<I;p++)for(j=E[p];j.n;){if(f){if(j.f){for(J=0,n=j.f.length;J<n;J++)if(j.f[J]==
f){j.f.splice(J,1);break}!j.f.length&&delete j.f}for(o in j.n)if(j.n.hasOwnProperty(o)&&j.n[o].f){l=j.n[o].f;for(J=0,n=l.length;J<n;J++)if(l[J]==f){l.splice(J,1);break}!l.length&&delete j.n[o].f}}else for(o in delete j.f,j.n)j.n.hasOwnProperty(o)&&j.n[o].f&&delete j.n[o].f;j=j.n}};j.once=function(c,f){var k=function(){var n=f.apply(this,arguments);j.unbind(c,k);return n};return j.on(c,k)};j.version="0.3.4";j.toString=function(){return"You are running Eve 0.3.4"};typeof module!="undefined"&&module.exports?
module.exports=j:typeof define!="undefined"?define("eve",[],function(){return j}):f.eve=j})(this);
(function(){function f(a){for(var h=0;h<G.length;h++)G[h].el.paper==a&&G.splice(h--,1)}function c(a,h,q,s,ba,Ra){var q=L(q),Z,i,c,f,m,v,j=a.ms,n={},r={},o={};if(s)for(B=0,z=G.length;B<z;B++){var A=G[B];if(A.el.id==h.id&&A.anim==a){A.percent!=q?(G.splice(B,1),c=1):i=A;h.attr(A.totalOrigin);break}}else s=+r;for(var B=0,z=a.percents.length;B<z;B++){if(a.percents[B]==q||a.percents[B]>s*a.top){q=a.percents[B];m=a.percents[B-1]||0;j=j/a.top*(q-m);f=a.percents[B+1];Z=a.anim[q];break}s&&h.attr(a.anim[a.percents[B]])}if(Z){if(i)i.initstatus=
s,i.start=new Date-i.ms*s;else{for(var t in Z)if(Z[D](t)&&(pa[D](t)||h.paper.customAttributes[D](t)))switch(n[t]=h.attr(t),n[t]==null&&(n[t]=Sa[t]),r[t]=Z[t],pa[t]){case O:o[t]=(r[t]-n[t])/j;break;case "colour":n[t]=l.getRGB(n[t]);B=l.getRGB(r[t]);o[t]={r:(B.r-n[t].r)/j,g:(B.g-n[t].g)/j,b:(B.b-n[t].b)/j};break;case "path":var B=ha(n[t],r[t]),u=B[1];n[t]=B[0];o[t]=[];for(B=0,z=n[t].length;B<z;B++){o[t][B]=[0];for(var F=1,C=n[t][B].length;F<C;F++)o[t][B][F]=(u[B][F]-n[t][B][F])/j}break;case "transform":B=
h._;if(u=Ta(B[t],r[t])){n[t]=u.from;r[t]=u.to;o[t]=[];o[t].real=!0;for(B=0,z=n[t].length;B<z;B++){o[t][B]=[n[t][B][0]];for(F=1,C=n[t][B].length;F<C;F++)o[t][B][F]=(r[t][B][F]-n[t][B][F])/j}}else u=h.matrix||new k,B={_:{transform:B.transform},getBBox:function(){return h.getBBox(1)}},n[t]=[u.a,u.b,u.c,u.d,u.e,u.f],Ca(B,r[t]),r[t]=B._.transform,o[t]=[(B.matrix.a-u.a)/j,(B.matrix.b-u.b)/j,(B.matrix.c-u.c)/j,(B.matrix.d-u.d)/j,(B.matrix.e-u.e)/j,(B.matrix.f-u.f)/j];break;case "csv":u=b(Z[t])[g](I);z=b(n[t])[g](I);
if(t=="clip-rect")for(n[t]=z,o[t]=[],B=z.length;B--;)o[t][B]=(u[B]-n[t][B])/j;r[t]=u;break;default:for(u=[][d](Z[t]),z=[][d](n[t]),o[t]=[],B=h.paper.customAttributes[t].length;B--;)o[t][B]=((u[B]||0)-(z[B]||0))/j}t=Z.easing;B=l.easing_formulas[t];if(!B)if((B=b(t).match(Ua))&&B.length==5)var w=B,B=function(a){return p(a,+w[1],+w[2],+w[3],+w[4],j)};else B=Va;v=Z.start||a.start||+new Date;A={anim:a,percent:q,timestamp:v,start:v+(a.del||0),status:0,initstatus:s||0,stop:!1,ms:j,easing:B,from:n,diff:o,
to:r,el:h,callback:Z.callback,prev:m,next:f,repeat:Ra||a.times,origin:h.attr(),totalOrigin:ba};G.push(A);if(s&&!i&&!c&&(A.stop=!0,A.start=new Date-j*s,G.length==1))return qa();c&&(A.start=new Date-A.ms*s);G.length==1&&Da(qa)}eve("raphael.anim.start."+h.id,h,a)}}function o(a,h){var q=[],s={};this.ms=h;this.times=1;if(a){for(var b in a)a[D](b)&&(s[L(b)]=a[b],q.push(L(b)));q.sort(Wa)}this.anim=s;this.top=q[q.length-1];this.percents=q}function p(a,h,q,s,b,d){function g(a,h){var q,s,b,ba;for(b=a,s=0;s<
8;s++){ba=((f*b+c)*b+i)*b-a;if(C(ba)<h)return b;q=(3*f*b+2*c)*b+i;if(C(q)<1.0E-6)break;b-=ba/q}q=0;s=1;b=a;if(b<q)return q;if(b>s)return s;for(;q<s;){ba=((f*b+c)*b+i)*b;if(C(ba-a)<h)break;a>ba?q=b:s=b;b=(s-q)/2+q}return b}var i=3*h,c=3*(s-h)-i,f=1-i-c,k=3*q,m=3*(b-q)-k,l=1-k-m;return function(a,h){var q=g(a,h);return((l*q+m)*q+k)*q}(a,1/(200*d))}function n(){return this.x+A+this.y+A+this.width+" \u00d7 "+this.height}function k(a,h,q,s,b,d){a!=null?(this.a=+a,this.b=+h,this.c=+q,this.d=+s,this.e=+b,
this.f=+d):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function r(a,h,q){a=l._path2curve(a);h=l._path2curve(h);for(var s,b,d,g,i,c,f,k,m,j,n=q?0:[],t=0,v=a.length;t<v;t++){var r=a[t];if(r[0]=="M")s=i=r[1],b=c=r[2];else{r[0]=="C"?(m=[s,b].concat(r.slice(1)),s=m[6],b=m[7]):(m=[s,b,s,b,i,c,i,c],s=i,b=c);for(var r=0,o=h.length;r<o;r++){var A=h[r];if(A[0]=="M")d=f=A[1],g=k=A[2];else{A[0]=="C"?(j=[d,g].concat(A.slice(1)),d=j[6],g=j[7]):(j=[d,g,d,g,f,k,f,k],d=f,g=k);var z=m,p=j,A=q,w=l.bezierBBox(z),
x=l.bezierBBox(p);if(l.isBBoxIntersect(w,x)){for(var w=S.apply(0,z),x=S.apply(0,p),w=~~(w/5),x=~~(x/5),V=[],O=[],y={},U=A?0:[],Q=0;Q<w+1;Q++){var D=l.findDotsAtSegment.apply(l,z.concat(Q/w));V.push({x:D.x,y:D.y,t:Q/w})}for(Q=0;Q<x+1;Q++)D=l.findDotsAtSegment.apply(l,p.concat(Q/x)),O.push({x:D.x,y:D.y,t:Q/x});for(Q=0;Q<w;Q++)for(z=0;z<x;z++){var G=V[Q],H=V[Q+1],p=O[z],I=O[z+1],J=C(H.x-G.x)<0.0010?"y":"x",M=C(I.x-p.x)<0.0010?"y":"x",E;b:{E=G.x;var K=G.y,L=H.x,N=H.y,P=p.x,aa=p.y,R=I.x,$=I.y;if(!(F(E,
L)<u(P,R)||u(E,L)>F(P,R)||F(K,N)<u(aa,$)||u(K,N)>F(aa,$))){var T=(E-L)*(aa-$)-(K-N)*(P-R);if(T){var Y=((E*N-K*L)*(P-R)-(E-L)*(P*$-aa*R))/T,T=((E*N-K*L)*(aa-$)-(K-N)*(P*$-aa*R))/T,W=+Y.toFixed(2),X=+T.toFixed(2);E=W<+u(E,L).toFixed(2)||W>+F(E,L).toFixed(2)||W<+u(P,R).toFixed(2)||W>+F(P,R).toFixed(2)||X<+u(K,N).toFixed(2)||X>+F(K,N).toFixed(2)||X<+u(aa,$).toFixed(2)||X>+F(aa,$).toFixed(2)?void 0:{x:Y,y:T};break b}}E=void 0}E&&y[E.x.toFixed(4)]!=E.y.toFixed(4)&&(y[E.x.toFixed(4)]=E.y.toFixed(4),G=G.t+
C((E[J]-G[J])/(H[J]-G[J]))*(H.t-G.t),p=p.t+C((E[M]-p[M])/(I[M]-p[M]))*(I.t-p.t),G>=0&&G<=1&&p>=0&&p<=1&&(A?U++:U.push({x:E.x,y:E.y,t1:G,t2:p})))}A=U}else A=A?0:[];if(q)n+=A;else{w=0;for(x=A.length;w<x;w++)A[w].segment1=t,A[w].segment2=r,A[w].bez1=m,A[w].bez2=j;n=n.concat(A)}}}}}return n}function j(a,h,q,s,b,d,g,i,c){if(!(c<0||S(a,h,q,s,b,d,g,i)<c)){var f=0.5,k=1-f,m;for(m=S(a,h,q,s,b,d,g,i,k);C(m-c)>0.01;)f/=2,k+=(m<c?1:-1)*f,m=S(a,h,q,s,b,d,g,i,k);return k}}function S(a,h,q,s,b,d,g,i,c){c==null&&
(c=1);c=c>1?1:c<0?0:c;c/=2;for(var f=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],k=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],m=0,l=0;l<12;l++){var j=c*f[l]+c,n=j*(j*(-3*a+9*q-9*b+3*g)+6*a-12*q+6*b)-3*a+3*q,j=j*(j*(-3*h+9*s-9*d+3*i)+6*h-12*s+6*d)-3*h+3*s;m+=k[l]*v.sqrt(n*n+j*j)}return c*m}function T(a,h){for(var q=[],s=0,b=a.length;b-2*!h>s;s+=2){var d=[{x:+a[s-2],y:+a[s-1]},{x:+a[s],y:+a[s+1]},{x:+a[s+2],y:+a[s+
3]},{x:+a[s+4],y:+a[s+5]}];h?s?b-4==s?d[3]={x:+a[0],y:+a[1]}:b-2==s&&(d[2]={x:+a[0],y:+a[1]},d[3]={x:+a[2],y:+a[3]}):d[0]={x:+a[b-2],y:+a[b-1]}:b-4==s?d[3]=d[2]:s||(d[0]={x:+a[s],y:+a[s+1]});q.push(["C",(-d[0].x+6*d[1].x+d[2].x)/6,(-d[0].y+6*d[1].y+d[2].y)/6,(d[1].x+6*d[2].x-d[3].x)/6,(d[1].y+6*d[2].y-d[3].y)/6,d[2].x,d[2].y])}return q}function X(){return this.hex}function K(a,h,q){function s(){var b=Array.prototype.slice.call(arguments,0),d=b.join("\u2400"),g=s.cache=s.cache||{},i=s.count=s.count||
[];if(g[D](d)){a:for(var b=i,i=d,c=0,f=b.length;c<f;c++)if(b[c]===i){b.push(b.splice(c,1)[0]);break a}return q?q(g[d]):g[d]}i.length>=1E3&&delete g[i.shift()];i.push(d);g[d]=a[y](h,b);return q?q(g[d]):g[d]}return s}function w(a){if(Object(a)!==a)return a;var h=new a.constructor,q;for(q in a)a[D](q)&&(h[q]=w(a[q]));return h}function l(a){if(l.is(a,"function"))return N?a():eve.on("raphael.DOMload",a);if(l.is(a,U))return l._engine.create[y](l,a.splice(0,3+l.is(a[0],O))).add(a);var h=Array.prototype.slice.call(arguments,
0);if(l.is(h[h.length-1],"function")){var q=h.pop();return N?q.call(l._engine.create[y](l,h)):eve.on("raphael.DOMload",function(){q.call(l._engine.create[y](l,h))})}return l._engine.create[y](l,arguments)}l.version="2.1.0";l.eve=eve;var N,I=/[, ]+/,J={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},E=/\{(\d+)\}/g,D="hasOwnProperty",x={doc:document,win:window},R=Object.prototype[D].call(x.win,"Raphael"),P=x.win.Raphael,H=function(){this.ca=this.customAttributes={}},y="apply",d="concat",t="createTouch"in
x.doc,A=" ",b=String,g="split",i="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[g](A),m={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},z=b.prototype.toLowerCase,v=Math,F=v.max,u=v.min,C=v.abs,V=v.pow,Q=v.PI,O="number",U="array",$=Object.prototype.toString;l._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i;var aa=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
Xa={NaN:1,Infinity:1,"-Infinity":1},Ua=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ra=v.round,L=parseFloat,ca=parseInt,Ea=b.prototype.toUpperCase,Sa=l._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",
r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},pa=l._availableAnimAttrs={blur:O,"clip-rect":"csv",cx:O,cy:O,fill:"colour","fill-opacity":O,"font-size":O,height:O,opacity:O,path:"path",r:O,rx:O,ry:O,stroke:"colour","stroke-opacity":O,"stroke-width":O,transform:"transform",width:O,x:O,y:O},sa=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,
Ya={hs:1,rg:1},Za=/,?([achlmqrstvxz]),?/gi,$a=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
ab=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,Fa=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig;
l._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/;var ia={},Wa=function(a,h){return L(a)-L(h)},ja=function(){},Va=function(a){return a},ta=l._rectPath=function(a,h,q,s,b){return b?[["M",a+b,h],["l",q-b*2,0],["a",b,b,0,0,1,
b,b],["l",0,s-b*2],["a",b,b,0,0,1,-b,b],["l",b*2-q,0],["a",b,b,0,0,1,-b,-b],["l",0,b*2-s],["a",b,b,0,0,1,b,-b],["z"]]:[["M",a,h],["l",q,0],["l",0,s],["l",-q,0],["z"]]},Ga=function(a,h,q,s){s==null&&(s=q);return[["M",a,h],["m",0,-s],["a",q,s,0,1,1,0,2*s],["a",q,s,0,1,1,0,-2*s],["z"]]},ka=l._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return Ga(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return Ga(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return ta(a.x,a.y,
a.width,a.height,a.r)},image:function(a){a=a.attrs;return ta(a.x,a.y,a.width,a.height)},text:function(a){a=a._getBBox();return ta(a.x,a.y,a.width,a.height)}},ua=l.mapPath=function(a,h){if(!h)return a;var q,s,b,d,g,i,c,a=ha(a);for(b=0,g=a.length;b<g;b++){c=a[b];for(d=1,i=c.length;d<i;d+=2)q=h.x(c[d],c[d+1]),s=h.y(c[d],c[d+1]),c[d]=q,c[d+1]=s}return a};l._g=x;l.type=x.win.SVGAngle||x.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(l.type=="VML"){var W=
x.doc.createElement("div"),la;W.innerHTML='<v:shape adj="1"/>';la=W.firstChild;la.style.behavior="url(#default#VML)";if(!la||typeof la.adj!="object")return l.type="";W=null}l.svg=!(l.vml=l.type=="VML");l._Paper=H;l.fn=H=H.prototype=l.prototype;l._id=0;l._oid=0;l.is=function(a,h){h=z.call(h);return h=="finite"?!Xa[D](+a):h=="array"?a instanceof Array:h=="null"&&a===null||h==typeof a&&a!==null||h=="object"&&a===Object(a)||h=="array"&&Array.isArray&&Array.isArray(a)||$.call(a).slice(8,-1).toLowerCase()==
h};l.angle=function(a,h,q,s,b,d){return b==null?(a-=q,h-=s,!a&&!h?0:(v.atan2(-h,-a)*180/Q+540)%360):l.angle(a,h,b,d)-l.angle(q,s,b,d)};l.rad=function(a){return a%360*Q/180};l.deg=function(a){return a*180/Q%360};l.snapTo=function(a,h,q){q=l.is(q,"finite")?q:10;if(l.is(a,U))for(var s=a.length;s--;){if(C(a[s]-h)<=q)return a[s]}else{a=+a;s=h%a;if(s<q)return h-s;if(s>a-q)return h-s+a}return h};l.createUUID=function(a,h){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,h).toUpperCase()}}(/[xy]/g,
function(a){var h=v.random()*16|0;return(a=="x"?h:h&3|8).toString(16)});l.setWindow=function(a){eve("raphael.setWindow",l,x.win,a);x.win=a;x.doc=x.win.document;l._engine.initWin&&l._engine.initWin(x.win)};var ma=function(a){if(l.vml){var h=/^\s+|\s+$/g,q;try{var s=new ActiveXObject("htmlfile");s.write("<body>");s.close();q=s.body}catch(d){q=createPopup().document.body}var g=q.createTextRange();ma=K(function(a){try{q.style.color=b(a).replace(h,"");var s=g.queryCommandValue("ForeColor");return"#"+("000000"+
((s&255)<<16|s&65280|(s&16711680)>>>16).toString(16)).slice(-6)}catch(d){return"none"}})}else{var i=x.doc.createElement("i");i.title="Rapha\u00ebl Colour Picker";i.style.display="none";x.doc.body.appendChild(i);ma=K(function(a){i.style.color=a;return x.doc.defaultView.getComputedStyle(i,"").getPropertyValue("color")})}return ma(a)},bb=function(){return"hsb("+[this.h,this.s,this.b]+")"},cb=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ha=function(){return this.hex},Ia=function(a,h,q){h==null&&
l.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(q=a.b,h=a.g,a=a.r);if(h==null&&l.is(a,"string"))q=l.getRGB(a),a=q.r,h=q.g,q=q.b;if(a>1||h>1||q>1)a/=255,h/=255,q/=255;return[a,h,q]},Ja=function(a,h,q,s){a*=255;h*=255;q*=255;a={r:a,g:h,b:q,hex:l.rgb(a,h,q),toString:Ha};l.is(s,"finite")&&(a.opacity=s);return a};l.color=function(a){var h;l.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(h=l.hsb2rgb(a),a.r=h.r,a.g=h.g,a.b=h.b,a.hex=h.hex):l.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(h=l.hsl2rgb(a),a.r=h.r,a.g=
h.g,a.b=h.b,a.hex=h.hex):(l.is(a,"string")&&(a=l.getRGB(a)),l.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(h=l.rgb2hsl(a),a.h=h.h,a.s=h.s,a.l=h.l,h=l.rgb2hsb(a),a.v=h.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1));a.toString=Ha;return a};l.hsb2rgb=function(a,h,q,s){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(q=a.b,h=a.s,a=a.h,s=a.o);a*=360;var b,d,g,i,c;a=a%360/60;c=q*h;i=c*(1-C(a%2-1));b=d=g=q-c;a=~~a;b+=[c,i,0,0,i,c][a];d+=[i,c,c,i,0,0][a];g+=[0,0,i,c,c,i][a];return Ja(b,d,g,s)};l.hsl2rgb=
function(a,h,q,s){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(q=a.l,h=a.s,a=a.h);if(a>1||h>1||q>1)a/=360,h/=100,q/=100;a*=360;var b,d,g,i,c;a=a%360/60;c=2*h*(q<0.5?q:1-q);i=c*(1-C(a%2-1));b=d=g=q-c/2;a=~~a;b+=[c,i,0,0,i,c][a];d+=[i,c,c,i,0,0][a];g+=[0,0,i,c,c,i][a];return Ja(b,d,g,s)};l.rgb2hsb=function(a,h,q){q=Ia(a,h,q);a=q[0];h=q[1];q=q[2];var s,b,d;b=F(a,h,q);d=b-u(a,h,q);s=d==0?null:b==a?(h-q)/d:b==h?(q-a)/d+2:(a-h)/d+4;s=(s+360)%6*60/360;a=d==0?0:d/b;return{h:s,s:a,b:b,toString:bb}};l.rgb2hsl=
function(a,h,q){q=Ia(a,h,q);a=q[0];h=q[1];q=q[2];var s,b,d,g,i;d=F(a,h,q);g=u(a,h,q);i=d-g;s=i==0?null:d==a?(h-q)/i:d==h?(q-a)/i+2:(a-h)/i+4;s=(s+360)%6*60/360;b=(d+g)/2;a=i==0?0:b<0.5?i/(2*b):i/(2-2*b);return{h:s,s:a,l:b,toString:cb}};l._path2string=function(){return this.join(",").replace(Za,"$1")};l._preload=function(a,h){var q=x.doc.createElement("img");q.style.cssText="position:absolute;left:-9999em;top:-9999em";q.onload=function(){h.call(this);this.onload=null;x.doc.body.removeChild(this)};
q.onerror=function(){x.doc.body.removeChild(this)};x.doc.body.appendChild(q);q.src=a};l.getRGB=K(function(a){if(!a||(a=b(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:X};if(a=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:X};!Ya[D](a.toLowerCase().substring(0,2))&&a.charAt()!="#"&&(a=ma(a));var h,q,s,d,i,c;if(a=a.match(aa)){a[2]&&(s=ca(a[2].substring(5),16),q=ca(a[2].substring(3,5),16),h=ca(a[2].substring(1,3),16));a[3]&&(s=ca((i=a[3].charAt(3))+i,16),q=ca((i=a[3].charAt(2))+
i,16),h=ca((i=a[3].charAt(1))+i,16));a[4]&&(c=a[4][g](sa),h=L(c[0]),c[0].slice(-1)=="%"&&(h*=2.55),q=L(c[1]),c[1].slice(-1)=="%"&&(q*=2.55),s=L(c[2]),c[2].slice(-1)=="%"&&(s*=2.55),a[1].toLowerCase().slice(0,4)=="rgba"&&(d=L(c[3])),c[3]&&c[3].slice(-1)=="%"&&(d/=100));if(a[5])return c=a[5][g](sa),h=L(c[0]),c[0].slice(-1)=="%"&&(h*=2.55),q=L(c[1]),c[1].slice(-1)=="%"&&(q*=2.55),s=L(c[2]),c[2].slice(-1)=="%"&&(s*=2.55),(c[0].slice(-3)=="deg"||c[0].slice(-1)=="\u00b0")&&(h/=360),a[1].toLowerCase().slice(0,
4)=="hsba"&&(d=L(c[3])),c[3]&&c[3].slice(-1)=="%"&&(d/=100),l.hsb2rgb(h,q,s,d);if(a[6])return c=a[6][g](sa),h=L(c[0]),c[0].slice(-1)=="%"&&(h*=2.55),q=L(c[1]),c[1].slice(-1)=="%"&&(q*=2.55),s=L(c[2]),c[2].slice(-1)=="%"&&(s*=2.55),(c[0].slice(-3)=="deg"||c[0].slice(-1)=="\u00b0")&&(h/=360),a[1].toLowerCase().slice(0,4)=="hsla"&&(d=L(c[3])),c[3]&&c[3].slice(-1)=="%"&&(d/=100),l.hsl2rgb(h,q,s,d);a={r:h,g:q,b:s,toString:X};a.hex="#"+(16777216|s|q<<8|h<<16).toString(16).slice(1);l.is(d,"finite")&&(a.opacity=
d);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:X}},l);l.hsb=K(function(a,h,q){return l.hsb2rgb(a,h,q).hex});l.hsl=K(function(a,h,q){return l.hsl2rgb(a,h,q).hex});l.rgb=K(function(a,h,q){return"#"+(16777216|q|h<<8|a<<16).toString(16).slice(1)});l.getColor=function(a){var a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75},h=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;a.h>1&&(a.h=0,a.s-=0.2,a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b}));return h.hex};l.getColor.reset=function(){delete this.start};
l.parsePathString=function(a){if(!a)return null;var h=da(a);if(h.arr)return Y(h.arr);var q={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},s=[];l.is(a,U)&&l.is(a[0],U)&&(s=Y(a));s.length||b(a).replace($a,function(a,h,b){var i=[],a=h.toLowerCase();b.replace(Fa,function(a,h){h&&i.push(+h)});a=="m"&&i.length>2&&(s.push([h][d](i.splice(0,2))),a="l",h=h=="m"?"l":"L");if(a=="r")s.push([h][d](i));else for(;i.length>=q[a];)if(s.push([h][d](i.splice(0,q[a]))),!q[a])break});s.toString=l._path2string;h.arr=Y(s);
return s};l.parseTransformString=K(function(a){if(!a)return null;var h=[];l.is(a,U)&&l.is(a[0],U)&&(h=Y(a));h.length||b(a).replace(ab,function(a,s,b){var i=[];z.call(s);b.replace(Fa,function(a,h){h&&i.push(+h)});h.push([s][d](i))});h.toString=l._path2string;return h});var da=function(a){var h=da.ps=da.ps||{};h[a]?h[a].sleep=100:h[a]={sleep:100};setTimeout(function(){for(var q in h)h[D](q)&&q!=a&&(h[q].sleep--,!h[q].sleep&&delete h[q])});return h[a]};l.findDotsAtSegment=function(a,h,q,s,b,d,i,c,g){var f=
1-g,k=V(f,3),m=V(f,2),l=g*g,j=l*g,n=k*a+m*3*g*q+f*3*g*g*b+j*i,k=k*h+m*3*g*s+f*3*g*g*d+j*c,m=a+2*g*(q-a)+l*(b-2*q+a),j=h+2*g*(s-h)+l*(d-2*s+h),t=q+2*g*(b-q)+l*(i-2*b+q),l=s+2*g*(d-s)+l*(c-2*d+s),a=f*a+g*q,h=f*h+g*s,b=f*b+g*i,d=f*d+g*c,c=90-v.atan2(m-t,j-l)*180/Q;(m>t||j<l)&&(c+=180);return{x:n,y:k,m:{x:m,y:j},n:{x:t,y:l},start:{x:a,y:h},end:{x:b,y:d},alpha:c}};l.bezierBBox=function(a,h,q,s,b,d,i,g){l.is(a,"array")||(a=[a,h,q,s,b,d,i,g]);a=Ka.apply(null,a);return{x:a.min.x,y:a.min.y,x2:a.max.x,y2:a.max.y,
width:a.max.x-a.min.x,height:a.max.y-a.min.y}};l.isPointInsideBBox=function(a,h,q){return h>=a.x&&h<=a.x2&&q>=a.y&&q<=a.y2};l.isBBoxIntersect=function(a,h){var q=l.isPointInsideBBox;return q(h,a.x,a.y)||q(h,a.x2,a.y)||q(h,a.x,a.y2)||q(h,a.x2,a.y2)||q(a,h.x,h.y)||q(a,h.x2,h.y)||q(a,h.x,h.y2)||q(a,h.x2,h.y2)||(a.x<h.x2&&a.x>h.x||h.x<a.x2&&h.x>a.x)&&(a.y<h.y2&&a.y>h.y||h.y<a.y2&&h.y>a.y)};l.pathIntersection=function(a,h){return r(a,h)};l.pathIntersectionNumber=function(a,h){return r(a,h,1)};l.isPointInsidePath=
function(a,h,q){var b=l.pathBBox(a);return l.isPointInsideBBox(b,h,q)&&r(a,[["M",h,q],["H",b.x2+10]],1)%2==1};l._removedFactory=function(a){return function(){eve("raphael.log",null,"Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object",a)}};var va=l.pathBBox=function(a){var h=da(a);if(h.bbox)return h.bbox;if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var a=ha(a),q=0,b=0,i=[],g=[],c,f=0,k=a.length;f<k;f++)c=a[f],c[0]=="M"?(q=c[1],b=c[2],i.push(q),g.push(b)):(q=Ka(q,b,
c[1],c[2],c[3],c[4],c[5],c[6]),i=i[d](q.min.x,q.max.x),g=g[d](q.min.y,q.max.y),q=c[5],b=c[6]);a=u[y](0,i);c=u[y](0,g);i=F[y](0,i);g=F[y](0,g);g={x:a,y:c,x2:i,y2:g,width:i-a,height:g-c};h.bbox=w(g);return g},Y=function(a){a=w(a);a.toString=l._path2string;return a},W=l._pathToRelative=function(a){var h=da(a);if(h.rel)return Y(h.rel);if(!l.is(a,U)||!l.is(a&&a[0],U))a=l.parsePathString(a);var q=[],b=0,d=0,i=0,c=0,g=0;a[0][0]=="M"&&(b=a[0][1],d=a[0][2],i=b,c=d,g++,q.push(["M",b,d]));for(var f=a.length;g<
f;g++){var k=q[g]=[],m=a[g];if(m[0]!=z.call(m[0]))switch(k[0]=z.call(m[0]),k[0]){case "a":k[1]=m[1];k[2]=m[2];k[3]=m[3];k[4]=m[4];k[5]=m[5];k[6]=+(m[6]-b).toFixed(3);k[7]=+(m[7]-d).toFixed(3);break;case "v":k[1]=+(m[1]-d).toFixed(3);break;case "m":i=m[1],c=m[2];default:for(var j=1,n=m.length;j<n;j++)k[j]=+(m[j]-(j%2?b:d)).toFixed(3)}else{q[g]=[];m[0]=="m"&&(i=m[1]+b,c=m[2]+d);k=0;for(j=m.length;k<j;k++)q[g][k]=m[k]}m=q[g].length;switch(q[g][0]){case "z":b=i;d=c;break;case "h":b+=+q[g][m-1];break;
case "v":d+=+q[g][m-1];break;default:b+=+q[g][m-2],d+=+q[g][m-1]}}q.toString=l._path2string;h.rel=Y(q);return q},La=l._pathToAbsolute=function(a){var h=da(a);if(h.abs)return Y(h.abs);if(!l.is(a,U)||!l.is(a&&a[0],U))a=l.parsePathString(a);if(!a||!a.length)return[["M",0,0]];var q=[],b=0,g=0,i=0,c=0,m=0;a[0][0]=="M"&&(b=+a[0][1],g=+a[0][2],i=b,c=g,m++,q[0]=["M",b,g]);for(var k=a.length==3&&a[0][0]=="M"&&a[1][0].toUpperCase()=="R"&&a[2][0].toUpperCase()=="Z",f,j=m,n=a.length;j<n;j++){q.push(m=[]);f=a[j];
if(f[0]!=Ea.call(f[0]))switch(m[0]=Ea.call(f[0]),m[0]){case "A":m[1]=f[1];m[2]=f[2];m[3]=f[3];m[4]=f[4];m[5]=f[5];m[6]=+(f[6]+b);m[7]=+(f[7]+g);break;case "V":m[1]=+f[1]+g;break;case "H":m[1]=+f[1]+b;break;case "R":for(var t=[b,g][d](f.slice(1)),v=2,r=t.length;v<r;v++)t[v]=+t[v]+b,t[++v]=+t[v]+g;q.pop();q=q[d](T(t,k));break;case "M":i=+f[1]+b,c=+f[2]+g;default:for(v=1,r=f.length;v<r;v++)m[v]=+f[v]+(v%2?b:g)}else if(f[0]=="R")t=[b,g][d](f.slice(1)),q.pop(),q=q[d](T(t,k)),m=["R"][d](f.slice(-2));else{v=
0;for(r=f.length;v<r;v++)m[v]=f[v]}switch(m[0]){case "Z":b=i;g=c;break;case "H":b=m[1];break;case "V":g=m[1];break;case "M":i=m[m.length-2],c=m[m.length-1];default:b=m[m.length-2],g=m[m.length-1]}}q.toString=l._path2string;h.abs=Y(q);return q},Ma=function(a,h,q,b,d,g){var i=1/3,c=2/3;return[i*a+c*q,i*h+c*b,i*d+c*q,i*g+c*b,d,g]},Na=function(a,h,q,b,i,c,m,f,k,j){var l=Q*120/180,n=Q/180*(+i||0),t=[],r,A=K(function(a,h,b){var q=a*v.cos(b)-h*v.sin(b),a=a*v.sin(b)+h*v.cos(b);return{x:q,y:a}});if(j)z=j[0],
r=j[1],c=j[2],o=j[3];else{r=A(a,h,-n);a=r.x;h=r.y;r=A(f,k,-n);f=r.x;k=r.y;v.cos(Q/180*i);v.sin(Q/180*i);r=(a-f)/2;z=(h-k)/2;o=r*r/(q*q)+z*z/(b*b);o>1&&(o=v.sqrt(o),q*=o,b*=o);var o=q*q,p=b*b,o=(c==m?-1:1)*v.sqrt(C((o*p-o*z*z-p*r*r)/(o*z*z+p*r*r))),c=o*q*z/b+(a+f)/2,o=o*-b*r/q+(h+k)/2,z=v.asin(((h-o)/b).toFixed(9));r=v.asin(((k-o)/b).toFixed(9));z=a<c?Q-z:z;r=f<c?Q-r:r;z<0&&(z=Q*2+z);r<0&&(r=Q*2+r);m&&z>r&&(z-=Q*2);!m&&r>z&&(r-=Q*2)}if(C(r-z)>l){var t=r,p=f,u=k;r=z+l*(m&&r>z?1:-1);f=c+q*v.cos(r);k=
o+b*v.sin(r);t=Na(f,k,q,b,i,0,m,p,u,[r,t,c,o])}c=r-z;i=v.cos(z);l=v.sin(z);m=v.cos(r);r=v.sin(r);c=v.tan(c/4);q=4/3*q*c;c*=4/3*b;b=[a,h];a=[a+q*l,h-c*i];h=[f+q*r,k-c*m];f=[f,k];a[0]=2*b[0]-a[0];a[1]=2*b[1]-a[1];if(j)return[a,h,f][d](t);t=[a,h,f][d](t).join()[g](",");j=[];f=0;for(k=t.length;f<k;f++)j[f]=f%2?A(t[f-1],t[f],n).y:A(t[f],t[f+1],n).x;return j},na=function(a,h,b,d,c,g,i,m,f){var k=1-f;return{x:V(k,3)*a+V(k,2)*3*f*b+k*3*f*f*c+V(f,3)*i,y:V(k,3)*h+V(k,2)*3*f*d+k*3*f*f*g+V(f,3)*m}},Ka=K(function(a,
h,b,d,c,g,i,f){var m=c-2*b+a-(i-2*c+b),k=2*(b-a)-2*(c-b),j=a-b,l=(-k+v.sqrt(k*k-4*m*j))/2/m,r=(-k-v.sqrt(k*k-4*m*j))/2/m,t=[h,f],n=[a,i],o;C(l)>"1e12"&&(l=0.5);C(r)>"1e12"&&(r=0.5);l>0&&l<1&&(o=na(a,h,b,d,c,g,i,f,l),n.push(o.x),t.push(o.y));r>0&&r<1&&(o=na(a,h,b,d,c,g,i,f,r),n.push(o.x),t.push(o.y));m=g-2*d+h-(f-2*g+d);k=2*(d-h)-2*(g-d);j=h-d;l=(-k+v.sqrt(k*k-4*m*j))/2/m;r=(-k-v.sqrt(k*k-4*m*j))/2/m;C(l)>"1e12"&&(l=0.5);C(r)>"1e12"&&(r=0.5);l>0&&l<1&&(o=na(a,h,b,d,c,g,i,f,l),n.push(o.x),t.push(o.y));
r>0&&r<1&&(o=na(a,h,b,d,c,g,i,f,r),n.push(o.x),t.push(o.y));return{min:{x:u[y](0,n),y:u[y](0,t)},max:{x:F[y](0,n),y:F[y](0,t)}}}),ha=l._path2curve=K(function(a,h){var b=!h&&da(a);if(!h&&b.curve)return Y(b.curve);var s=La(a),c=h&&La(h),g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f=function(a,h){var b,q;if(!a)return["C",h.x,h.y,h.x,h.y,h.x,h.y];!(a[0]in{T:1,Q:1})&&(h.qx=h.qy=null);switch(a[0]){case "M":h.X=a[1];h.Y=a[2];break;case "A":a=["C"][d](Na[y](0,
[h.x,h.y][d](a.slice(1))));break;case "S":b=h.x+(h.x-(h.bx||h.x));q=h.y+(h.y-(h.by||h.y));a=["C",b,q][d](a.slice(1));break;case "T":h.qx=h.x+(h.x-(h.qx||h.x));h.qy=h.y+(h.y-(h.qy||h.y));a=["C"][d](Ma(h.x,h.y,h.qx,h.qy,a[1],a[2]));break;case "Q":h.qx=a[1];h.qy=a[2];a=["C"][d](Ma(h.x,h.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"][d]([h.x,h.y,a[1],a[2],a[1],a[2]]);break;case "H":a=["C"][d]([h.x,h.y,a[1],h.y,a[1],h.y]);break;case "V":a=["C"][d]([h.x,h.y,h.x,a[1],h.x,a[1]]);break;case "Z":a=["C"][d]([h.x,
h.y,h.X,h.Y,h.X,h.Y])}return a},m=function(a,h){if(a[h].length>7){a[h].shift();for(var b=a[h];b.length;)a.splice(h++,0,["C"][d](b.splice(0,6)));a.splice(h,1);j=F(s.length,c&&c.length||0)}},k=function(a,h,b,q,d){a&&h&&a[d][0]=="M"&&h[d][0]!="M"&&(h.splice(d,0,["M",q.x,q.y]),b.bx=0,b.by=0,b.x=a[d][1],b.y=a[d][2],j=F(s.length,c&&c.length||0))},l=0,j=F(s.length,c&&c.length||0);for(;l<j;l++){s[l]=f(s[l],g);m(s,l);c&&(c[l]=f(c[l],i));c&&m(c,l);k(s,c,g,i,l);k(c,s,i,g,l);var r=s[l],t=c&&c[l],n=r.length,v=
c&&t.length;g.x=r[n-2];g.y=r[n-1];g.bx=L(r[n-4])||g.x;g.by=L(r[n-3])||g.y;i.bx=c&&(L(t[v-4])||i.x);i.by=c&&(L(t[v-3])||i.y);i.x=c&&t[v-2];i.y=c&&t[v-1]}c||(b.curve=Y(s));return c?[s,c]:s},null,Y);l._parseDots=K(function(a){for(var h=[],b=0,d=a.length;b<d;b++){var c={},g=a[b].match(/^([^:]*):?([\d\.]*)/);c.color=l.getRGB(g[1]);if(c.color.error)return null;c.color=c.color.hex;g[2]&&(c.offset=g[2]+"%");h.push(c)}for(b=1,d=h.length-1;b<d;b++)if(!h[b].offset){a=L(h[b-1].offset||0);g=0;for(c=b+1;c<d;c++)if(h[c].offset){g=
h[c].offset;break}g||(g=100,c=d);g=L(g);for(g=(g-a)/(c-b+1);b<c;b++)a+=g,h[b].offset=a+"%"}return h});var oa=l._tear=function(a,h){a==h.top&&(h.top=a.prev);a==h.bottom&&(h.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)};l._tofront=function(a,h){h.top!==a&&(oa(a,h),a.next=null,a.prev=h.top,h.top.next=a,h.top=a)};l._toback=function(a,h){h.bottom!==a&&(oa(a,h),a.next=h.bottom,a.prev=null,h.bottom.prev=a,h.bottom=a)};l._insertafter=function(a,h,b){oa(a,b);h==b.top&&(b.top=a);
h.next&&(h.next.prev=a);a.next=h.next;a.prev=h;h.next=a};l._insertbefore=function(a,h,b){oa(a,b);h==b.bottom&&(b.bottom=a);h.prev&&(h.prev.next=a);a.prev=h.prev;h.prev=a;a.next=h};var db=l.toMatrix=function(a,h){var b=va(a),d={_:{transform:""},getBBox:function(){return b}};Ca(d,h);return d.matrix};l.transformPath=function(a,h){return ua(a,db(a,h))};var Ca=l._extractTransform=function(a,h){if(h==null)return a._.transform;var h=b(h).replace(/\.{3}|\u2026/g,a._.transform||""),q=l.parseTransformString(h),
d=0,c=0,g=0,i=1,f=1,m=a._,j=new k;m.transform=q||[];if(q)for(var r=0,t=q.length;r<t;r++){var n=q[r],v=n.length,o=b(n[0]).toLowerCase(),z=n[0]!=o,A=z?j.invert():0,p,u,F,w,C;o=="t"&&v==3?z?(p=A.x(0,0),u=A.y(0,0),F=A.x(n[1],n[2]),w=A.y(n[1],n[2]),j.translate(F-p,w-u)):j.translate(n[1],n[2]):o=="r"?v==2?(C=C||a.getBBox(1),j.rotate(n[1],C.x+C.width/2,C.y+C.height/2),d+=n[1]):v==4&&(z?(F=A.x(n[2],n[3]),w=A.y(n[2],n[3]),j.rotate(n[1],F,w)):j.rotate(n[1],n[2],n[3]),d+=n[1]):o=="s"?v==2||v==3?(C=C||a.getBBox(1),
j.scale(n[1],n[v-1],C.x+C.width/2,C.y+C.height/2),i*=n[1],f*=n[v-1]):v==5&&(z?(F=A.x(n[3],n[4]),w=A.y(n[3],n[4]),j.scale(n[1],n[2],F,w)):j.scale(n[1],n[2],n[3],n[4]),i*=n[1],f*=n[2]):o=="m"&&v==7&&j.add(n[1],n[2],n[3],n[4],n[5],n[6]);m.dirtyT=1;a.matrix=j}a.matrix=j;m.sx=i;m.sy=f;m.deg=d;m.dx=c=j.e;m.dy=g=j.f;i==1&&f==1&&!d&&m.bbox?(m.bbox.x+=+c,m.bbox.y+=+g):m.dirtyT=1},Oa=function(a){var h=a[0];switch(h.toLowerCase()){case "t":return[h,0,0];case "m":return[h,1,0,0,1,0,0];case "r":return a.length==
4?[h,0,a[2],a[3]]:[h,0];case "s":return a.length==5?[h,1,1,a[3],a[4]]:a.length==3?[h,1,1]:[h,1]}},Ta=l._equaliseTransform=function(a,h){h=b(h).replace(/\.{3}|\u2026/g,a);a=l.parseTransformString(a)||[];h=l.parseTransformString(h)||[];for(var q=F(a.length,h.length),d=[],c=[],g=0,i,m,f,k;g<q;g++){f=a[g]||Oa(h[g]);k=h[g]||Oa(f);if(f[0]!=k[0]||f[0].toLowerCase()=="r"&&(f[2]!=k[2]||f[3]!=k[3])||f[0].toLowerCase()=="s"&&(f[3]!=k[3]||f[4]!=k[4]))return;d[g]=[];c[g]=[];for(i=0,m=F(f.length,k.length);i<m;i++)i in
f&&(d[g][i]=f[i]),i in k&&(c[g][i]=k[i])}return{from:d,to:c}};l._getContainer=function(a,h,b,d){var c;c=d==null&&!l.is(a,"object")?x.doc.getElementById(a):a;if(c!=null)return c.tagName?h==null?{container:c,width:c.style.pixelWidth||c.offsetWidth,height:c.style.pixelHeight||c.offsetHeight}:{container:c,width:h,height:b}:{container:1,x:a,y:h,width:b,height:d}};l.pathToRelative=W;l._engine={};l.path2curve=ha;l.matrix=function(a,h,b,d,c,g){return new k(a,h,b,d,c,g)};(function(a){function h(a){var h=v.sqrt(d(a));
a[0]&&(a[0]/=h);a[1]&&(a[1]/=h)}function d(a){return a[0]*a[0]+a[1]*a[1]}a.add=function(a,h,b,d,q,c){var g=[[],[],[]],i=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[a,b,q],[h,d,c],[0,0,1]];a&&a instanceof k&&(h=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;a<3;a++)for(b=0;b<3;b++){for(d=q=0;d<3;d++)q+=i[a][d]*h[d][b];g[a][b]=q}this.a=g[0][0];this.b=g[1][0];this.c=g[0][1];this.d=g[1][1];this.e=g[0][2];this.f=g[1][2]};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new k(this.d/
a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new k(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,h){this.add(1,0,0,1,a,h)};a.scale=function(a,h,b,d){h==null&&(h=a);(b||d)&&this.add(1,0,0,1,b,d);this.add(a,0,0,h,0,0);(b||d)&&this.add(1,0,0,1,-b,-d)};a.rotate=function(a,h,b){a=l.rad(a);h=h||0;b=b||0;var d=+v.cos(a).toFixed(9),a=+v.sin(a).toFixed(9);this.add(d,a,-a,d,h,b);this.add(1,0,0,1,-h,-b)};a.x=function(a,
h){return a*this.a+h*this.c+this.e};a.y=function(a,h){return a*this.b+h*this.d+this.f};a.get=function(a){return+this[b.fromCharCode(97+a)].toFixed(4)};a.toString=function(){return l.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+
this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var b=[[this.a,this.c],[this.b,this.d]];a.scalex=v.sqrt(d(b[0]));h(b[0]);a.shear=b[0][0]*b[1][0]+b[0][1]*b[1][1];b[1]=[b[1][0]-b[0][0]*a.shear,b[1][1]-b[0][1]*a.shear];a.scaley=v.sqrt(d(b[1]));h(b[1]);a.shear/=a.scaley;var c=-b[0][1],b=b[1][1];b<0?(a.rotate=l.deg(v.acos(b)),c<0&&(a.rotate=360-a.rotate)):a.rotate=l.deg(v.asin(c));
a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this[g]();return a.isSimple?(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx||a.dy?"t"+[a.dx,a.dy]:"")+(a.scalex!=1||a.scaley!=1?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,
0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(k.prototype);W=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(W&&W[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&W&&W[1]<8?H.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:H.safari=ja;for(var eb=function(){this.returnValue=
!1},fb=function(){return this.originalEvent.preventDefault()},gb=function(){this.cancelBubble=!0},hb=function(){return this.originalEvent.stopPropagation()},ib=function(){if(x.doc.addEventListener)return function(a,h,b,d){var c=t&&m[h]?m[h]:h,g=function(c){var g=c.clientX+(x.doc.documentElement.scrollLeft||x.doc.body.scrollLeft),i=c.clientY+(x.doc.documentElement.scrollTop||x.doc.body.scrollTop);if(t&&m[D](h))for(var f=0,k=c.targetTouches&&c.targetTouches.length;f<k;f++)if(c.targetTouches[f].target==
a){k=c;c=c.targetTouches[f];c.originalEvent=k;c.preventDefault=fb;c.stopPropagation=hb;break}return b.call(d,c,g,i)};a.addEventListener(c,g,!1);return function(){a.removeEventListener(c,g,!1);return!0}};if(x.doc.attachEvent)return function(a,h,b,d){var c=function(a){var a=a||x.win.event,h=a.clientX+(x.doc.documentElement.scrollLeft||x.doc.body.scrollLeft),c=a.clientY+(x.doc.documentElement.scrollTop||x.doc.body.scrollTop);a.preventDefault=a.preventDefault||eb;a.stopPropagation=a.stopPropagation||
gb;return b.call(d,a,h,c)};a.attachEvent("on"+h,c);return function(){a.detachEvent("on"+h,c);return!0}}}(),ea=[],wa=function(a){for(var h=a.clientX,b=a.clientY,d=x.doc.documentElement.scrollTop||x.doc.body.scrollTop,c=x.doc.documentElement.scrollLeft||x.doc.body.scrollLeft,g,i=ea.length;i--;){g=ea[i];if(t)for(var f=a.touches.length,m;f--;){if(m=a.touches[f],m.identifier==g.el._drag.id){h=m.clientX;b=m.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var f=
g.el.node,k;m=f.nextSibling;var n=f.parentNode,j=f.style.display;x.win.opera&&n.removeChild(f);f.style.display="none";k=g.el.paper.getElementByPoint(h,b);f.style.display=j;x.win.opera&&(m?n.insertBefore(f,m):n.appendChild(f));k&&eve("raphael.drag.over."+g.el.id,g.el,k);h+=c;b+=d;eve("raphael.drag.move."+g.el.id,g.move_scope||g.el,h-g.el._drag.x,b-g.el._drag.y,h,b,a)}},xa=function(a){l.unmousemove(wa).unmouseup(xa);for(var h=ea.length,b;h--;)b=ea[h],b.el._drag={},eve("raphael.drag.end."+b.el.id,b.end_scope||
b.start_scope||b.move_scope||b.el,a);ea=[]},M=l.el={},ja=i.length;ja--;)(function(a){l[a]=M[a]=function(h,b){l.is(h,"function")&&(this.events=this.events||[],this.events.push({name:a,f:h,unbind:ib(this.shape||this.node||x.doc,a,h,b||this)}));return this};l["un"+a]=M["un"+a]=function(h){for(var b=this.events||[],d=b.length;d--;)if(b[d].name==a&&b[d].f==h){b[d].unbind();b.splice(d,1);!b.length&&delete this.events;break}return this}})(i[ja]);M.data=function(a,h){var b=ia[this.id]=ia[this.id]||{};if(arguments.length==
1){if(l.is(a,"object")){for(var d in a)a[D](d)&&this.data(d,a[d]);return this}eve("raphael.data.get."+this.id,this,b[a],a);return b[a]}b[a]=h;eve("raphael.data.set."+this.id,this,h,a);return this};M.removeData=function(a){a==null?ia[this.id]={}:ia[this.id]&&delete ia[this.id][a];return this};M.hover=function(a,h,b,d){return this.mouseover(a,b).mouseout(h,d||b)};M.unhover=function(a,h){return this.unmouseover(a).unmouseout(h)};var fa=[];M.drag=function(a,h,b,d,c,g){function i(f){(f.originalEvent||
f).preventDefault();var m=x.doc.documentElement.scrollTop||x.doc.body.scrollTop,k=x.doc.documentElement.scrollLeft||x.doc.body.scrollLeft;this._drag.x=f.clientX+k;this._drag.y=f.clientY+m;this._drag.id=f.identifier;!ea.length&&l.mousemove(wa).mouseup(xa);ea.push({el:this,move_scope:d,start_scope:c,end_scope:g});h&&eve.on("raphael.drag.start."+this.id,h);a&&eve.on("raphael.drag.move."+this.id,a);b&&eve.on("raphael.drag.end."+this.id,b);eve("raphael.drag.start."+this.id,c||d||this,f.clientX+k,f.clientY+
m,f)}this._drag={};fa.push({el:this,start:i});this.mousedown(i);return this};M.onDragOver=function(a){a?eve.on("raphael.drag.over."+this.id,a):eve.unbind("raphael.drag.over."+this.id)};M.undrag=function(){for(var a=fa.length;a--;)fa[a].el==this&&(this.unmousedown(fa[a].start),fa.splice(a,1),eve.unbind("raphael.drag.*."+this.id));!fa.length&&l.unmousemove(wa).unmouseup(xa)};H.circle=function(a,h,b){a=l._engine.circle(this,a||0,h||0,b||0);this.__set__&&this.__set__.push(a);return a};H.rect=function(a,
b,d,c,g){a=l._engine.rect(this,a||0,b||0,d||0,c||0,g||0);this.__set__&&this.__set__.push(a);return a};H.ellipse=function(a,b,d,c){a=l._engine.ellipse(this,a||0,b||0,d||0,c||0);this.__set__&&this.__set__.push(a);return a};H.path=function(a){a&&!l.is(a,"string")&&!l.is(a[0],U)&&(a+="");var b=l._engine.path(l.format[y](l,arguments),this);this.__set__&&this.__set__.push(b);return b};H.image=function(a,b,d,c,g){a=l._engine.image(this,a||"about:blank",b||0,d||0,c||0,g||0);this.__set__&&this.__set__.push(a);
return a};H.text=function(a,h,d){a=l._engine.text(this,a||0,h||0,b(d));this.__set__&&this.__set__.push(a);return a};H.set=function(a){!l.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var b=new ga(a);this.__set__&&this.__set__.push(b);return b};H.setStart=function(a){this.__set__=a||this.set()};H.setFinish=function(){var a=this.__set__;delete this.__set__;return a};H.setSize=function(a,b){return l._engine.setSize.call(this,a,b)};H.setViewBox=function(a,b,d,c,g){return l._engine.setViewBox.call(this,
a,b,d,c,g)};H.top=H.bottom=null;H.raphael=l;H.getElementByPoint=function(a,b){var d,c,g=this.canvas,i=x.doc.elementFromPoint(a,b);if(x.win.opera&&i.tagName=="svg"){c=g.getBoundingClientRect();d=g.ownerDocument;var f=d.body,m=d.documentElement;d=c.top+(x.win.pageYOffset||m.scrollTop||f.scrollTop)-(m.clientTop||f.clientTop||0);c=c.left+(x.win.pageXOffset||m.scrollLeft||f.scrollLeft)-(m.clientLeft||f.clientLeft||0);f=g.createSVGRect();f.x=a-c;f.y=b-d;f.width=f.height=1;d=g.getIntersectionList(f,null);
d.length&&(i=d[d.length-1])}if(!i)return null;for(;i.parentNode&&i!=g.parentNode&&!i.raphael;)i=i.parentNode;i==this.canvas.parentNode&&(i=g);i=i&&i.raphael?this.getById(i.raphaelid):null;return i};H.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null};H.forEach=function(a,b){for(var d=this.bottom;d;){if(a.call(b,d)===!1)break;d=d.next}return this};H.getElementsByPoint=function(a,b){var d=this.set();this.forEach(function(c){c.isPointInside(a,b)&&d.push(c)});return d};
M.isPointInside=function(a,b){var d=this.realPath=this.realPath||ka[this.type](this);return l.isPointInsidePath(d,a,b)};M.getBBox=function(a){if(this.removed)return{};var b=this._;if(a){if(b.dirty||!b.bboxwt)this.realPath=ka[this.type](this),b.bboxwt=va(this.realPath),b.bboxwt.toString=n,b.dirty=0;return b.bboxwt}if(b.dirty||b.dirtyT||!b.bbox){if(b.dirty||!this.realPath)b.bboxwt=0,this.realPath=ka[this.type](this);b.bbox=va(ua(this.realPath,this.matrix));b.bbox.toString=n;b.dirty=b.dirtyT=0}return b.bbox};
M.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(a);return a};M.glow=function(a){if(this.type=="text")return null;for(var a=a||{},b=(a.width||10)+(+this.attr("stroke-width")||1),d=a.fill||!1,c=a.opacity||0.5,g=a.offsetx||0,i=a.offsety||0,a=a.color||"#000",f=b/2,m=this.paper,k=m.set(),n=this.realPath||ka[this.type](this),n=this.matrix?ua(n,this.matrix):n,j=1;j<f+1;j++)k.push(m.path(n).attr({stroke:a,fill:d?a:"none","stroke-linejoin":"round",
"stroke-linecap":"round","stroke-width":+(b/f*j).toFixed(3),opacity:+(c/f).toFixed(3)}));return k.insertBefore(this).translate(g,i)};var ya=function(a,b,d,c,g,i,f,m,k){return k==null?S(a,b,d,c,g,i,f,m):l.findDotsAtSegment(a,b,d,c,g,i,f,m,j(a,b,d,c,g,i,f,m,k))},i=function(a,b){return function(d,c,g){for(var d=ha(d),i,f,m,k,n="",j={},r,t=0,v=0,o=d.length;v<o;v++){m=d[v];if(m[0]=="M")i=+m[1],f=+m[2];else{k=ya(i,f,m[1],m[2],m[3],m[4],m[5],m[6]);if(t+k>c){if(b&&!j.start){r=ya(i,f,m[1],m[2],m[3],m[4],m[5],
m[6],c-t);n+=["C"+r.start.x,r.start.y,r.m.x,r.m.y,r.x,r.y];if(g)return n;j.start=n;n=["M"+r.x,r.y+"C"+r.n.x,r.n.y,r.end.x,r.end.y,m[5],m[6]].join();t+=k;i=+m[5];f=+m[6];continue}if(!a&&!b)return r=ya(i,f,m[1],m[2],m[3],m[4],m[5],m[6],c-t),{x:r.x,y:r.y,alpha:r.alpha}}t+=k;i=+m[5];f=+m[6]}n+=m.shift()+m}j.end=n;r=a?t:b?j:l.findDotsAtSegment(i,f,m[0],m[1],m[2],m[3],m[4],m[5],1);r.alpha&&(r={x:r.x,y:r.y,alpha:r.alpha});return r}},Pa=i(1),Qa=i(),za=i(0,1);l.getTotalLength=Pa;l.getPointAtLength=Qa;l.getSubpath=
function(a,b,d){if(this.getTotalLength(a)-d<1.0E-6)return za(a,b).end;a=za(a,d,1);return b?za(a,b).end:a};M.getTotalLength=function(){if(this.type=="path")return this.node.getTotalLength?this.node.getTotalLength():Pa(this.attrs.path)};M.getPointAtLength=function(a){if(this.type=="path")return Qa(this.attrs.path,a)};M.getSubpath=function(a,b){if(this.type=="path")return l.getSubpath(this.attrs.path,a,b)};i=l.easing_formulas={linear:function(a){return a},"<":function(a){return V(a,1.7)},">":function(a){return V(a,
0.48)},"<>":function(a){var b=0.48-a/1.04,d=v.sqrt(0.1734+b*b),a=d-b,a=V(C(a),1/3)*(a<0?-1:1),b=-d-b,b=V(C(b),1/3)*(b<0?-1:1),a=a+b+0.5;return(1-a)*3*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return a==!!a?a:V(2,-10*a)*v.sin((a-0.075)*2*Q/0.3)+1},bounce:function(a){var b;a<1/2.75?b=7.5625*a*a:a<2/2.75?(a-=1.5/2.75,b=7.5625*a*a+0.75):a<2.5/2.75?(a-=2.25/2.75,b=7.5625*a*a+0.9375):(a-=2.625/2.75,b=7.5625*
a*a+0.984375);return b}};i.easeIn=i["ease-in"]=i["<"];i.easeOut=i["ease-out"]=i[">"];i.easeInOut=i["ease-in-out"]=i["<>"];i["back-in"]=i.backIn;i["back-out"]=i.backOut;var G=[],Da=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},qa=function(){for(var a=+new Date,b=0;b<G.length;b++){var g=G[b];if(!g.el.removed&&!g.paused){var i=a-g.start,m=g.ms,f=g.easing,k=
g.from,n=g.diff,j=g.to,r=g.el,t={},v,o={},z;g.initstatus?(i=(g.initstatus*g.anim.top-g.prev)/(g.percent-g.prev)*m,g.status=g.initstatus,delete g.initstatus,g.stop&&G.splice(b--,1)):g.status=(g.prev+(g.percent-g.prev)*(i/m))/g.anim.top;if(!(i<0))if(i<m){var p=f(i/m),u;for(u in k)if(k[D](u)){switch(pa[u]){case O:v=+k[u]+p*m*n[u];break;case "colour":v="rgb("+[Aa(ra(k[u].r+p*m*n[u].r)),Aa(ra(k[u].g+p*m*n[u].g)),Aa(ra(k[u].b+p*m*n[u].b))].join(",")+")";break;case "path":v=[];i=0;for(f=k[u].length;i<f;i++){v[i]=
[k[u][i][0]];j=1;for(o=k[u][i].length;j<o;j++)v[i][j]=+k[u][i][j]+p*m*n[u][i][j];v[i]=v[i].join(A)}v=v.join(A);break;case "transform":if(n[u].real){v=[];for(i=0,f=k[u].length;i<f;i++){v[i]=[k[u][i][0]];for(j=1,o=k[u][i].length;j<o;j++)v[i][j]=k[u][i][j]+p*m*n[u][i][j]}}else v=function(a){return+k[u][a]+p*m*n[u][a]},v=[["m",v(0),v(1),v(2),v(3),v(4),v(5)]];break;case "csv":if(u=="clip-rect")for(v=[],i=4;i--;)v[i]=+k[u][i]+p*m*n[u][i];break;default:f=[][d](k[u]);for(v=[],i=r.paper.customAttributes[u].length;i--;)v[i]=
+f[i]+p*m*n[u][i]}t[u]=v}r.attr(t);(function(a,b,h){setTimeout(function(){eve("raphael.anim.frame."+a,b,h)})})(r.id,r,g.anim)}else{(function(a,b,h){setTimeout(function(){eve("raphael.anim.frame."+b.id,b,h);eve("raphael.anim.finish."+b.id,b,h);l.is(a,"function")&&a.call(b)})})(g.callback,r,g.anim);r.attr(j);G.splice(b--,1);if(g.repeat>1&&!g.next){for(z in j)j[D](z)&&(o[z]=g.totalOrigin[z]);g.el.attr(o);c(g.anim,g.el,g.anim.percents[0],null,g.totalOrigin,g.repeat-1)}g.next&&!g.stop&&c(g.anim,g.el,g.next,
null,g.totalOrigin,g.repeat)}}}l.svg&&r&&r.paper&&r.paper.safari();G.length&&Da(qa)},Aa=function(a){return a>255?255:a<0?0:a};M.animateWith=function(a,b,d,g,i,m){if(this.removed)return m&&m.call(this),this;d=d instanceof o?d:l.animation(d,g,i,m);c(d,this,d.percents[0],null,this.attr());d=0;for(g=G.length;d<g;d++)if(G[d].anim==b&&G[d].el==a){G[g-1].start=G[d].start;break}return this};M.onAnimation=function(a){a?eve.on("raphael.anim.frame."+this.id,a):eve.unbind("raphael.anim.frame."+this.id);return this};
o.prototype.delay=function(a){var b=new o(this.anim,this.ms);b.times=this.times;b.del=+a||0;return b};o.prototype.repeat=function(a){var b=new o(this.anim,this.ms);b.del=this.del;b.times=v.floor(F(a,0))||1;return b};l.animation=function(a,b,d,g){if(a instanceof o)return a;if(l.is(d,"function")||!d)g=g||d||null,d=null;a=Object(a);b=+b||0;var c={},i,m;for(m in a)a[D](m)&&L(m)!=m&&L(m)+"%"!=m&&(i=!0,c[m]=a[m]);if(!i)return new o(a,b);d&&(c.easing=d);g&&(c.callback=g);return new o({100:c},b)};M.animate=
function(a,b,d,g){if(this.removed)return g&&g.call(this),this;a=a instanceof o?a:l.animation(a,b,d,g);c(a,this,a.percents[0],null,this.attr());return this};M.setTime=function(a,b){a&&b!=null&&this.status(a,u(b,a.ms)/a.ms);return this};M.status=function(a,b){var d=[],g=0,i,m;if(b!=null)return c(a,this,-1,u(b,1)),this;for(i=G.length;g<i;g++)if(m=G[g],m.el.id==this.id&&(!a||m.anim==a)){if(a)return m.status;d.push({anim:m.anim,status:m.status})}return a?0:d};M.pause=function(a){for(var b=0;b<G.length;b++)G[b].el.id==
this.id&&(!a||G[b].anim==a)&&eve("raphael.anim.pause."+this.id,this,G[b].anim)!==!1&&(G[b].paused=!0);return this};M.resume=function(a){for(var b=0;b<G.length;b++)if(G[b].el.id==this.id&&(!a||G[b].anim==a)){var d=G[b];eve("raphael.anim.resume."+this.id,this,d.anim)!==!1&&(delete d.paused,this.status(d.anim,d.status))}return this};M.stop=function(a){for(var b=0;b<G.length;b++)G[b].el.id==this.id&&(!a||G[b].anim==a)&&eve("raphael.anim.stop."+this.id,this,G[b].anim)!==!1&&G.splice(b--,1);return this};
eve.on("raphael.remove",f);eve.on("raphael.clear",f);M.toString=function(){return"Rapha\u00ebl\u2019s object"};var ga=function(a){this.items=[];this.length=0;this.type="set";if(a)for(var b=0,d=a.length;b<d;b++)a[b]&&(a[b].constructor==M.constructor||a[b].constructor==ga)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},i=ga.prototype;i.push=function(){for(var a,b,d=0,g=arguments.length;d<g;d++)a=arguments[d],a&&(a.constructor==M.constructor||a.constructor==ga)&&(b=this.items.length,
this[b]=this.items[b]=a,this.length++);return this};i.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};i.forEach=function(a,b){for(var d=0,g=this.items.length;d<g;d++)if(a.call(b,this.items[d],d)===!1)break;return this};for(var Ba in M)M[D](Ba)&&(i[Ba]=function(a){return function(){var b=arguments;return this.forEach(function(d){d[a][y](d,b)})}}(Ba));i.attr=function(a,b){if(a&&l.is(a,U)&&l.is(a[0],"object"))for(var d=0,g=a.length;d<g;d++)this.items[d].attr(a[d]);else{d=
0;for(g=this.items.length;d<g;d++)this.items[d].attr(a,b)}return this};i.clear=function(){for(;this.length;)this.pop()};i.splice=function(a,b,d){a=a<0?F(this.length+a,0):a;b=F(0,u(this.length-a,b));var g=[],c=[],i=[],m;for(m=2;m<arguments.length;m++)i.push(arguments[m]);for(m=0;m<b;m++)c.push(this[a+m]);for(;m<this.length-a;m++)g.push(this[a+m]);var f=i.length;for(m=0;m<f+g.length;m++)this.items[a+m]=this[a+m]=m<f?i[m]:g[m-f];for(m=this.items.length=this.length-=b-f;this[m];)delete this[m++];return new ga(c)};
i.exclude=function(a){for(var b=0,d=this.length;b<d;b++)if(this[b]==a)return this.splice(b,1),!0};i.animate=function(a,b,d,g){(l.is(d,"function")||!d)&&(g=d||null);var c=this.items.length,i=c,m=this,f;if(!c)return this;g&&(f=function(){!--c&&g.call(m)});d=l.is(d,"string")?d:f;b=l.animation(a,b,d,f);for(a=this.items[--i].animate(b);i--;)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(a,b,b);return this};i.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);
return this};i.getBBox=function(){for(var a=[],b=[],d=[],g=[],c=this.items.length;c--;)if(!this.items[c].removed){var i=this.items[c].getBBox();a.push(i.x);b.push(i.y);d.push(i.x+i.width);g.push(i.y+i.height)}a=u[y](0,a);b=u[y](0,b);d=F[y](0,d);g=F[y](0,g);return{x:a,y:b,x2:d,y2:g,width:d-a,height:g-b}};i.clone=function(a){for(var a=new ga,b=0,d=this.items.length;b<d;b++)a.push(this.items[b].clone());return a};i.toString=function(){return"Rapha\u00ebl\u2018s set"};l.registerFont=function(a){if(!a.face)return a;
this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},d=a.face["font-family"],g;for(g in a.face)a.face[D](g)&&(b.face[g]=a.face[g]);this.fonts[d]?this.fonts[d].push(b):this.fonts[d]=[b];if(!a.svg){b.face["units-per-em"]=ca(a.face["units-per-em"],10);for(var c in a.glyphs)if(a.glyphs[D](c)&&(d=a.glyphs[c],b.glyphs[c]={w:d.w,k:{},d:d.d&&"M"+d.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},d.k))for(var i in d.k)d[D](i)&&(b.glyphs[c].k[i]=d.k[i])}return a};
H.getFont=function(a,b,d,g){g=g||"normal";d=d||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(l.fonts){var c=l.fonts[a];if(!c){var a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i"),i;for(i in l.fonts)if(l.fonts[D](i)&&a.test(i)){c=l.fonts[i];break}}var m;if(c){i=0;for(a=c.length;i<a;i++)if(m=c[i],m.face["font-weight"]==b&&(m.face["font-style"]==d||!m.face["font-style"])&&m.face["font-stretch"]==g)break}return m}};H.print=function(a,d,c,i,m,f,k){f=f||"middle";
k=F(u(k||0,1),-1);var n=b(c)[g](""),j=0,r=0,v="";l.is(i,c)&&(i=this.getFont(i));if(i)for(var c=(m||16)/i.face["units-per-em"],t=i.face.bbox[g](I),m=+t[0],o=t[3]-t[1],z=0,f=+t[1]+(f=="baseline"?o+ +i.face.descent:o/2),t=0,A=n.length;t<A;t++){if(n[t]=="\n")j=0,w=0,r=0,z+=o;else{var p=r&&i.glyphs[n[t-1]]||{},w=i.glyphs[n[t]];j+=r?(p.w||i.w)+(p.k&&p.k[n[t]]||0)+i.w*k:0;r=1}w&&w.d&&(v+=l.transformPath(w.d,["t",j*c,z*c,"s",c,c,m,f,"t",(a-m)/c,(d-f)/c]))}return this.path(v).attr({fill:"#000",stroke:"none"})};
H.add=function(a){if(l.is(a,"array"))for(var b=this.set(),d=0,g=a.length,c;d<g;d++)c=a[d]||{},J[D](c.type)&&b.push(this[c.type]().attr(c));return b};l.format=function(a,b){var g=l.is(b,U)?[0][d](b):arguments;a&&l.is(a,"string")&&g.length-1&&(a=a.replace(E,function(a,b){return g[++b]==null?"":g[b]}));return a||""};l.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,d=function(a,d,g){var c=g;d.replace(b,function(a,b,d,g,i){b=b||g;c&&(b in c&&(c=c[b]),
typeof c=="function"&&i&&(c=c()))});c=(c==null||c==g?a:c)+"";return c};return function(b,g){return String(b).replace(a,function(a,b){return d(a,b,g)})}}();l.ninja=function(){R?x.win.Raphael=P:delete Raphael;return l};l.st=i;(function(a,b,d){function g(){/in/.test(a.readyState)?setTimeout(g,9):l.eve("raphael.DOMload")}a.readyState==null&&a.addEventListener&&(a.addEventListener(b,d=function(){a.removeEventListener(b,d,!1);a.readyState="complete"},!1),a.readyState="loading");g()})(document,"DOMContentLoaded");
R?x.win.Raphael=l:Raphael=l;eve.on("raphael.DOMload",function(){N=!0})})();
window.Raphael.svg&&function(f){var c=String,o=parseFloat,p=parseInt,n=Math,k=n.max,r=n.abs,j=n.pow,S=/[, ]+/,T=f.eve,X={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},K={};f.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var w=function(d,k){if(k){typeof d=="string"&&(d=w(d));for(var n in k)k.hasOwnProperty(n)&&(n.substring(0,
6)=="xlink:"?d.setAttributeNS("http://www.w3.org/1999/xlink",n.substring(6),c(k[n])):d.setAttribute(n,c(k[n])))}else d=f._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},l=function(d,l){var A="linear",b=d.id+l,g=0.5,i=0.5,m=d.node,z=d.paper,v=m.style,p=f._g.doc.getElementById(b);if(!p){l=c(l).replace(f._radial_gradient,function(b,d,c){A="radial";d&&c&&(g=o(d),i=o(c),b=(i>0.5)*2-1,j(g-0.5,2)+j(i-0.5,2)>0.25&&(i=n.sqrt(0.25-
j(g-0.5,2))*b+0.5)&&i!=0.5&&(i=i.toFixed(5)-1.0E-5*b));return""});l=l.split(/\s*\-\s*/);if(A=="linear"){var u=l.shift(),u=-o(u);if(isNaN(u))return null;var C=[0,0,n.cos(f.rad(u)),n.sin(f.rad(u))],u=1/(k(r(C[2]),r(C[3]))||1);C[2]*=u;C[3]*=u;C[2]<0&&(C[0]=-C[2],C[2]=0);C[3]<0&&(C[1]=-C[3],C[3]=0)}u=f._parseDots(l);if(!u)return null;b=b.replace(/[\(\)\s,\xb0#]/g,"_");d.gradient&&b!=d.gradient.id&&(z.defs.removeChild(d.gradient),delete d.gradient);if(!d.gradient){p=w(A+"Gradient",{id:b});d.gradient=p;
w(p,A=="radial"?{fx:g,fy:i}:{x1:C[0],y1:C[1],x2:C[2],y2:C[3],gradientTransform:d.matrix.invert()});z.defs.appendChild(p);z=0;for(C=u.length;z<C;z++)p.appendChild(w("stop",{offset:u[z].offset?u[z].offset:z?"100%":"0%","stop-color":u[z].color||"#fff"}))}}w(m,{fill:"url(#"+b+")",opacity:1,"fill-opacity":1});v.fill="";v.opacity=1;v.fillOpacity=1;return 1},N=function(d){var c=d.getBBox(1);w(d.pattern,{patternTransform:d.matrix.invert()+" translate("+c.x+","+c.y+")"})},I=function(d,k,n){if(d.type=="path"){for(var b=
c(k).toLowerCase().split("-"),g=d.paper,i=n?"end":"start",m=d.node,j=d.attrs,r=j["stroke-width"],l=b.length,o="classic",p,x,S,O,y,E=3,D=3,H=5;l--;)switch(b[l]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":o=b[l];break;case "wide":D=5;break;case "narrow":D=2;break;case "long":E=5;break;case "short":E=2}o=="open"?(E+=2,D+=2,H+=2,S=1,O=n?4:1,y={fill:"none",stroke:j.stroke}):(O=S=E/2,y={fill:j.stroke,stroke:"none"});d._.arrows?n?(d._.arrows.endPath&&K[d._.arrows.endPath]--,
d._.arrows.endMarker&&K[d._.arrows.endMarker]--):(d._.arrows.startPath&&K[d._.arrows.startPath]--,d._.arrows.startMarker&&K[d._.arrows.startMarker]--):d._.arrows={};if(o!="none"){b="raphael-marker-"+o;l="raphael-marker-"+i+o+E+D;f._g.doc.getElementById(b)?K[b]++:(g.defs.appendChild(w(w("path"),{"stroke-linecap":"round",d:X[o],id:b})),K[b]=1);var I=f._g.doc.getElementById(l),J;I?(K[l]++,J=I.getElementsByTagName("use")[0]):(I=w(w("marker"),{id:l,markerHeight:D,markerWidth:E,orient:"auto",refX:O,refY:D/
2}),J=w(w("use"),{"xlink:href":"#"+b,transform:(n?"rotate(180 "+E/2+" "+D/2+") ":"")+"scale("+E/H+","+D/H+")","stroke-width":(1/((E/H+D/H)/2)).toFixed(4)}),I.appendChild(J),g.defs.appendChild(I),K[l]=1);w(J,y);g=S*(o!="diamond"&&o!="oval");n?(p=d._.arrows.startdx*r||0,x=f.getTotalLength(j.path)-g*r):(p=g*r,x=f.getTotalLength(j.path)-(d._.arrows.enddx*r||0));y={};y["marker-"+i]="url(#"+l+")";if(x||p)y.d=Raphael.getSubpath(j.path,p,x);w(m,y);d._.arrows[i+"Path"]=b;d._.arrows[i+"Marker"]=l;d._.arrows[i+
"dx"]=g;d._.arrows[i+"Type"]=o;d._.arrows[i+"String"]=k}else n?(p=d._.arrows.startdx*r||0,x=f.getTotalLength(j.path)-p):(p=0,x=f.getTotalLength(j.path)-(d._.arrows.enddx*r||0)),d._.arrows[i+"Path"]&&w(m,{d:Raphael.getSubpath(j.path,p,x)}),delete d._.arrows[i+"Path"],delete d._.arrows[i+"Marker"],delete d._.arrows[i+"dx"],delete d._.arrows[i+"Type"],delete d._.arrows[i+"String"];for(y in K)K.hasOwnProperty(y)&&!K[y]&&(d=f._g.doc.getElementById(y))&&d.parentNode.removeChild(d)}},J={"":[0],none:[0],
"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},E=function(d,f,k){if(f=J[c(f).toLowerCase()]){for(var b=d.attrs["stroke-width"]||"1",k={round:b,square:b,butt:0}[d.attrs["stroke-linecap"]||k["stroke-linecap"]]||0,g=[],i=f.length;i--;)g[i]=f[i]*b+(i%2?1:-1)*k;w(d.node,{"stroke-dasharray":g.join(",")})}},D=function(d,n){var j=d.node,b=d.attrs,g=j.style.visibility;j.style.visibility="hidden";for(var i in n)if(n.hasOwnProperty(i)&&
f._availableAttrs.hasOwnProperty(i)){var m=n[i];b[i]=m;switch(i){case "blur":d.blur(m);break;case "href":case "title":case "target":var o=j.parentNode;if(o.tagName.toLowerCase()!="a"){var v=w("a");o.insertBefore(v,j);v.appendChild(j);o=v}i=="target"?o.setAttributeNS("http://www.w3.org/1999/xlink","show",m=="blank"?"new":m):o.setAttributeNS("http://www.w3.org/1999/xlink",i,m);break;case "cursor":j.style.cursor=m;break;case "transform":d.transform(m);break;case "arrow-start":I(d,m);break;case "arrow-end":I(d,
m,1);break;case "clip-rect":o=c(m).split(S);if(o.length==4){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var v=w("clipPath"),F=w("rect");v.id=f.createUUID();w(F,{x:o[0],y:o[1],width:o[2],height:o[3]});v.appendChild(F);d.paper.defs.appendChild(v);w(j,{"clip-path":"url(#"+v.id+")"});d.clip=F}if(!m&&(m=j.getAttribute("clip-path")))m=f._g.doc.getElementById(m.replace(/(^url\(#|\)$)/g,"")),m&&m.parentNode.removeChild(m),w(j,{"clip-path":""}),delete d.clip;break;case "path":d.type==
"path"&&(w(j,{d:m?b.path=f._pathToAbsolute(m):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&I(d,d._.arrows.startString),"endString"in d._.arrows&&I(d,d._.arrows.endString,1)));break;case "width":if(j.setAttribute(i,m),d._.dirty=1,b.fx)i="x",m=b.x;else break;case "x":b.fx&&(m=-b.x-(b.width||0));case "rx":if(i=="rx"&&d.type=="rect")break;case "cx":j.setAttribute(i,m);d.pattern&&N(d);d._.dirty=1;break;case "height":if(j.setAttribute(i,m),d._.dirty=1,b.fy)i="y",m=b.y;else break;case "y":b.fy&&
(m=-b.y-(b.height||0));case "ry":if(i=="ry"&&d.type=="rect")break;case "cy":j.setAttribute(i,m);d.pattern&&N(d);d._.dirty=1;break;case "r":d.type=="rect"?w(j,{rx:m,ry:m}):j.setAttribute(i,m);d._.dirty=1;break;case "src":d.type=="image"&&j.setAttributeNS("http://www.w3.org/1999/xlink","href",m);break;case "stroke-width":if(d._.sx!=1||d._.sy!=1)m/=k(r(d._.sx),r(d._.sy))||1;d.paper._vbSize&&(m*=d.paper._vbSize);j.setAttribute(i,m);b["stroke-dasharray"]&&E(d,b["stroke-dasharray"],n);d._.arrows&&("startString"in
d._.arrows&&I(d,d._.arrows.startString),"endString"in d._.arrows&&I(d,d._.arrows.endString,1));break;case "stroke-dasharray":E(d,m,n);break;case "fill":var u=c(m).match(f._ISURL);if(u){var v=w("pattern"),C=w("image");v.id=f.createUUID();w(v,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});w(C,{x:0,y:0,"xlink:href":u[1]});v.appendChild(C);(function(b){f._preload(u[1],function(){var g=this.offsetWidth,c=this.offsetHeight;w(b,{width:g,height:c});w(C,{width:g,height:c});d.paper.safari()})})(v);
d.paper.defs.appendChild(v);w(j,{fill:"url(#"+v.id+")"});d.pattern=v;d.pattern&&N(d);break}var y=f.getRGB(m);if(y.error){if((d.type=="circle"||d.type=="ellipse"||c(m).charAt()!="r")&&l(d,m)){if("opacity"in b||"fill-opacity"in b){var D=f._g.doc.getElementById(j.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(D){var O=D.getElementsByTagName("stop");w(O[O.length-1],{"stop-opacity":("opacity"in b?b.opacity:1)*("fill-opacity"in b?b["fill-opacity"]:1)})}}b.gradient=m;b.fill="none";break}}else delete n.gradient,
delete b.gradient,!f.is(b.opacity,"undefined")&&f.is(n.opacity,"undefined")&&w(j,{opacity:b.opacity}),!f.is(b["fill-opacity"],"undefined")&&f.is(n["fill-opacity"],"undefined")&&w(j,{"fill-opacity":b["fill-opacity"]});y.hasOwnProperty("opacity")&&w(j,{"fill-opacity":y.opacity>1?y.opacity/100:y.opacity});case "stroke":y=f.getRGB(m);j.setAttribute(i,y.hex);i=="stroke"&&y.hasOwnProperty("opacity")&&w(j,{"stroke-opacity":y.opacity>1?y.opacity/100:y.opacity});i=="stroke"&&d._.arrows&&("startString"in d._.arrows&&
I(d,d._.arrows.startString),"endString"in d._.arrows&&I(d,d._.arrows.endString,1));break;case "gradient":(d.type=="circle"||d.type=="ellipse"||c(m).charAt()!="r")&&l(d,m);break;case "opacity":b.gradient&&!b.hasOwnProperty("stroke-opacity")&&w(j,{"stroke-opacity":m>1?m/100:m});case "fill-opacity":if(b.gradient){D=f._g.doc.getElementById(j.getAttribute("fill").replace(/^url\(#|\)$/g,""));D&&(O=D.getElementsByTagName("stop"),w(O[O.length-1],{"stop-opacity":m}));break}default:i=="font-size"&&(m=p(m,10)+
"px"),o=i.replace(/(\-.)/g,function(b){return b.substring(1).toUpperCase()}),j.style[o]=m,d._.dirty=1,j.setAttribute(i,m)}}x(d,n);j.style.visibility=g},x=function(d,k){if(d.type=="text"&&(k.hasOwnProperty("text")||k.hasOwnProperty("font")||k.hasOwnProperty("font-size")||k.hasOwnProperty("x")||k.hasOwnProperty("y"))){var j=d.attrs,b=d.node,g=b.firstChild?p(f._g.doc.defaultView.getComputedStyle(b.firstChild,"").getPropertyValue("font-size"),10):10;if(k.hasOwnProperty("text")){for(j.text=k.text;b.firstChild;)b.removeChild(b.firstChild);
for(var i=c(k.text).split("\n"),m=[],n,r=0,l=i.length;r<l;r++)n=w("tspan"),r&&w(n,{dy:g*1.2,x:j.x}),n.appendChild(f._g.doc.createTextNode(i[r])),b.appendChild(n),m[r]=n}else{m=b.getElementsByTagName("tspan");for(r=0,l=m.length;r<l;r++)r?w(m[r],{dy:g*1.2,x:j.x}):w(m[0],{dy:0})}w(b,{x:j.x,y:j.y});d._.dirty=1;b=d._getBBox();(j=j.y-(b.y+b.height/2))&&f.is(j,"finite")&&w(m[0],{dy:j})}},R=function(d,c){this[0]=this.node=d;d.raphael=!0;this.id=f._oid++;d.raphaelid=this.id;this.matrix=f.matrix();this.realPath=
null;this.paper=c;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!c.bottom&&(c.bottom=this);this.prev=c.top;c.top&&(c.top.next=this);c.top=this;this.next=null},P=f.el;R.prototype=P;P.constructor=R;f._engine.path=function(d,c){var f=w("path");c.canvas&&c.canvas.appendChild(f);f=new R(f,c);f.type="path";D(f,{fill:"none",stroke:"#000",path:d});return f};P.rotate=function(d,f,k){if(this.removed)return this;d=c(d).split(S);d.length-1&&(f=o(d[1]),k=o(d[2]));d=o(d[0]);
k==null&&(f=k);if(f==null||k==null)k=this.getBBox(1),f=k.x+k.width/2,k=k.y+k.height/2;this.transform(this._.transform.concat([["r",d,f,k]]));return this};P.scale=function(d,f,k,b){if(this.removed)return this;d=c(d).split(S);d.length-1&&(f=o(d[1]),k=o(d[2]),b=o(d[3]));d=o(d[0]);f==null&&(f=d);b==null&&(k=b);if(k==null||b==null)var g=this.getBBox(1);k=k==null?g.x+g.width/2:k;b=b==null?g.y+g.height/2:b;this.transform(this._.transform.concat([["s",d,f,k,b]]));return this};P.translate=function(d,f){if(this.removed)return this;
d=c(d).split(S);d.length-1&&(f=o(d[1]));d=o(d[0])||0;f=+f||0;this.transform(this._.transform.concat([["t",d,f]]));return this};P.transform=function(d){var c=this._;if(d==null)return c.transform;f._extractTransform(this,d);this.clip&&w(this.clip,{transform:this.matrix.invert()});this.pattern&&N(this);this.node&&w(this.node,{transform:this.matrix});if(c.sx!=1||c.sy!=1)this.attr({"stroke-width":this.attrs.hasOwnProperty("stroke-width")?this.attrs["stroke-width"]:1});return this};P.hide=function(){!this.removed&&
this.paper.safari(this.node.style.display="none");return this};P.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};P.remove=function(){if(!this.removed&&this.node.parentNode){var d=this.paper;d.__set__&&d.__set__.exclude(this);T.unbind("raphael.*.*."+this.id);this.gradient&&d.defs.removeChild(this.gradient);f._tear(this,d);this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);
for(var c in this)this[c]=typeof this[c]=="function"?f._removedFactory(c):null;this.removed=!0}};P._getBBox=function(){if(this.node.style.display=="none"){this.show();var d=!0}var c={};try{c=this.node.getBBox()}catch(f){}finally{c=c||{}}d&&this.hide();return c};P.attr=function(d,c){if(this.removed)return this;if(d==null){var k={},b;for(b in this.attrs)this.attrs.hasOwnProperty(b)&&(k[b]=this.attrs[b]);k.gradient&&k.fill=="none"&&(k.fill=k.gradient)&&delete k.gradient;k.transform=this._.transform;
return k}if(c==null&&f.is(d,"string")){if(d=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(d=="transform")return this._.transform;b=d.split(S);for(var k={},g=0,i=b.length;g<i;g++)d=b[g],d in this.attrs?k[d]=this.attrs[d]:f.is(this.paper.customAttributes[d],"function")?k[d]=this.paper.customAttributes[d].def:k[d]=f._availableAttrs[d];return i-1?k:k[b[0]]}if(c==null&&f.is(d,"array")){k={};for(g=0,i=d.length;g<i;g++)k[d[g]]=this.attr(d[g]);return k}c!=null?(k={},
k[d]=c):d!=null&&f.is(d,"object")&&(k=d);for(g in k)T("raphael.attr."+g+"."+this.id,this,k[g]);for(g in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(g)&&k.hasOwnProperty(g)&&f.is(this.paper.customAttributes[g],"function"))for(i in b=this.paper.customAttributes[g].apply(this,[].concat(k[g])),this.attrs[g]=k[g],b)b.hasOwnProperty(i)&&(k[i]=b[i]);D(this,k);return this};P.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):
this.node.parentNode.appendChild(this.node);var d=this.paper;d.top!=this&&f._tofront(this,d);return this};P.toBack=function(){if(this.removed)return this;var d=this.node.parentNode;d.tagName.toLowerCase()=="a"?d.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):d.firstChild!=this.node&&d.insertBefore(this.node,this.node.parentNode.firstChild);f._toback(this,this.paper);return this};P.insertAfter=function(d){if(this.removed)return this;var c=d.node||d[d.length-
1].node;c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node);f._insertafter(this,d,this.paper);return this};P.insertBefore=function(d){if(this.removed)return this;var c=d.node||d[0].node;c.parentNode.insertBefore(this.node,c);f._insertbefore(this,d,this.paper);return this};P.blur=function(d){if(+d!==0){var c=w("filter"),k=w("feGaussianBlur");this.attrs.blur=d;c.id=f.createUUID();w(k,{stdDeviation:+d||1.5});c.appendChild(k);this.paper.defs.appendChild(c);
this._blur=c;w(this.node,{filter:"url(#"+c.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter")};f._engine.circle=function(d,c,f,b){var g=w("circle");d.canvas&&d.canvas.appendChild(g);d=new R(g,d);d.attrs={cx:c,cy:f,r:b,fill:"none",stroke:"#000"};d.type="circle";w(g,d.attrs);return d};f._engine.rect=function(d,c,f,b,g,i){var m=w("rect");d.canvas&&d.canvas.appendChild(m);d=new R(m,d);d.attrs={x:c,y:f,
width:b,height:g,r:i||0,rx:i||0,ry:i||0,fill:"none",stroke:"#000"};d.type="rect";w(m,d.attrs);return d};f._engine.ellipse=function(d,c,f,b,g){var i=w("ellipse");d.canvas&&d.canvas.appendChild(i);d=new R(i,d);d.attrs={cx:c,cy:f,rx:b,ry:g,fill:"none",stroke:"#000"};d.type="ellipse";w(i,d.attrs);return d};f._engine.image=function(d,c,f,b,g,i){var m=w("image");w(m,{x:f,y:b,width:g,height:i,preserveAspectRatio:"none"});m.setAttributeNS("http://www.w3.org/1999/xlink","href",c);d.canvas&&d.canvas.appendChild(m);
d=new R(m,d);d.attrs={x:f,y:b,width:g,height:i,src:c};d.type="image";return d};f._engine.text=function(d,c,k,b){var g=w("text");d.canvas&&d.canvas.appendChild(g);d=new R(g,d);d.attrs={x:c,y:k,"text-anchor":"middle",text:b,font:f._availableAttrs.font,stroke:"none",fill:"#000"};d.type="text";D(d,d.attrs);return d};f._engine.setSize=function(d,c){this.width=d||this.width;this.height=c||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);this._viewBox&&
this.setViewBox.apply(this,this._viewBox);return this};f._engine.create=function(){var d=f._getContainer.apply(0,arguments),c=d&&d.container,k=d.x,b=d.y,g=d.width,d=d.height;if(!c)throw Error("SVG container not found.");var i=w("svg"),m;k=k||0;b=b||0;g=g||512;d=d||342;w(i,{height:d,version:1.1,width:g,xmlns:"http://www.w3.org/2000/svg"});c==1?(i.style.cssText="overflow:hidden;position:absolute;left:"+k+"px;top:"+b+"px",f._g.doc.body.appendChild(i),m=1):(i.style.cssText="overflow:hidden;position:relative",
c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i));c=new f._Paper;c.width=g;c.height=d;c.canvas=i;c.clear();c._left=c._top=0;m&&(c.renderfix=function(){});c.renderfix();return c};f._engine.setViewBox=function(d,c,f,b,g){T("raphael.setViewBox",this,this._viewBox,[d,c,f,b,g]);var i=k(f/this.width,b/this.height),m=this.top,j,n;for(d==null?(this._vbSize&&(i=1),delete this._vbSize,j="0 0 "+this.width+" "+this.height):(this._vbSize=i,j=d+" "+c+" "+f+" "+b),w(this.canvas,{viewBox:j,preserveAspectRatio:g?
"meet":"xMinYMin"});i&&m;)n="stroke-width"in m.attrs?m.attrs["stroke-width"]:1,m.attr({"stroke-width":n}),m._.dirty=1,m._.dirtyT=1,m=m.prev;this._viewBox=[d,c,f,b,!!g];return this};f.prototype.renderfix=function(){var d=this.canvas,c=d.style,f;try{f=d.getScreenCTM()||d.createSVGMatrix()}catch(b){f=d.createSVGMatrix()}d=-f.e%1;f=-f.f%1;if(d||f)d&&(this._left=(this._left+d)%1,c.left=this._left+"px"),f&&(this._top=(this._top+f)%1,c.top=this._top+"px")};f.prototype.clear=function(){f.eve("raphael.clear",
this);for(var d=this.canvas;d.firstChild;)d.removeChild(d.firstChild);this.bottom=this.top=null;(this.desc=w("desc")).appendChild(f._g.doc.createTextNode("Created with Rapha\u00ebl "+f.version));d.appendChild(this.desc);d.appendChild(this.defs=w("defs"))};f.prototype.remove=function(){T("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var d in this)this[d]=typeof this[d]=="function"?f._removedFactory(d):null};var H=f.st,y;for(y in P)P.hasOwnProperty(y)&&
!H.hasOwnProperty(y)&&(H[y]=function(d){return function(){var c=arguments;return this.forEach(function(f){f[d].apply(f,c)})}}(y))}(window.Raphael);
window.Raphael.vml&&function(f){var c=String,o=parseFloat,p=Math,n=p.round,k=p.max,r=p.min,j=p.abs,S=/[, ]+/,T=f.eve,X={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},K=/([clmz]),?([^clmz]*)/gi,w=/ progid:\S+Blur\([^\)]+\)/g,l=/-?[^,\s-]+/g,N={path:1,rect:1,image:1},I={circle:1,ellipse:1},J=function(b){var d=/[ahqstv]/ig,i=f._pathToAbsolute;c(b).match(d)&&(i=f._path2curve);d=/[clmz]/g;if(i==f._pathToAbsolute&&!c(b).match(d))return b=c(b).replace(K,function(b,d,c){var g=[],i=d.toLowerCase()=="m",
f=X[d];c.replace(l,function(b){i&&g.length==2&&(f+=g+X[d=="m"?"l":"L"],g=[]);g.push(n(b*21600))});return f+g});for(var d=i(b),m,b=[],k=0,j=d.length;k<j;k++){i=d[k];m=d[k][0].toLowerCase();m=="z"&&(m="x");for(var r=1,o=i.length;r<o;r++)m+=n(i[r]*21600)+(r!=o-1?",":"");b.push(m)}return b.join(" ")},E=function(b,d,c){var m=f.matrix();m.rotate(-b,0.5,0.5);return{dx:m.x(d,c),dy:m.y(d,c)}},D=function(b,d,c,f,k,n){var r=b._,l=b.matrix,o=r.fillpos,b=b.node,p=b.style,t=1,w="",x=21600/d,y=21600/c;p.visibility=
"hidden";if(d&&c){b.coordsize=j(x)+" "+j(y);p.rotation=n*(d*c<0?-1:1);if(n){var A=E(n,f,k);f=A.dx;k=A.dy}d<0&&(w+="x");c<0&&(w+=" y")&&(t=-1);p.flip=w;b.coordorigin=f*-x+" "+k*-y;if(o||r.fillsize)f=b.getElementsByTagName("fill"),f=f&&f[0],b.removeChild(f),o&&(A=E(n,l.x(o[0],o[1]),l.y(o[0],o[1])),f.position=A.dx*t+" "+A.dy*t),r.fillsize&&(f.size=r.fillsize[0]*j(d)+" "+r.fillsize[1]*j(c)),b.appendChild(f);p.visibility="visible"}};f.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};var x=function(b,d,i){for(var d=c(d).toLowerCase().split("-"),i=i?"end":"start",f=d.length,k="classic",j="medium",n="medium";f--;)switch(d[f]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":k=d[f];break;case "wide":case "narrow":n=d[f];break;case "long":case "short":j=d[f]}b=b.node.getElementsByTagName("stroke")[0];b[i+"arrow"]=k;b[i+"arrowlength"]=j;b[i+"arrowwidth"]=n},R=function(b,g){b.attrs=b.attrs||{};var i=b.node,m=b.attrs,j=i.style,l=N[b.type]&&
(g.x!=m.x||g.y!=m.y||g.width!=m.width||g.height!=m.height||g.cx!=m.cx||g.cy!=m.cy||g.rx!=m.rx||g.ry!=m.ry||g.r!=m.r),p=I[b.type]&&(m.cx!=g.cx||m.cy!=g.cy||m.r!=g.r||m.rx!=g.rx||m.ry!=g.ry),u;for(u in g)g.hasOwnProperty(u)&&(m[u]=g[u]);l&&(m.path=f._getPath[b.type](b),b._.dirty=1);g.href&&(i.href=g.href);g.title&&(i.title=g.title);g.target&&(i.target=g.target);g.cursor&&(j.cursor=g.cursor);"blur"in g&&b.blur(g.blur);if(g.path&&b.type=="path"||l)i.path=J(~c(m.path).toLowerCase().indexOf("r")?f._pathToAbsolute(m.path):
m.path),b.type=="image"&&(b._.fillpos=[m.x,m.y],b._.fillsize=[m.width,m.height],D(b,1,1,0,0,0));"transform"in g&&b.transform(g.transform);if(p){l=+m.cx;p=+m.cy;u=+m.rx||+m.r||0;var t=+m.ry||+m.r||0;i.path=f.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",n((l-u)*21600),n((p-t)*21600),n((l+u)*21600),n((p+t)*21600),n(l*21600))}if("clip-rect"in g){l=c(g["clip-rect"]).split(S);if(l.length==4)l[2]=+l[2]+ +l[0],l[3]=+l[3]+ +l[1],p=i.clipRect||f._g.doc.createElement("div"),u=p.style,u.clip=f.format("rect({1}px {2}px {3}px {0}px)",
l),i.clipRect||(u.position="absolute",u.top=0,u.left=0,u.width=b.paper.width+"px",u.height=b.paper.height+"px",i.parentNode.insertBefore(p,i),p.appendChild(i),i.clipRect=p);g["clip-rect"]||i.clipRect&&(i.clipRect.style.clip="auto")}if(b.textpath)l=b.textpath.style,g.font&&(l.font=g.font),g["font-family"]&&(l.fontFamily='"'+g["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),g["font-size"]&&(l.fontSize=g["font-size"]),g["font-weight"]&&(l.fontWeight=g["font-weight"]),g["font-style"]&&
(l.fontStyle=g["font-style"]);"arrow-start"in g&&x(b,g["arrow-start"]);"arrow-end"in g&&x(b,g["arrow-end"],1);if(g.opacity!=null||g["stroke-width"]!=null||g.fill!=null||g.src!=null||g.stroke!=null||g["stroke-width"]!=null||g["stroke-opacity"]!=null||g["fill-opacity"]!=null||g["stroke-dasharray"]!=null||g["stroke-miterlimit"]!=null||g["stroke-linejoin"]!=null||g["stroke-linecap"]!=null){l=i.getElementsByTagName("fill");l=l&&l[0];!l&&(l=d("fill"));b.type=="image"&&g.src&&(l.src=g.src);g.fill&&(l.on=
!0);if(l.on==null||g.fill=="none"||g.fill===null)l.on=!1;if(l.on&&g.fill)(p=c(g.fill).match(f._ISURL))?(l.parentNode==i&&i.removeChild(l),l.rotate=!0,l.src=p[1],l.type="tile",u=b.getBBox(1),l.position=u.x+" "+u.y,b._.fillpos=[u.x,u.y],f._preload(p[1],function(){b._.fillsize=[this.offsetWidth,this.offsetHeight]})):(l.color=f.getRGB(g.fill).hex,l.src="",l.type="solid",f.getRGB(g.fill).error&&(b.type in{circle:1,ellipse:1}||c(g.fill).charAt()!="r")&&P(b,g.fill,l)&&(m.fill="none",m.gradient=g.fill,l.rotate=
!1));if("fill-opacity"in g||"opacity"in g)u=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+f.getRGB(g.fill).o+1||2)-1),u=r(k(u,0),1),l.opacity=u,l.src&&(l.color="none");i.appendChild(l);l=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0];p=!1;!l&&(p=l=d("stroke"));if(g.stroke&&g.stroke!="none"||g["stroke-width"]||g["stroke-opacity"]!=null||g["stroke-dasharray"]||g["stroke-miterlimit"]||g["stroke-linejoin"]||g["stroke-linecap"])l.on=!0;(g.stroke=="none"||g.stroke===null||
l.on==null||g.stroke==0||g["stroke-width"]==0)&&(l.on=!1);u=f.getRGB(g.stroke);l.on&&g.stroke&&(l.color=u.hex);u=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+u.o+1||2)-1);t=(o(g["stroke-width"])||1)*0.75;u=r(k(u,0),1);g["stroke-width"]==null&&(t=m["stroke-width"]);g["stroke-width"]&&(l.weight=t);t&&t<1&&(u*=t)&&(l.weight=1);l.opacity=u;g["stroke-linejoin"]&&(l.joinstyle=g["stroke-linejoin"]||"miter");l.miterlimit=g["stroke-miterlimit"]||8;g["stroke-linecap"]&&(l.endcap=g["stroke-linecap"]==
"butt"?"flat":g["stroke-linecap"]=="square"?"square":"round");if(g["stroke-dasharray"])u={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},l.dashstyle=u.hasOwnProperty(g["stroke-dasharray"])?u[g["stroke-dasharray"]]:"";p&&i.appendChild(l)}if(b.type=="text"){b.paper.canvas.style.display="";i=b.paper.span;l=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);j=i.style;m.font&&(j.font=
m.font);m["font-family"]&&(j.fontFamily=m["font-family"]);m["font-weight"]&&(j.fontWeight=m["font-weight"]);m["font-style"]&&(j.fontStyle=m["font-style"]);l=o(m["font-size"]||l&&l[0])||10;j.fontSize=l*100+"px";b.textpath.string&&(i.innerHTML=c(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));j=i.getBoundingClientRect();b.W=m.w=(j.right-j.left)/100;b.H=m.h=(j.bottom-j.top)/100;b.X=m.x;b.Y=m.y+b.H/2;("x"in g||"y"in g)&&(b.path.v=f.format("m{0},{1}l{2},{1}",n(m.x*
21600),n(m.y*21600),n(m.x*21600)+1));j="x,y,text,font,font-family,font-weight,font-style,font-size".split(",");i=0;for(l=j.length;i<l;i++)if(j[i]in g){b._.dirty=1;break}switch(m["text-anchor"]){case "start":b.textpath.style["v-text-align"]="left";b.bbx=b.W/2;break;case "end":b.textpath.style["v-text-align"]="right";b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},P=function(b,d,i){b.attrs=b.attrs||{};var m=Math.pow,k="linear",j=".5 .5";
b.attrs.gradient=d;d=c(d).replace(f._radial_gradient,function(b,d,c){k="radial";d&&c&&(d=o(d),c=o(c),m(d-0.5,2)+m(c-0.5,2)>0.25&&(c=p.sqrt(0.25-m(d-0.5,2))*((c>0.5)*2-1)+0.5),j=d+" "+c);return""});d=d.split(/\s*\-\s*/);if(k=="linear"){var l=d.shift(),l=-o(l);if(isNaN(l))return null}d=f._parseDots(d);if(!d)return null;b=b.shape||b.node;if(d.length){b.removeChild(i);i.on=!0;i.method="none";i.color=d[0].color;i.color2=d[d.length-1].color;for(var n=[],r=0,t=d.length;r<t;r++)d[r].offset&&n.push(d[r].offset+
" "+d[r].color);i.colors=n.length?n.join():"0% "+i.color;k=="radial"?(i.type="gradientTitle",i.focus="100%",i.focussize="0 0",i.focusposition=j,i.angle=0):(i.type="gradient",i.angle=(270-l)%360);b.appendChild(i)}return 1},H=function(b,d){this[0]=this.node=b;b.raphael=!0;this.id=f._oid++;b.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=d;this.matrix=f.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!d.bottom&&(d.bottom=this);this.prev=d.top;d.top&&(d.top.next=
this);d.top=this;this.next=null},y=f.el;H.prototype=y;y.constructor=H;y.transform=function(b){if(b==null)return this._.transform;var d=this.paper._viewBoxShift,i=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:"",k;d&&(k=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||""));f._extractTransform(this,i+b);var d=this.matrix.clone(),j=this.skew,b=this.node,i=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url(");d.translate(-0.5,-0.5);l||i||this.type=="image"?(j.matrix="1 0 0 1",j.offset=
"0 0",j=d.split(),i&&j.noRotation||!j.isSimple?(b.style.filter=d.toFilter(),i=this.getBBox(),j=this.getBBox(1),d=i.x-j.x,i=i.y-j.y,b.coordorigin=d*-21600+" "+i*-21600,D(this,1,1,d,i,0)):(b.style.filter="",D(this,j.scalex,j.scaley,j.dx,j.dy,j.rotate))):(b.style.filter="",j.matrix=c(d),j.offset=d.offset());k&&(this._.transform=k);return this};y.rotate=function(b,d,i){if(this.removed)return this;if(b!=null){b=c(b).split(S);b.length-1&&(d=o(b[1]),i=o(b[2]));b=o(b[0]);i==null&&(d=i);if(d==null||i==null)i=
this.getBBox(1),d=i.x+i.width/2,i=i.y+i.height/2;this._.dirtyT=1;this.transform(this._.transform.concat([["r",b,d,i]]));return this}};y.translate=function(b,d){if(this.removed)return this;b=c(b).split(S);b.length-1&&(d=o(b[1]));b=o(b[0])||0;d=+d||0;this._.bbox&&(this._.bbox.x+=b,this._.bbox.y+=d);this.transform(this._.transform.concat([["t",b,d]]));return this};y.scale=function(b,d,i,f){if(this.removed)return this;b=c(b).split(S);b.length-1&&(d=o(b[1]),i=o(b[2]),f=o(b[3]),isNaN(i)&&(i=null),isNaN(f)&&
(f=null));b=o(b[0]);d==null&&(d=b);f==null&&(i=f);if(i==null||f==null)var k=this.getBBox(1);i=i==null?k.x+k.width/2:i;f=f==null?k.y+k.height/2:f;this.transform(this._.transform.concat([["s",b,d,i,f]]));this._.dirtyT=1;return this};y.hide=function(){!this.removed&&(this.node.style.display="none");return this};y.show=function(){!this.removed&&(this.node.style.display="");return this};y._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};
y.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);f.eve.unbind("raphael.*.*."+this.id);f._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]=typeof this[b]=="function"?f._removedFactory(b):null;this.removed=!0}};y.attr=function(b,d){if(this.removed)return this;if(b==null){var c={},k;for(k in this.attrs)this.attrs.hasOwnProperty(k)&&(c[k]=
this.attrs[k]);c.gradient&&c.fill=="none"&&(c.fill=c.gradient)&&delete c.gradient;c.transform=this._.transform;return c}if(d==null&&f.is(b,"string")){if(b=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;k=b.split(S);for(var c={},j=0,l=k.length;j<l;j++)b=k[j],b in this.attrs?c[b]=this.attrs[b]:f.is(this.paper.customAttributes[b],"function")?c[b]=this.paper.customAttributes[b].def:c[b]=f._availableAttrs[b];return l-1?c:c[k[0]]}if(this.attrs&&d==null&&f.is(b,"array")){c=
{};for(j=0,l=b.length;j<l;j++)c[b[j]]=this.attr(b[j]);return c}d!=null&&(c={},c[b]=d);d==null&&f.is(b,"object")&&(c=b);for(j in c)T("raphael.attr."+j+"."+this.id,this,c[j]);if(c){for(j in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(j)&&c.hasOwnProperty(j)&&f.is(this.paper.customAttributes[j],"function"))for(l in k=this.paper.customAttributes[j].apply(this,[].concat(c[j])),this.attrs[j]=c[j],k)k.hasOwnProperty(l)&&(c[l]=k[l]);c.text&&this.type=="text"&&(this.textpath.string=
c.text);R(this,c)}return this};y.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&f._tofront(this,this.paper);return this};y.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),f._toback(this,this.paper));return this};y.insertAfter=function(b){if(this.removed)return this;b.constructor==f.st.constructor&&(b=b[b.length-1]);
b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node);f._insertafter(this,b,this.paper);return this};y.insertBefore=function(b){if(this.removed)return this;b.constructor==f.st.constructor&&(b=b[0]);b.node.parentNode.insertBefore(this.node,b.node);f._insertbefore(this,b,this.paper);return this};y.blur=function(b){var d=this.node.runtimeStyle,c=d.filter;c=c.replace(w,"");+b!==0?(this.attrs.blur=b,d.filter=c+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+
(+b||1.5)+")",d.margin=f.format("-{0}px 0 0 -{0}px",n(+b||1.5))):(d.filter=c,d.margin=0,delete this.attrs.blur)};f._engine.path=function(b,c){var f=d("shape");f.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";f.coordsize="21600 21600";f.coordorigin=c.coordorigin;var k=new H(f,c),j={fill:"none",stroke:"#000"};b&&(j.path=b);k.type="path";k.path=[];k.Path="";R(k,j);c.canvas.appendChild(f);j=d("skew");j.on=!0;f.appendChild(j);k.skew=j;k.transform("");return k};f._engine.rect=function(b,
d,c,k,j,l){var n=f._rectPath(d,c,k,j,l),b=b.path(n),r=b.attrs;b.X=r.x=d;b.Y=r.y=c;b.W=r.width=k;b.H=r.height=j;r.r=l;r.path=n;b.type="rect";return b};f._engine.ellipse=function(b,d,c,f,k){b=b.path();b.X=d-f;b.Y=c-k;b.W=f*2;b.H=k*2;b.type="ellipse";R(b,{cx:d,cy:c,rx:f,ry:k});return b};f._engine.circle=function(b,d,c,f){b=b.path();b.X=d-f;b.Y=c-f;b.W=b.H=f*2;b.type="circle";R(b,{cx:d,cy:c,r:f});return b};f._engine.image=function(b,d,c,k,j,l){var n=f._rectPath(c,k,j,l),b=b.path(n).attr({stroke:"none"}),
r=b.attrs,o=b.node,p=o.getElementsByTagName("fill")[0];r.src=d;b.X=r.x=c;b.Y=r.y=k;b.W=r.width=j;b.H=r.height=l;r.path=n;b.type="image";p.parentNode==o&&o.removeChild(p);p.rotate=!0;p.src=d;p.type="tile";b._.fillpos=[c,k];b._.fillsize=[j,l];o.appendChild(p);D(b,1,1,0,0,0);return b};f._engine.text=function(b,g,k,j){var l=d("shape"),r=d("path"),o=d("textpath");g=g||0;k=k||0;j=j||"";r.v=f.format("m{0},{1}l{2},{1}",n(g*21600),n(k*21600),n(g*21600)+1);r.textpathok=!0;o.string=c(j);o.on=!0;l.style.cssText=
"position:absolute;left:0;top:0;width:1px;height:1px";l.coordsize="21600 21600";l.coordorigin="0 0";var p=new H(l,b),t={fill:"#000",stroke:"none",font:f._availableAttrs.font,text:j};p.shape=l;p.path=r;p.textpath=o;p.type="text";p.attrs.text=c(j);p.attrs.x=g;p.attrs.y=k;p.attrs.w=1;p.attrs.h=1;R(p,t);l.appendChild(o);l.appendChild(r);b.canvas.appendChild(l);b=d("skew");b.on=!0;l.appendChild(b);p.skew=b;p.transform("");return p};f._engine.setSize=function(b,d){var c=this.canvas.style;this.width=b;this.height=
d;b==+b&&(b+="px");d==+d&&(d+="px");c.width=b;c.height=d;c.clip="rect(0 "+b+" "+d+" 0)";this._viewBox&&f._engine.setViewBox.apply(this,this._viewBox);return this};f._engine.setViewBox=function(b,d,c,j,l){f.eve("raphael.setViewBox",this,this._viewBox,[b,d,c,j,l]);var n=this.width,r=this.height,o=1/k(c/n,j/r),p,t;l&&(p=r/j,t=n/c,c*p<n&&(b-=(n-c*p)/2/p),j*t<r&&(d-=(r-j*t)/2/t));this._viewBox=[b,d,c,j,!!l];this._viewBoxShift={dx:-b,dy:-d,scale:o};this.forEach(function(b){b.transform("...")});return this};
var d;f._engine.initWin=function(b){var c=b.document;c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!c.namespaces.rvml&&c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),d=function(b){return c.createElement("<rvml:"+b+' class="rvml">')}}catch(f){d=function(b){return c.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};f._engine.initWin(f._g.win);f._engine.create=function(){var b=f._getContainer.apply(0,arguments),d=b.container,c=b.height,
k=b.width,j=b.x,b=b.y;if(!d)throw Error("VML container not found.");var l=new f._Paper,n=l.canvas=f._g.doc.createElement("div"),r=n.style;j=j||0;b=b||0;k=k||512;c=c||342;l.width=k;l.height=c;k==+k&&(k+="px");c==+c&&(c+="px");l.coordsize="21600000 21600000";l.coordorigin="0 0";l.span=f._g.doc.createElement("span");l.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";n.appendChild(l.span);r.cssText=f.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",
k,c);d==1?(f._g.doc.body.appendChild(n),r.left=j+"px",r.top=b+"px",r.position="absolute"):d.firstChild?d.insertBefore(n,d.firstChild):d.appendChild(n);l.renderfix=function(){};return l};f.prototype.clear=function(){f.eve("raphael.clear",this);this.canvas.innerHTML="";this.span=f._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};f.prototype.remove=
function(){f.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]=typeof this[b]=="function"?f._removedFactory(b):null;return!0};var t=f.st,A;for(A in y)y.hasOwnProperty(A)&&!t.hasOwnProperty(A)&&(t[A]=function(b){return function(){var d=arguments;return this.forEach(function(c){c[b].apply(c,d)})}}(A))}(window.Raphael);
Raphael.fn.importSVG=function(f,c){try{if(typeof f==="undefined")throw"No data was provided.";f=f.replace(/\n|\r|\t/gi,"");if(!f.match(/<svg(.*?)>(.*)<\/svg>/i))throw"The data you entered doesn't contain valid SVG.";for(var o=RegExp('([a-z-]+)="(.*?)"',"gi"),p=RegExp("([a-z-]+) ?: ?([^ ;]+)[ ;]?","gi"),n=RegExp("<(rect|polyline|circle|ellipse|path|polygon|image|text).*?/>","gi");match=n.exec(f);){for(var k,r,j={fill:"#000"},S=RegExp.$1;o.exec(match);)switch(RegExp.$1){case "stroke-dasharray":j[RegExp.$1]=
"- ";break;case "style":r=RegExp.$2;break;default:j[RegExp.$1]=RegExp.$2}typeof j["stroke-width"]==="undefined"&&(j["stroke-width"]=typeof j.stroke==="undefined"?0:1);if(r)for(;p.exec(r);)j[RegExp.$1]=RegExp.$2;switch(S){case "rect":k=this.rect();break;case "circle":k=this.circle();break;case "ellipse":k=this.ellipse();break;case "path":k=this.path(j.d);break;case "polygon":k=this.polygon(j.points);break;case "image":k=this.image()}k.attr(j);typeof c!=="undefined"&&c.push(k)}}catch(T){alert("The SVG data you entered was invalid! ("+
T+")")}};Raphael.fn.polygon=function(f){for(var c=["M"],f=f.split(" "),o=0;o<f.length;o++){for(var p=f[o].split(","),n=0;n<p.length;n++){var k=parseFloat(p[n]);k&&c.push(k)}o==0&&c.push("L")}c.push("Z");return this.path(c)};
(function(f){function c(c){var k=c||window.event,r=[].slice.call(arguments,1),j=0,o=0,p=0;return c=f.event.fix(k),c.type="mousewheel",k.wheelDelta&&(j=k.wheelDelta/120),k.detail&&(j=-k.detail/3),p=j,k.axis!==void 0&&k.axis===k.HORIZONTAL_AXIS&&(p=0,o=-1*j),k.wheelDeltaY!==void 0&&(p=k.wheelDeltaY/120),k.wheelDeltaX!==void 0&&(o=-1*k.wheelDeltaX/120),r.unshift(c,j,o,p),(f.event.dispatch||f.event.handle).apply(this,r)}var o=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks)for(var p=o.length;p;)f.event.fixHooks[o[--p]]=
f.event.mouseHooks;f.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var f=o.length;f;)this.addEventListener(o[--f],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var f=o.length;f;)this.removeEventListener(o[--f],c,!1);else this.onmousewheel=null}};f.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},unmousewheel:function(c){return this.unbind("mousewheel",c)}})})(jQuery);
(function(f){var c={ytplayers:{},inits:[],iframeScriptInited:!1,inited:!1};f.tubeplayer={};f.tubeplayer.defaults={afterReady:function(){},stateChange:function(c){var f=this.onPlayer;return function(j){if(typeof j=="object")j=j.data;switch(j){case -1:return f.unstarted[c]();case 0:return f.ended[c]();case 1:return f.playing[c]();case 2:return f.paused[c]();case 3:return f.buffering[c]();case 5:return f.cued[c]();default:return null}}},onError:function(c){var f=this.onErr;return function(j){if(typeof j==
"object")j=j.data;switch(j){case 2:return f.invalidParameter[c]();case 100:return f.notFound[c]();case 101:case 150:return f.notEmbeddable[c]();default:return null}}},qualityChange:function(c){var f=this;return function(j){if(typeof j=="object")j=j.data;return f.onQualityChange[c](j)}},onQualityChange:{},onPlayer:{unstarted:{},ended:{},playing:{},paused:{},buffering:{},cued:{}},onErr:{notFound:{},notEmbeddable:{},invalidParameter:{}}};var o={width:425,height:355,allowFullScreen:"true",initialVideo:"DkoeNLuMbcI",
start:0,preferredQuality:"default",showControls:!0,showRelated:!1,autoPlay:!1,autoHide:!0,theme:"dark",color:"red",showinfo:!1,modestbranding:!0,wmode:"transparent",swfobjectURL:"http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",loadSWFObject:!0,allowScriptAccess:"always",playerID:"tubeplayer-player-container",iframed:!0,onPlay:function(){},onPause:function(){},onStop:function(){},onSeek:function(){},onMute:function(){},onUnMute:function(){},onPlayerUnstarted:function(){},onPlayerEnded:function(){},
onPlayerPlaying:function(){},onPlayerPaused:function(){},onPlayerBuffering:function(){},onPlayerCued:function(){},onQualityChange:function(){},onErrorNotFound:function(){},onErrorNotEmbeddable:function(){},onErrorInvalidParameter:function(){}};f.fn.tubeplayer=function(k,n){var j=f(this),o=typeof k;if(arguments.length==0||o=="object")return j.each(function(){c.init(f(this),k)});else if(o=="string")return j.triggerHandler(k+".tubeplayer",n||null)};var p=function(f){return function(n,j){var o=c.getPkg(n);
if(o.ytplayer){n=f(n,j,o);if(typeof n=="undefined")n=o.$player;return n}return o.$player}};f.tubeplayer.getPlayers=function(){return c.ytplayers};c.init=function(k,r){if(k.hasClass("jquery-youtube-tubeplayer"))return k;r=f.extend({},o,r);r.playerID=r.playerID+(new Date).valueOf()+"_"+Math.random();k.addClass("jquery-youtube-tubeplayer").data("opts.tubeplayer",r);for(e in n)k.bind(e+".tubeplayer",k,n[e]);c.initDefaults(f.tubeplayer.defaults,r);jQuery("<div></div>").attr("id",r.playerID).appendTo(k);
c.initPlayer(k,r);return k};c.getPkg=function(f){var f=f.data,n=f.data("opts.tubeplayer");return{$player:f,opts:n,ytplayer:c.ytplayers[n.playerID]}};c.iframeReady=function(k){c.inits.push(function(){new YT.Player(k.playerID,{videoId:k.initialVideo,width:k.width,height:k.height,playerVars:{autoplay:k.autoPlay?1:0,autohide:k.autoHide?1:0,controls:k.showControls?1:0,rel:k.showRelated?1:0,fs:k.allowFullScreen?1:0,wmode:k.wmode,showinfo:k.showinfo?1:0,modestbranding:k.modestbranding?1:0,start:k.start,
theme:k.theme,color:k.color},events:{onReady:function(n){c.ytplayers[k.playerID]=n.target;n=f(n.target).parents(".jquery-youtube-tubeplayer");f.tubeplayer.defaults.afterReady(n)},onPlaybackQualityChange:f.tubeplayer.defaults.qualityChange(k.playerID),onStateChange:f.tubeplayer.defaults.stateChange(k.playerID),onError:f.tubeplayer.defaults.onError(k.playerID)}})});if(c.inits.length>=1&&!c.inited)return function(){for(var f=0;f<c.inits.length;f++)c.inits[f]();c.inited=!0};c.inited&&c.inits.pop()();
return onYouTubePlayerAPIReady};c.supportsHTML5=function(){return!!document.createElement("video").canPlayType};c.initDefaults=function(c,f){var j=f.playerID,n=c.onPlayer;n.unstarted[j]=f.onPlayerUnstarted;n.ended[j]=f.onPlayerEnded;n.playing[j]=f.onPlayerPlaying;n.paused[j]=f.onPlayerPaused;n.buffering[j]=f.onPlayerBuffering;n.cued[j]=f.onPlayerCued;c.onQualityChange[j]=f.onQualityChange;c=c.onErr;c.notFound[j]=f.onErrorNotFound;c.notEmbeddable[j]=f.onErrorNotEmbeddable;c.invalidParameter[j]=f.onErrorInvalidParameter};
c.initPlayer=function(f,n){n.iframed&&c.supportsHTML5()?c.initIframePlayer(f,n):c.initFlashPlayer(f,n)};c.initIframePlayer=function(f,n){if(!c.iframeScriptInited){f=document.createElement("script");f.src="http://www.youtube.com/player_api";var j=document.getElementsByTagName("script")[0];j.parentNode.insertBefore(f,j);c.iframeScriptInited=!0}onYouTubePlayerAPIReady=c.iframeReady(n)};c.initFlashPlayer=function(k,n){n.loadSWFObject?f.getScript(n.swfobjectURL,c.initFlashPlayerFN(n)):c.initFlashPlayerFN(n)()};
c.initFlashPlayerFN=function(k){return function(){var n=["//www.youtube.com/v/"];n.push(k.initialVideo);n.push("?fs="+(k.allowFullScreen?1:0));n.push("&enablejsapi=1&version=3");n.push("&playerapiid="+k.playerID);n.push("&rel= "+(k.showRelated?1:0));n.push("&autoplay="+(k.autoPlay?1:0));n.push("&autohide="+(k.autoHide?1:0));n.push("&controls="+(k.showControls?1:0));n.push("&showinfo="+(k.showinfo?1:0));n.push("&modestbranding="+(k.modestbranding?1:0));n.push("&start="+k.start);n.push("&theme="+k.theme);
n.push("&color="+k.color);swfobject.embedSWF(n.join(""),k.playerID,k.width,k.height,"8",null,null,{allowScriptAccess:k.allowScriptAccess,wmode:k.wmode,allowFullScreen:k.allowFullScreen},{id:k.playerID});onYouTubePlayerReady=function(k){var n=document.getElementById(k);c.ytplayers[k]=n;n.addEventListener("onStateChange","$.tubeplayer.defaults.stateChange('"+k+"')");n.addEventListener("onError","$.tubeplayer.defaults.onError('"+k+"')");n.addEventListener("onPlaybackQualityChange","$.tubeplayer.defaults.qualityChange('"+
k+"')");k=f(n).parents(".jquery-youtube-tubeplayer");f.tubeplayer.defaults.afterReady(k)}}};c.getVideoIDFromURL=function(c){var f=c.indexOf("?"),c=c.substring(f,c.length),f=c.indexOf("v=");if(f>-1){var j=c.indexOf("&",f);if(j==-1)j=c.length;return videoParam=c.substring(f+2,j)}return""};var n={cue:p(function(c,f,j){j.ytplayer.cueVideoById(f,j.opts.preferredQuality)}),play:p(function(c,f,j){typeof f=="object"?j.ytplayer.loadVideoById(f.id,f.time,j.opts.preferredQuality):f?j.ytplayer.loadVideoById(f,
0,j.opts.preferredQuality):j.ytplayer.playVideo();j.opts.onPlay(f)}),pause:p(function(c,f,j){j.ytplayer.pauseVideo();j.opts.onPause()}),stop:p(function(c,f,j){j.ytplayer.stopVideo();j.opts.onStop()}),seek:p(function(c,f,j){j.ytplayer.seekTo(f,!0);j.opts.onSeek(f)}),mute:p(function(c,f,j){j.$player.attr("data-prev-mute-volume",j.ytplayer.getVolume());j.ytplayer.mute();j.opts.onMute()}),unmute:p(function(c,f,j){j.ytplayer.unMute();j.ytplayer.setVolume(j.$player.attr("data-prev-mute-volume")||50);j.opts.onUnMute()}),
isMuted:p(function(c,f,j){return j.ytplayer.isMuted()}),volume:p(function(c,f,j){if(f)j.ytplayer.setVolume(f),j.$player.attr("data-prev-mute-volume",j.ytplayer.getVolume());else return j.ytplayer.getVolume()||0}),quality:p(function(c,f,j){if(f)j.ytplayer.setPlaybackQuality(f);else return j.ytplayer.getPlaybackQuality()}),data:p(function(f,n,j){f={};j=j.ytplayer;f.bytesLoaded=j.getVideoBytesLoaded();f.bytesTotal=j.getVideoBytesTotal();f.startBytes=j.getVideoStartBytes();f.state=j.getPlayerState();
f.currentTime=j.getCurrentTime();f.availableQualityLevels=j.getAvailableQualityLevels();f.duration=j.getDuration();f.videoURL=j.getVideoUrl();f.getVideoEmbedCode=j.getVideoEmbedCode();f.videoID=c.getVideoIDFromURL(f.videoURL);return f}),videoId:p(function(f,n,j){return c.getVideoIDFromURL(j.ytplayer.getVideoUrl())}),size:p(function(c,n,j){n.width&&n.height&&(j.ytplayer.setSize(n.width,n.height),f(j.ytplayer).css(n))}),destroy:p(function(k,n,j){j.$player.removeClass("jquery-youtube-tubeplayer").data("opts.tubeplayer",
null).unbind(".tubeplayer").html("");delete c.ytplayers[j.opts.playerID];f(j.ytplayer).remove();return null}),player:p(function(c,f,j){return j.ytplayer})}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(f,c,o,p,n){return jQuery.easing[jQuery.easing.def](f,c,o,p,n)},easeInQuad:function(f,c,o,p,n){return p*(c/=n)*c+o},easeOutQuad:function(f,c,o,p,n){return-p*(c/=n)*(c-2)+o},easeInOutQuad:function(f,c,o,p,n){return(c/=n/2)<1?p/2*c*c+o:-p/2*(--c*(c-2)-1)+o},easeInCubic:function(f,c,o,p,n){return p*(c/=n)*c*c+o},easeOutCubic:function(f,c,o,p,n){return p*((c=c/n-1)*c*c+1)+o},easeInOutCubic:function(f,c,o,p,n){return(c/=n/2)<1?p/2*c*c*c+o:p/
2*((c-=2)*c*c+2)+o},easeInQuart:function(f,c,o,p,n){return p*(c/=n)*c*c*c+o},easeOutQuart:function(f,c,o,p,n){return-p*((c=c/n-1)*c*c*c-1)+o},easeInOutQuart:function(f,c,o,p,n){return(c/=n/2)<1?p/2*c*c*c*c+o:-p/2*((c-=2)*c*c*c-2)+o},easeInQuint:function(f,c,o,p,n){return p*(c/=n)*c*c*c*c+o},easeOutQuint:function(f,c,o,p,n){return p*((c=c/n-1)*c*c*c*c+1)+o},easeInOutQuint:function(f,c,o,p,n){return(c/=n/2)<1?p/2*c*c*c*c*c+o:p/2*((c-=2)*c*c*c*c+2)+o},easeInSine:function(f,c,o,p,n){return-p*Math.cos(c/
n*(Math.PI/2))+p+o},easeOutSine:function(f,c,o,p,n){return p*Math.sin(c/n*(Math.PI/2))+o},easeInOutSine:function(f,c,o,p,n){return-p/2*(Math.cos(Math.PI*c/n)-1)+o},easeInExpo:function(f,c,o,p,n){return c==0?o:p*Math.pow(2,10*(c/n-1))+o},easeOutExpo:function(f,c,o,p,n){return c==n?o+p:p*(-Math.pow(2,-10*c/n)+1)+o},easeInOutExpo:function(f,c,o,p,n){return c==0?o:c==n?o+p:(c/=n/2)<1?p/2*Math.pow(2,10*(c-1))+o:p/2*(-Math.pow(2,-10*--c)+2)+o},easeInCirc:function(f,c,o,p,n){return-p*(Math.sqrt(1-(c/=n)*
c)-1)+o},easeOutCirc:function(f,c,o,p,n){return p*Math.sqrt(1-(c=c/n-1)*c)+o},easeInOutCirc:function(f,c,o,p,n){return(c/=n/2)<1?-p/2*(Math.sqrt(1-c*c)-1)+o:p/2*(Math.sqrt(1-(c-=2)*c)+1)+o},easeInElastic:function(f,c,o,p,n){var f=1.70158,k=0,r=p;if(c==0)return o;if((c/=n)==1)return o+p;k||(k=n*0.3);r<Math.abs(p)?(r=p,f=k/4):f=k/(2*Math.PI)*Math.asin(p/r);return-(r*Math.pow(2,10*(c-=1))*Math.sin((c*n-f)*2*Math.PI/k))+o},easeOutElastic:function(f,c,o,p,n){var f=1.70158,k=0,r=p;if(c==0)return o;if((c/=
n)==1)return o+p;k||(k=n*0.3);r<Math.abs(p)?(r=p,f=k/4):f=k/(2*Math.PI)*Math.asin(p/r);return r*Math.pow(2,-10*c)*Math.sin((c*n-f)*2*Math.PI/k)+p+o},easeInOutElastic:function(f,c,o,p,n){var f=1.70158,k=0,r=p;if(c==0)return o;if((c/=n/2)==2)return o+p;k||(k=n*0.3*1.5);r<Math.abs(p)?(r=p,f=k/4):f=k/(2*Math.PI)*Math.asin(p/r);return c<1?-0.5*r*Math.pow(2,10*(c-=1))*Math.sin((c*n-f)*2*Math.PI/k)+o:r*Math.pow(2,-10*(c-=1))*Math.sin((c*n-f)*2*Math.PI/k)*0.5+p+o},easeInBack:function(f,c,o,p,n,k){k==void 0&&
(k=1.70158);return p*(c/=n)*c*((k+1)*c-k)+o},easeOutBack:function(f,c,o,p,n,k){k==void 0&&(k=1.70158);return p*((c=c/n-1)*c*((k+1)*c+k)+1)+o},easeInOutBack:function(f,c,o,p,n,k){k==void 0&&(k=1.70158);return(c/=n/2)<1?p/2*c*c*(((k*=1.525)+1)*c-k)+o:p/2*((c-=2)*c*(((k*=1.525)+1)*c+k)+2)+o},easeInBounce:function(f,c,o,p,n){return p-jQuery.easing.easeOutBounce(f,n-c,0,p,n)+o},easeOutBounce:function(f,c,o,p,n){return(c/=n)<1/2.75?p*7.5625*c*c+o:c<2/2.75?p*(7.5625*(c-=1.5/2.75)*c+0.75)+o:c<2.5/2.75?p*
(7.5625*(c-=2.25/2.75)*c+0.9375)+o:p*(7.5625*(c-=2.625/2.75)*c+0.984375)+o},easeInOutBounce:function(f,c,o,p,n){return c<n/2?jQuery.easing.easeInBounce(f,c*2,0,p,n)*0.5+o:jQuery.easing.easeOutBounce(f,c*2-n,0,p,n)*0.5+p*0.5+o}});
(function(f){function c(c,f,o,j,p){this._listener=f;this._isOnce=o;this.context=j;this._signal=c;this._priority=p||0}function o(c,f){if(typeof c!=="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",f));}var p={VERSION:"0.7.4"};c.prototype={active:!0,params:null,execute:function(c){var f;this.active&&this._listener&&(c=this.params?this.params.concat(c):c,f=this._listener.apply(this.context,c),this._isOnce&&this.detach());return f},detach:function(){return this.isBound()?
this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal;delete this._listener;delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};p.Signal=function(){this._bindings=[];this._prevParams=null};p.Signal.prototype={memorize:!1,_shouldPropagate:!0,
active:!0,_registerListener:function(f,k,o,j){var p=this._indexOfListener(f,o);if(p!==-1){if(f=this._bindings[p],f.isOnce()!==k)throw Error("You cannot add"+(k?"":"Once")+"() then add"+(!k?"":"Once")+"() the same listener without removing the relationship first.");}else f=new c(this,f,k,o,j),this._addBinding(f);this.memorize&&this._prevParams&&f.execute(this._prevParams);return f},_addBinding:function(c){var f=this._bindings.length;do--f;while(this._bindings[f]&&c._priority<=this._bindings[f]._priority);
this._bindings.splice(f+1,0,c)},_indexOfListener:function(c,f){for(var o=this._bindings.length,j;o--;)if(j=this._bindings[o],j._listener===c&&j.context===f)return o;return-1},has:function(c,f){return this._indexOfListener(c,f)!==-1},add:function(c,f,p){o(c,"add");return this._registerListener(c,!1,f,p)},addOnce:function(c,f,p){o(c,"addOnce");return this._registerListener(c,!0,f,p)},remove:function(c,f){o(c,"remove");var p=this._indexOfListener(c,f);p!==-1&&(this._bindings[p]._destroy(),this._bindings.splice(p,
1));return c},removeAll:function(){for(var c=this._bindings.length;c--;)this._bindings[c]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(c){if(this.active){var f=Array.prototype.slice.call(arguments),o=this._bindings.length,j;if(this.memorize)this._prevParams=f;if(o){j=this._bindings.slice();this._shouldPropagate=!0;do o--;while(j[o]&&this._shouldPropagate&&j[o].execute(f)!==!1)}}},forget:function(){this._prevParams=
null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};typeof define==="function"&&define.amd?define(p):typeof module!=="undefined"&&module.exports?module.exports=p:f.signals=p})(this);
(function(){for(var f=0,c=["ms","moz","webkit","o"],o=0;o<c.length&&!window.requestAnimationFrame;++o)window.requestAnimationFrame=window[c[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[o]+"CancelAnimationFrame"]||window[c[o]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame)window.requestAnimationFrame=function(c){var n=(new Date).getTime(),k=Math.max(0,16-(n-f)),o=window.setTimeout(function(){c(n+k)},k);f=n+k;return o};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=
function(c){clearTimeout(c)}})();function getQueryString(){for(var f={},c=location.search.substring(1),o=/([^&=]+)=([^&]*)/g,p;p=o.exec(c);)f[decodeURIComponent(p[1])]=decodeURIComponent(p[2]);return f};
$(document).ready(function(){App.init()});
